<!DOCTYPE html>
<html lang="en">
    <head>
        <title>STARBLAST.IO</title>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui=1">
        <meta charset="UTF-8">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="manifest" href="https://starblast.io/manifest.json">
        <meta name="description" content="Multiplayer Arcade Space Shooter io Game! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
        <meta name="keywords" content="io, starblastio, starblast, iogame, star wars, shoot'em up, spaceship, game, games, web game, io games, html5, fun, flash">
        <meta property="og:title" content="starblast.io">
        <meta property="og:type" content="website">
        <meta property="og:description" content="Multiplayer Arcade Space Shooter io Game! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
        <meta property="og:url" content="https://starblast.io/">
        <meta property="og:site_name" content="starblast.io">
        <meta property="og:image" content="https://starblast.io/static/img/starblast.png?2">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="@starblast_io">
        <meta name="twitter:creator" content="@neuronality">
        <meta name="twitter:title" content="Starblast.io, free online shoot'em up">
        <meta name="twitter:description" content="Multiplayer Arcade Space Shooter io Game! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!">
        <meta name="twitter:image" content="https://starblast.io/static/img/starblast.png?2">
        <link rel="icon" type="image/png" href="https://starblast.io/static/img/icon64.png"/>
        <link rel="image_src" href="https://starblast.io/static/img/starblast.png?2">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <style>
              @font-face {
                font-family: 'SBGlyphs';
                src: url('https://starblast.data.neuronality.com/fonts/starblast-glyphs.ttf?v=1');
                font-weight: normal;
                font-style: normal
            }

            .sbg {
                display: inline-block;
                font: normal normal normal 14px/1 SBGlyphs;
                font-size: inherit;
                text-rendering: auto;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale
            }

            .sbg-fw {
                width: 1.28571429em;
                text-align: center
            }

            .sbg-wiki:before {
                content: "\0021"
            }

            .sbg-lock:before {
                content: "\0022"
            }

            .sbg-tick:before {
                content: "\0023"
            }

            .sbg-heart:before {
                content: "\0024"
            }

            .sbg-shield-mid:before {
                content: "\0025"
            }

            .sbg-lightning:before {
                content: "\0026"
            }

            .sbg-lightning-mid:before {
                content: "\0027"
            }

            .sbg-lightning-full:before {
                content: "\0028"
            }

            .sbg-diamond:before {
                content: "\0029"
            }

            .sbg-times:before {
                content: "\002a"
            }

            .sbg-crosshair:before {
                content: "\002b"
            }

            .sbg-fullscreen:before {
                content: "\002c"
            }

            .sbg-trophy:before {
                content: "\002d"
            }

            .sbg-trophy-full:before {
                content: "\002e"
            }

            .sbg-asteroid:before {
                content: "\002f"
            }

            .sbg-alien:before {
                content: "\0030"
            }

            .sbg-team:before {
                content: "\0031"
            }

            .sbg-world:before {
                content: "\0032"
            }

            .sbg-station:before {
                content: "\0033"
            }

            .sbg-station-full:before {
                content: "\0034"
            }

            .sbg-station-inverted:before {
                content: "\0035"
            }

            .sbg-plus:before {
                content: "\0036"
            }

            .sbg-plus-full:before {
                content: "\0037"
            }

            .sbg-plus-inverted:before {
                content: "\0038"
            }

            .sbg-coins:before {
                content: "\0039"
            }

            .sbg-vulcan:before {
                content: "\003a"
            }

            .sbg-wait:before {
                content: "\003b"
            }

            .sbg-yes:before {
                content: "\003c"
            }

            .sbg-no:before {
                content: "\003d"
            }

            .sbg-you:before {
                content: "\003e"
            }

            .sbg-me:before {
                content: "\003f"
            }

            .sbg-follow:before {
                content: "\0040"
            }

            .sbg-happy:before {
                content: "\0041"
            }

            .sbg-menu:before {
                content: "\0042"
            }

            .sbg-infinity:before {
                content: "\0043"
            }

            .sbg-diamond-full:before {
                content: "\0044"
            }

            .sbg-vulkan-full:before {
                content: "\0045"
            }

            .sbg-bye-full:before {
                content: "\0046"
            }

            .sbg-np-full:before {
                content: "\0047"
            }

            .sbg-wait-full:before {
                content: "\0048"
            }

            .sbg-attack-full:before {
                content: "\0049"
            }

            .sbg-help-full:before {
                content: "\004a"
            }

            .sbg-question-full:before {
                content: "\004b"
            }

            .sbg-yes-full:before {
                content: "\004c"
            }

            .sbg-no-full:before {
                content: "\004d"
            }

            .sbg-you-full:before {
                content: "\004e"
            }

            .sbg-me-full:before {
                content: "\004f"
            }

            .sbg-follow-full:before {
                content: "\0050"
            }

            .sbg-fire-full:before {
                content: "\0060"
            }

            .sbg-fly-mid:before {
                content: "\0061"
            }

            .sbg-shield-capacity:before {
                content: "\0062"
            }

            .sbg-shield-regen:before {
                content: "\0063"
            }

            .sbg-generator-capacity:before {
                content: "\0064"
            }

            .sbg-generator-regen:before {
                content: "\0065"
            }

            .sbg-fire-damage:before {
                content: "\0066"
            }

            .sbg-fire-speed:before {
                content: "\0067"
            }

            .sbg-ship-speed:before {
                content: "\0068"
            }

            .sbg-ship-agility:before {
                content: "\0069"
            }

            .sbg-torpedo:before {
                content: "\006a"
            }

            .sbg-missile:before {
                content: "\006b"
            }

            .sbg-rocket:before {
                content: "\006c"
            }

            .sbg-mine:before {
                content: "\006d"
            }

            .sbg-heavy-mine:before {
                content: "\006e"
            }

            .sbg-mining-pod:before {
                content: "\006f"
            }

            .sbg-attack-pod:before {
                content: "\0070"
            }

            .sbg-defense-pod:before {
                content: "\0071"
            }

            .sbg-thrust:before {
                content: "\0072"
            }

            .sbg-fly:before {
                content: "\0073"
            }

            .sbg-fire:before {
                content: "\0074"
            }

            .sbg-shop:before {
                content: "\0075"
            }

            .sbg-rcs-on:before {
                content: "\0076"
            }

            .sbg-rcs-off:before {
                content: "\0077"
            }

            .sbg-gears:before {
                content: "\0078"
            }

            .sbg-user:before {
                content: "\0079"
            }

            .sbg-info:before {
                content: "\007a"
            }

            .sbg-discord:before {
                content: "\007b"
            }

            .sbg-facebook:before {
                content: "\007c"
            }

            .sbg-twitter:before {
                content: "\007d"
            }

            .sbg-reddit:before {
                content: "\007e"
            }

            .sbg-skull-full:before {
                content: "\007f"
            }

            .sbg-sorry:before {
                content: "\00a1"
            }

            .sbg-np:before {
                content: "\00a2"
            }

            .sbg-gg:before {
                content: "\00a3"
            }

            .sbg-bye:before {
                content: "\00a4"
            }

            .sbg-help:before {
                content: "\00a5"
            }

            .sbg-skull:before {
                content: "\00a6"
            }

            .sbg-question:before {
                content: "\00a7"
            }

            .sbg-attack:before {
                content: "\00a8"
            }

            .sbg-caret-up:before {
                content: "\00a9"
            }

            .sbg-caret-down:before {
                content: "\00aa"
            }

            .sbg-sb-caret-up:before {
                content: "\00ab"
            }

            .sbg-sb-caret-down:before {
                content: "\00ac"
            }

            .sbg-fly-full:before {
                content: "\00ae"
            }

            .sbg-thrust-full:before {
                content: "\00af"
            }

            .sbg-money-change:before {
                content: "\00b0"
            }

            .sbg-rounds:before {
                content: "\00b1"
            }

            .sbg-customgame:before {
                content: "\00c0"
            }

            .sbg-modding:before {
                content: "\00c1"
            }

            .sbg-gift:before {
                content: "\00b7"
            }

            html,body {
                margin: 0;
                padding: 0;
                background-color: #000;
                overflow: hidden;
                font-family: Play,Verdana;
                transform: rotate("90deg")
            }

            .noselect {
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none
            }

            a {
                text-decoration: none;
                color: hsl(200,50%,80%)
            }

            a:visited {
                color: hsl(200,50%,60%)
            }

            .grayblur {
                -moz-filter: grayscale(0.5) blur(3px);
                -webkit-filter: grayscale(0.5) blur(3px);
                filter: grayscale(0.5) blur(3px)
            }

            #loading-text-aip {
                font-size: .4em
            }

            #overlay {
                display: none;
                position: fixed;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                z-index: 2;
                text-align: center;
                font-size: 2em;
                color: #EEE;
                text-shadow: 0 0 3px #000,0 0 3px #000,0 0 3px #000,0 0 3px #000;
                transition: opacity .5s ease;
                box-shadow: 0 0 6px hsla(200,80%,80%,1);
                text-shadow: 0 0 2px hsla(200,80%,80%,.3);
                color: hsla(200,90%,90%,.8)
            }

            .gplay {
                position: fixed;
                top: 0;
                text-align: center;
                bottom: 0;
                left: 0;
                right: 0;
                z-index: 2;
                background: rgba(0,0,0,.8)
            }

            .gplay:after {
                content: "Ã—";
                position: fixed;
                top: 0;
                right: 0;
                color: #FFF;
                padding: 0 5vw;
                font-size: 10vw
            }

            .gplay img {
                max-width: 90vw;
                max-height: 80vh
            }

            #content {
                transition: all .5s ease
            }

            #home,#home_mobile {
                display: none;
                text-align: center
            }

            #home_mobile {
                height: 50px
            }

            #home {
                height: 0
            }

            [id^=cdm-zone-0] {
                display: inline-block;
                margin: 0 5px;
                height: 250px;
                width: 300px;
                overflow: hidden
            }

            #cdm-zone-01 {
                height: 90px;
                width: 768px;
                margin: 0
            }

            [data-ad-slot="vi_462315138"] {
                height: 260px
            }

            #alsotry {
                font-size: 1px
            }

            .textcentered {
                text-align: center !important
            }

            .loadwrapper {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                background: rgba(255,255,255,.1);
                transition: all .5s ease
            }

            .loadwrapper .progress {
                height: 15px;
                width: 0;
                background: hsl(200,90%,70%);
                background: linear-gradient(to right,hsl(200,30%,30%) 0,hsl(200,90%,70%) 100%)
            }

            .mobile-social {
                display: none;
                font-size: .6em;
                position: absolute;
                bottom: 0;
                top: 0;
                left: 0;
                padding: 10px;
                background: rgba(255,255,255,.0)
            }

            .mobile-tools {
                display: none;
                font-size: .6em;
                position: absolute;
                bottom: 0;
                top: 0;
                right: 0;
                padding: 10px;
                background: rgba(255,255,255,.0)
            }

            #vidContainer {
                display: none;
                position: absolute;
                background: #000;
                text-align: center;
                left: 25%;
                width: 50%;
                height: 50%;
                margin: auto;
                z-index: 10;
                -webkit-transform: translateY(50%);
                -ms-transform: translateY(50%);
                transform: translateY(50%)
            }

            #criteoContent {
                width: 728px;
                height: 90px;
                display: none;
                margin: auto
            }

            .followtools {
                font-family: Play,Verdana;
                display: none;
                font-size: .4em;
                position: absolute;
                bottom: 0;
                right: 0;
                padding: 5px;
                text-align: left;
                z-index: 1
            }

            .followtools a,.followtools a:visited {
                display: inline-block;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


                color:rgba(255, 255, 255, 1);
                border-color:rgba(33, 30, 238, 1);
                font-family:Comic Sans MS;
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
                
                padding: 7px;
                margin: 4px;
                position: relative
            }

            .followtools a.big {
                text-shadow: 0 0 7px hsla(200,100%,80%,1);
                text-align: center;
                width: 217px;
                margin: 4px 4px 10px 4px;
                padding: 4px 10px;
                line-height: 13px;
                font-size: 1.1em
            }

            .followtools a.big i {
                text-shadow: 0 0 1px hsla(200,100%,80%,.2);
                font-size: 2.8em
            }

            .followtools a.big.cup i {
                background-image: linear-gradient(135deg,#fceabb 0,#fccd4d 50%,#f8b500 51%,#fbdf93 100%);
                color: transparent;
                -webkit-background-clip: text;
                background-clip: text
            }

            .followtools a.gold,.followtools a.gold:visited,#donate_mobile {
                display: inline-block;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


                color:rgba(255, 255, 255, 1);
                border-color:rgba(33, 30, 238, 1);
                font-family:Comic Sans MS;
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
                

            }

            .followtools a i {
                font-size: 1.5em;
                vertical-align: middle
            }

            .followtools a.gold:hover {
                background: linear-gradient(135deg, #ff5bb0, #ef027d);
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
                font-family:Comic Sans MS;
                color: #FFF
            }

            .followtools a:hover {
                background: linear-gradient(135deg, #ff5bb0, #ef027d);
                font-weight:bold;
  font-style:italic;
  transform: scale(1.25);
transition: .5s ease;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
                font-family:Comic Sans MS;
                color: #FFF
            }

            .followtools span {
                text-transform: uppercase;
                letter-spacing: -0.5px
            }

            .social {
                font-size: .6em;
                position: absolute;
                bottom: 0;
                right: 0;
                left: 0;
                padding: 10px;
                background: rgba(0,0,0,.0)
            }

            .social i {
                margin: 0 10px
            }

            .mobile-social i,.mobile-tools i {
                margin-bottom: 20px
            }

            .social i,.mobile-social i,.mobile-tools i,.stats i {
               
                padding: 5px;
                font-size: 1.4em;
                display: inline-block;
                width: 40px;
                height: 40px;
                line-height: 40px;
                
                text-align: center;
                cursor: pointer;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


color:rgba(255, 255, 255, 1);
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
  transition: all 0.3s ease;

            }

            .social i:hover,.mobile-social i:hover,.mobile-tools i:hover,.stats i:hover {
                border-width:1px;
  color:#ffffff;
  border-color:#ee1eb5;
  font-weight:bold;
  border-top-left-radius:6px;
  border-top-right-radius:6px;
  border-bottom-left-radius:6px;
  border-bottom-right-radius:6px;
  box-shadow:inset 0px 1px 0px 0px #fbafe3;
  text-shadow:inset 0px 1px 0px #c70067;
  background:linear-gradient(#ff5bb0, #ef027d);
  transform: scale(1.25);
transition: .5s ease;
            }

            .hide {
                opacity: 0
            }

            #logo {
                margin: auto;
                padding-bottom: 1vh;
                transition: all 5s ease;
                max-width: 40%;
                width: 1200px;
                opacity: 0
            }

            #logo img {
                max-width: 100%
            }

            #colors {
                margin-top: 10px
            }

            .inputwrapper {
                display: inline-block;
                box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));

                border-radius: 4px;
                height: 43px;
                margin-top: 10px;
                position: relative;
                max-width: 100%
            }

            .colorwrapper {
                display: inline-block;
                cursor: pointer;
                position: absolute;
                right: 10px
            }

            .colorchosen {
                transition: all .5s ease;
                background: red;
                display: inline-block;
                border: 2px solid rgba(0,0,0,.5);
                vertical-align: middle;
                width: 32px;
                height: 32px;
                margin: 0 0 5px 0
            }

            #colors span {
                transition: all .2s ease;
                display: inline-block;
                border: 2px solid rgba(0,0,0,.5);
                margin: 0 4px;
                opacity: .8;
                width: 32px;
                height: 32px;
                cursor: pointer
            }

            #colors span.selected {
                opacity: 1;
                box-shadow: 0 0 5px 2px #FFF;
                transform: scale(1.15)
            }

            #player,#respawn {
                transition: all .5s ease;
                margin: 0 auto 15px auto;
                max-width: 90%
            }

            #player input {
                height: 43px;
                line-height: 43px;
                padding: 0 8px;
                font-size: .8em;
                text-align: center;
                text-transform: uppercase;
                border: 0 solid rgba(19, 116, 218, 1);
                width: 415px;
                font-family:Comic Sans MS;
                font-weight:bold;
  font-style:italic;
                max-width: 80%;
                border-radius:40px;
                color: #EEE;
                outline: 0;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));

                transition: all .5s ease;
                text-shadow: 0 0 7px rgb(77, 65, 241)
            }

            .stats input,.ecpinput {
                height: 43px;
                line-height: 43px;
                padding: 0 8px;
                text-align: center;
                border: 0 solid hsl(200,90%,10%);
                width: 350px;
                outline: 0;
                transition: all .5s ease;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


color:rgba(255, 255, 255, 1);
border-color:rgba(33, 30, 238, 1);
font-family:Comic Sans MS;
font-weight:bold;
font-style:italic;
border-top-left-radius:13px;
border-top-right-radius:13px;
border-bottom-left-radius:13px;
border-bottom-right-radius:13px;
box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
                border-radius: 4px;
                font-size: 1.2em
            }

            .ecpbtn {
                vertical-align: middle;
                width: 50px;
                margin: 0 10px;
                cursor: pointer
            }

            ::input-placeholder {
                color: hsla(200,10%,80%,.4);
                text-shadow: 0 0 7px hsla(200,80%,80%,.3);
                font-size: 16px
            }

            ::-webkit-input-placeholder {
                color: hsla(200,10%,80%,.4);
                text-shadow: 0 0 7px hsla(200,80%,80%,.3);
                font-size: 16px
            }

            ::-moz-placeholder {
                color: hsla(200,10%,80%,.4);
                text-shadow: 0 0 7px hsla(200,80%,80%,.3);
                font-size: 16px
            }

            :-ms-input-placeholder {
                color: hsla(200,10%,80%,.4);
                text-shadow: 0 0 7px hsla(200,80%,80%,.3);
                font-size: 16px
            }

            #respawn_actions,#respawn_swap,.pStJ7,.stats {
                transition: all .3s ease
            }

            #player button,#respawn_actions button,.donate-btn {
                padding: 10px 60px;
                font-size: 1.2em;
                cursor: pointer;
                margin: 20px 0 20px 0;
                text-align: center;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


color:rgba(255, 255, 255, 1);
border-color:rgba(33, 30, 238, 1);
font-family:Comic Sans MS;
font-weight:bold;
font-style:italic;
border-top-left-radius:13px;
border-top-right-radius:13px;
border-bottom-left-radius:13px;
border-bottom-right-radius:13px;
box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
                border: 0
            }

            #player button:hover,#respawn_actions button:hover,.donate-btn:hover,.ecpbtn:hover {
                background: linear-gradient(135deg, #ff5bb0, #ef027d);
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
  transform: scale(1.25);
transition: .5s ease;
                font-family:Comic Sans MS;
                color: #FFF

            }

            .playbtn {
                white-space: nowrap
            }

            .playbtn i {
                padding: 0 10px;
                font-size: 2em;
                vertical-align: middle;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


                color:rgba(255, 255, 255, 1);
                border-color:rgba(33, 30, 238, 1);
                
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
                margin: 9px 10px 0 10px;
                cursor: pointer;
                color: hsla(200,60%,80%,.5);
                text-align: center;
                text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
            }

            .playbtn i:hover {
                text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
            }

            #player #play {
                padding: 0 60px 20px;
                position: relative
            }

            #play.orange {
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


color:rgba(255, 255, 255, 1);
border-color:rgba(33, 30, 238, 1);
font-family:Comic Sans MS;
font-weight:bold;
font-style:italic;
border-top-left-radius:13px;
border-top-right-radius:13px;
border-bottom-left-radius:13px;
border-bottom-right-radius:13px;
box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
            }

            #play.orange:hover {
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


                color:rgba(255, 255, 255, 1);
                border-color:rgba(33, 30, 238, 1);
                
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
            }

            #play #game_modes {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                background: rgba(255,255,255,.1);
                font-size: 14px;
                overflow: hidden;
                white-space: nowrap
            }

            #play #game_modes span {
                display: inline-block;
                width: 100%;
                transition: margin .5s ease
            }

            #respawn {
                display: none
            }

            .stats {
                font-size: .5em;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


                color:rgba(255, 255, 255, 1);
                border-color:rgba(33, 30, 238, 1);
                font-family:Comic Sans MS;
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
                width: 600px;
                padding: 0 10px;
                margin: 10px auto
            }

            .stats i {
                margin: 10px;
                font-size: 1.6em
            }

            .stats p {
                font-size: 2em;
                margin: 10px 0 15px 0
            }

            .stats small {
                display: inline-block;
                background: rgba(0,0,0,.6);
                padding: 10px 15px 5px 15px;
                border-radius: 50% 50% 0 0
            }

            #respawn_actions button {
                padding: 10px 0;
                font-size: .8em;
                width: 175px
            }

            .statinfo {
                font-size: 1.5em;
                height: 40px;
                line-height: 40px;
                padding: 0 20px;
                border-bottom: 1px solid hsl(200,50%,55%);
                transition: all .5s ease
            }

            .statinfo:last-child {
                border-bottom: 0
            }

            .statinfo span:first-child {
                float: left
            }

            .statinfo span:last-child {
                float: right
            }

            #connection_lost,#game_over,#adblocked_message {
                display: none;
                font-size: 3.5vw;
                transition: all 2s ease;
                margin: 20px 0
            }

            #adblocked_message div {
                font-size: .5em
            }

            #goinfo {
                color: hsl(200,50%,70%);
                font-size: 2vw
            }

            #connection_lost .cry,#adblocked_message .cry {
                margin-top: 50px;
                display: inline-block;
                transform: rotate(90deg)
            }

            .gameloader {
                margin-top: 20px;
                display: none;
                text-align: center;
                color: #EEE;
                font-size: 3.5vw;
                transition: opacity .5s ease
            }

            .gameloaderwrapper {
                width: 90%;
                margin: 0 auto;
                height: 25px;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));
                box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
                border-radius: 4px
            }

            .sbg-facebook,.sbg-twitter {
                position: relative
            }

            .sbg-diamond {
                font-size: .8em;
                position: absolute;
                top: -10px;
                right: -10px
            }

            .sbg-facebook:hover .sbg-diamond,.sbg-twitter:hover .sbg-diamond {
                color: hsl(200,90%,70%)
            }

            .tutorial {
                width: 90%;
                margin: 0 auto;
                border-radius: 2vw;
                color: #666
            }

            .desktop,.mobile {
                display: none
            }

            .desktop {
                margin-top: 50px;
                background: rgba(255,255,255,.1)
            }

            .mobile {
                margin-top: 20px;
                position: relative;
                height: 15vw
            }

            .joystick-container {
                position: absolute;
                left: 10vw;
                width: 15vw;
                height: 15vw;
                border-radius: 15vw;
                background: radial-gradient(ellipse at center,rgba(140,140,140,0) 0,rgba(255,255,255,0) 20%,rgba(217,217,217,0) 32%,rgba(204,204,204,0.7) 34%,rgba(115,115,115,0.5) 64%,rgba(0,0,0,0.5) 100%)
            }

            [class^="mobile-"] {
                position: absolute
            }

            .mobile-top {
                left: 6.6vw
            }

            .mobile-bottom {
                left: 6.6vw;
                top: 11.4vw
            }

            .mobile-left {
                left: 1.1vw;
                top: 6.1vw
            }

            .mobile-right {
                top: 6.1vw;
                left: 12.7vw
            }

            .mobile-fire {
                position: absolute;
                right: 10vw;
                height: 15vw;
                width: 10vw;
                line-height: 15vw;
                background: rgba(255,255,255,.2);
                border-radius: 2vw
            }

            table {
                width: 100%
            }

            .keyboard,.mouse {
                position: relative;
                height: 265px
            }

            .mouse-container {
                overflow: hidden;
                position: absolute;
                top: 1vw;
                display: inline-block;
                border: 1px solid #999;
                background: #EEE;
                width: 8vw;
                height: 12vw;
                border-radius: 2vw
            }

            .mouse-top {
                width: 95%;
                height: 4vw;
                line-height: 4vw;
                margin: 0 auto;
                border-bottom: 3px solid #999;
                font-size: 2.5vw
            }

            .mouse-left {
                width: 50%;
                float: left;
                border-right: 2px solid #999
            }

            .mouse-left {
                width: 49%
            }

            [class^="kb-"] {
                display: inline-block;
                border: 1px solid #999;
                background: #EEE;
                border-radius: .4vw;
                height: 3vw;
                line-height: 3vw;
                width: 3vw;
                font-size: 2vw;
                box-shadow: 0 0 10px #000;
                text-align: center;
                vertical-align: middle
            }

            .keyboard .top {
                position: absolute;
                top: 2vw
            }

            .keyboard .bottom {
                position: absolute;
                top: 6vw
            }

            .keyboard canvas {
                display: inline-block;
                vertical-align: middle
            }

            .keyboard span {
                font-size: 1.75vw
            }

            .keyboard span.large {
                display: inline-block;
                width: 200px;
                text-align: center
            }

            .kb-ctrl {
                width: 7vw
            }

            .loaderprogress {
                height: 25px;
                width: 0;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));
            }

            .textprogress {
                margin-top: 20px;
                text-shadow: 0 0 10px hsla(200,100%,80%,1);
                color: hsla(200,100%,90%,.9)
            }

            .cookieconsent {
                opacity: 0;
                transition: opacity 2s ease
            }

            .changelog-new,.extrabutton {
                text-align: left;
                width: 18vw;
                border: 0;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));
                padding: 5px 10px;
                box-shadow: 0 0 6px hsla(200,100%,80%,1);
                font-size: .95vw;
                color:rgba(255, 255, 255, 1);
                border-color:rgba(33, 30, 238, 1);
                font-family:Comic Sans MS;
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;

                display: none;
                margin-top: 10px
            }

            .community a {
                display: inline-block;
                border: 2px solid rgba(0,0,0,.5);
                width: 20%;
                margin: .3%;
                padding: 1vh 0;
                
                text-align: center;
                color: hsla(200,90%,90%,.8);
                border-radius: 10px;
               background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));
                fill: currentColor
            }

            .community a .sbg {
                font-size: 2em
            }

            .community a:hover {
                background: rgba(255,255,255,.1);
                color: #fff
            }

            .community a svg {
                width: 60%
            }

            .adblock {
                font-size: 1.5vw;
                padding: .5vw;
                text-align: center;
                display: none
            }

            .extrabutton {
                display: block;
                text-align: center
            }

            [data-display-only] {
                display: none
            }

            .alphacentauri {
                text-align: center
            }

            .alphacentauri img {
                max-width: 100%
            }

            .alphacentauri button {
                background: #B11;
                color: #FFF;
                box-shadow: 0 0 5px #B11;
                border: 0;
                width: 7vw;
                padding: 5px 0;
                font-size: .9vw;
                margin: .7vw;
                cursor: pointer;
                text-transform: uppercase
            }

            .alphacentauri button:hover {
                color: #FFF;
                box-shadow: 0 0 10px #FFF
            }

            .alphacentauri h2 {
                margin: 10px 0;
                padding: 0;
                padding-bottom: 4px;
                border-bottom: solid 5px hsla(200,60%,60%,.2);
                font-size: 16px
            }

            .changelog-new .fa-star,.extrabutton .fa-star {
                color: hsla(50,70%,70%,1)
            }

            .changelog-new h2 {
                font-size: 1.15vw;
                margin: 10px 0;
                padding: 0;
                padding-bottom: 4px;
                border-bottom: solid 5px hsla(200,60%,60%,.2)
            }

            .countdown,.event-time {
                padding: 5px 0;
                background: rgba(0,0,0,.5);
                font-size: 18px
            }

            a.full-changelog,a.full-changelog:visited {
                color: #ddd;
                text-shadow: none;
                display: block;
                text-align: center;
                padding: 10px;
                border-top: 1px solid hsla(0, 0%, 1%, 0.2);
                background: rgba(200,240,255,.02);
                font-size: .8em;
                margin: 0 -10px -5px -10px
            }

            a.full-changelog:hover {
                color: #fff;
                text-decoration: none;
                background: rgba(200,240,255,.1)
            }

            .bottom-left,.top-left,.top-right {
                z-index: 10;
                padding: 10px;
                position: absolute;
                left: 0
            }

            .bottom-left {
                bottom: 0
            }

            .top-right {
                top: 0;
                right: 0;
                left: auto;
                width: 237px;
                display: none;
                font-size: .6em
            }

            .schedule {
                border: 0;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


                color:rgba(255, 255, 255, 1);
                border-color:rgba(33, 30, 238, 1);
                font-family:Comic Sans MS;
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
                margin-top: 10px
            }

            .top-right .title {
                margin-bottom: 10px;
                color: #EEE
            }

            .top-right .date {
                color: hsl(200,60%,75%);
                margin-bottom: 3px
            }

            .top-right .event {
                color: #EEE;
                margin-bottom: 10px;
                font-size: .8em
            }

            .steam-info {
                margin-top: -10px;
                background: hsla(200,50%,10%,.75);
                padding: 20px 5px;
                font-size: 14px
            }

            .top-left {
                top: 0;
                width: calc(18vw + 20px)
            }

            .top-left img,.top-right img {
                max-width: 100%
            }

            .modal {
                z-index: 3;
                position: fixed;
                left: 0;
                right: 0;
                top: -750px;
                margin: 0 auto;
                
                width: 800px;
                max-width: 100%;
                max-height: 100%;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


                color:rgba(255, 255, 255, 1);
                border-color:rgba(33, 30, 238, 1);
                font-family:Comic Sans MS;
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
                transition: top .6s ease;
                display: none;
                overflow: auto;
                
            }

            .modal::-webkit-scrollbar-track {
                background: linear-gradient(135deg, #ff5bb0, #ef027d);
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
                font-family:Comic Sans MS;
                color: #FFF


            }

            .modal::-webkit-scrollbar {
                width: 10px
            }

            .modal::-webkit-scrollbar-thumb {
                border-radius: 0;
                box-shadow: inset 0 0 6px rgba(0,0,0,.5);
                background-color: hsla(200,50%,70%,.5)
            }

            .modal .header {
                margin: 5px 0;
                padding: 5px 40px;
                font-size: 2em;
                background: linear-gradient(135deg, #ff5bb0, #ef027d);
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
                font-family:Comic Sans MS;
                color: #FFF


            }

            .modal .modaltitle {
                display: inline-block
            }

            .modal .close-modal {
                cursor: pointer;
                width: 40px;
                text-align: center;
                float: right
            }

            .modal .close-modal:hover {
                color: #FFF;
                background: linear-gradient(135deg, #ff5bb0, #ef027d);
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
                font-family:Comic Sans MS;
                color: #FFF


            }

            .modal .modalbody {
                overflow: auto;
                padding: 20px 40px;
                font-size: 1.5em
            }

            .modal .modalbody .regions {
                text-align: center;
                background:linear-gradient(rgba(19, 116, 218, 1), rgba(33, 54, 228, 1));


                color:rgba(255, 255, 255, 1);
                border-color:rgba(33, 30, 238, 1);
                font-family:Comic Sans MS;
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(0, 189, 163, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
            }

            .modal .modalbody .regions .date {
                text-align: right;
                font-size: .5em
            }

            .modal .modalbody span.region {
                display: inline-block;
                width: 180px;
                padding: 5px 10px;
                margin: 10px;
                cursor: pointer;
                transition: .2s ease all
            }

            .modal .modalbody span.region:hover {
                background: rgba(120,180,255,.05)
            }

            .modal .modalbody span.region.active {
                background: linear-gradient(135deg, #ff5bb0, #ef027d);
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
                font-family:Comic Sans MS;
                color: #FFF
transform: scale(1.25);
transition: .5s ease;

            }

            .modal .modal-header {
                background: rgba(0,0,0,.8);
                padding: 10px;
                font-size: 20px;
                margin: -20px -40px 20px -40px
            }

            .modal .mod {
                display: inline-block;
                width: 31%;
                font-size: 14px;
                position: relative;
                margin: 10px
            }

            .modal .modecp {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                background: rgba(0,0,0,.8);
                padding: 10px;
                font-size: 20px;
                text-align: left
            }

            .modal .modecp a {
                border-radius: 2px;
                background-color: rgba(255,255,255,.25);
                padding: 5px 10px;
                color: #FFF;
                margin: 0 0 0 10px;
                float: right
            }

            .modal .modecp div {
                padding: 5px 10px
            }

            .modal .mod:hover {
                cursor: pointer
            }

            .modal .mod:hover img {
                filter: grayscale(0)
            }

            .modal .mod img {
                width: 100%;
                filter: grayscale(60%)
            }

            .modal .mod.inactive {
                cursor: default
            }

            .modal .mod.inactive img {
                filter: grayscale(100%)
            }

            .modal .mod .title {
                background: rgba(0,0,0,.5);
                padding: 3px 10px;
                text-align: left
            }

            .modal .mod .nowplaying,.modal .mod .author {
                float: right
            }

            .modal .mod .totalplayed {
                padding: 0 10px;
                margin-bottom: -15px;
                background: #fff;
                color: #000;
                text-shadow: none;
                font-size: .8em;
                text-align: left;
                position: absolute;
                top: -7px;
                left: 0;
                right: 0;
                z-index: 1
            }

            #ranks .rankings {
                width: 100%;
                border-spacing: 0;
                border-collapse: collapse
            }

            #ranks .rankings canvas {
                opacity: 0;
                transform: translateY(20px) scale(0);
                transition: 1s ease all
            }

            #ranks .rankings tbody tr {
                height: 45px
            }

            #ranks .rankings tbody tr:nth-child(odd) {
                background: rgba(120,180,255,.08)
            }

            #ranks .rankings th:first-child {
                font-size: 11px
            }

            #ranks .rankings th {
                text-align: center;
                padding: 10px
            }

            #ranks .rankings th.orating {
                width: 33.333%;
                background: rgba(0,0,0,.2);
                border: 1px dashed hsl(200,50%,50%);
                border-bottom: 0
            }

            #ranks .rankings td.trophies {
                width: 10%;
                background: rgba(0,0,0,.2);
                border-right: 1px dashed hsl(200,50%,50%);
                text-align: right
            }

            #ranks .rankings tr:first-child td.trophies {
                color: gold
            }

            #ranks .rankings tr:nth-child(2) td.trophies {
                color: silver
            }

            #ranks .rankings tr:nth-child(3) td.trophies {
                color: #cd7f32
            }

            #ranks .rankings td:last-child {
                text-align: right
            }

            #ranks .rankings td {
                padding: 5px 10px;
                width: auto;
                vertical-align: middle
            }

            #ranks .fa-long-arrow-up {
                color: #77ee90
            }

            #ranks .fa-long-arrow-down {
                color: #ed8256
            }

            #ranks small {
                font-size: .6em;
                display: inline-block;
                width: 35px;
                text-align: center
            }

            .modal .modalbody label {
                float: right;
                vertical-align: middle
            }

            .modal .modalbody select,.modal .modalbody input[type=text],.modal .modalbody input.number {
                font-size: .8em;
                padding: 3px 5px;
                color: white;
                background: hsl(200,60%,15%);
                border: 1px solid hsl(200,60%,10%);
                float: right;
                vertical-align: middle;
                width: 241px;
                box-sizing: border-box
            }

            #mappreview {
                border: 1px solid hsl(200,60%,10%);
                float: right
            }

            #mappreview:after {
                clear: both
            }

            .modal .modalbody hr {
                border-color: #587c8e
            }

            .modal .modalbody .gmodes {
                margin: -20px -40px 0 -40px;
                text-align: center
            }

            .modal .modalbody .gmodes span {
                display: inline-block;
                height: 40px;
                line-height: 40px;
                width: 45%;
                margin: 1%;
                border: 2px solid hsl(200,60%,10%);
                text-align: center;
                cursor: pointer
            }

            .modal .modalbody .gmodes span.selected {
                box-shadow: 0 0 6px hsla(200,100%,80%,1);
                color: white
            }

            .modal .modalbody .range {
                float: right;
                vertical-align: middle;
                font-size: .7em;
                padding: 0 100px 0 10px;
                position: relative;
                background: hsl(200,60%,15%);
                border: 1px solid hsl(200,60%,10%);
                height: 30px;
                line-height: 30px
            }

            .modal .modalbody .range input {
                height: 30px;
                padding: 0;
                margin: 0
            }

            .modal .modalbody .range span {
                position: absolute;
                top: 0;
                right: 10px
            }

            .modal .modalbody div.option {
                height: 45px
            }

            .modal .modalbody div.option .fa-level-up {
                margin-left: 30px
            }

            .sandboxmode {
                padding: 10px 20px 0 20px;
                background: rgba(0,0,30,.1);
                display: none
            }

            .smalltext {
                font-size: 14px
            }

            .smalltext .date {
                display: block;
                margin: 10px -40px 0 -40px;
                padding: 10px 40px;
                font-size: 1.7em;
                background: rgba(0,0,0,0.2)
            }

            .info {
                white-space: nowrap
            }

            .infos {
                font-size: .6em;
                text-align: justify
            }

            .infos p {
                margin: 0 0 10px 0;
                padding: 10px 0
            }

            .infos .center {
                text-align: center;
                margin: 20px 0;
                font-size: 16px
            }

            .infos h1,.infos h2 {
                margin: 15px 0 -5px 0
            }

            .customizeship {
                text-align: center;
                padding: 15px;
                background: rgba(0,0,0,.3);
                margin-top: 20px
            }

            .buy-table tr {
                border: 2px solid rgba(0,0,0,.3)
            }

            .buy-table tr td:nth-child(2) {
                padding: 10px;
                text-align: left
            }

            .buy-on {
                float: right;
                margin-top: 10px;
                padding: 5px;
                width: 150px;
                text-align: center;
                cursor: pointer
            }

            .download-apps {
                text-align: center
            }

            .download-apps img {
                border: 3px solid hsla(200,50%,60%,.5);
                border-radius: 10px;
                width: 64px;
                margin: 10px
            }

            .download-apps img:hover {
                box-shadow: 0 0 6px hsla(200,100%,80%,1)
            }

            .frozenbg,.frozenbg:visited {
                background: radial-gradient(ellipse at center,hsla(200,50%,0%,1) 20%,hsla(200,50%,60%,.5) 150%);
                box-shadow: 0 0 6px hsla(200,100%,80%,1);
                text-shadow: 0 0 7px hsla(200,100%,80%,1);
                color: hsla(200,100%,90%,.8)
            }

            .hotbg,.hotbg:visited {
                background: radial-gradient(ellipse at center,hsla(0,100%,30%,1) 20%,hsla(0,100%,50%,1) 150%);
                box-shadow: 0 0 6px hsla(20,80%,70%,1);
                color: #FFF;
                border: 0;
                cursor: pointer
            }

            .buy-on:hover {
                box-shadow: 0 0 8px hsla(200,100%,90%,1);
                color: hsla(200,100%,95%,.9)
            }

            .customtable .title {
                display: inline-block;
                width: 150px;
                line-height: 25px;
                vertical-align: middle;
                position: relative
            }

            .customtable i {
                opacity: .5;
                vertical-align: middle;
                font-size: 3em;
                padding: 10px;
                cursor: pointer
            }

            .customtable i:hover {
                opacity: 1
            }

            .customtable {
                width: 100%;
                text-align: center
            }

            .blue {
                color: hsl(200,50%,70%)
            }

            .smallblue {
                font-size: 60%;
                color: hsl(200,50%,70%)
            }

            #infologo {
                text-align: center
            }

            #infologo img {
                max-width: 70%
            }

            canvas {
                margin-left: auto;
                margin-right: auto;
                display: block
            }

            .pricechoice {
                display: inline-block;
                margin-top: 5px;
                padding: 5px
            }

            .pricechoice article {
                display: inline
            }

            .pricechoice span {
                display: inline-block;
                padding: 3px;
                vertical-align: middle;
                margin-right: 10px;
                background: linear-gradient(-45deg,hsla(200,30%,30%,.5) 0,hsla(200,50%,50%,.75) 100%);
                text-align: center;
                width: 68px;
                cursor: pointer;
                font-size: 1.2em;
                color: rgba(255,255,255,.5)
            }

            .pricechoice span.active {
                background: linear-gradient(-45deg,hsla(120,70%,50%,.75) 0,hsla(120,50%,70%,1) 100%);
                box-shadow: 0 0 5px hsl(120,60%,60%);
                color: rgba(255,255,255,.9)
            }

            .custom-amount {
                display: none;
                margin-top: 10px
            }

            .custom-amount input {
                display: inline-block;
                padding: 4px;
                vertical-align: middle;
                text-shadow: 0 0 7px hsla(200,80%,80%,1);
                border: 0;
                outline: 0;
                background: rgba(255,255,255,.1);
                color: #FFF;
                margin-right: 10px;
                width: 100px;
                text-align: center;
                font-size: 1.5em
            }

            #licenceKey {
                text-align: center;
                border: 2px solid hsla(200,80%,80%,.2);
                background: linear-gradient(135deg, #ff5bb0, #ef027d);
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
                font-family:Comic Sans MS;
                color: #FFF

                vertical-align: middle;
                padding: 5px
            }

            #licenceKeyBtn {
                vertical-align: middle;
                background: linear-gradient(135deg, #ff5bb0, #ef027d);
                font-weight:bold;
  font-style:italic;
  border-top-left-radius:13px;
  border-top-right-radius:13px;
  border-bottom-left-radius:13px;
  border-bottom-right-radius:13px;
  box-shadow:inset 0px 1px 0px -50px rgba(178, 0, 189, 1);
  text-shadow:inset -4px 1px 0px rgba(0, 0, 0, 1);
  border-width:3px;
  color:rgba(255, 255, 255, 1);
  border-color:rgba(128, 7, 255, 1);
                font-family:Comic Sans MS;
                color: #FFF
transform: scale(1.25);
transition: .5s ease;

                padding: 5px 20px
            }

            .switch {
                position: relative;
                display: inline-block;
                width: 60px;
                height: 34px
            }

            .switch input {
                display: none
            }

            .slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                -webkit-transition: .4s;
                transition: .4s
            }

            .slider:before {
                position: absolute;
                content: "";
                height: 26px;
                width: 26px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                -webkit-transition: .4s;
                transition: .4s
            }

            input:checked+.slider {
                background-color: hsl(200,50%,10%)
            }

            input:focus+.slider {
                box-shadow: 0 0 1px hsl(200,60%,30%)
            }

            input:checked+.slider:before {
                -webkit-transform: translateX(26px);
                -ms-transform: translateX(26px);
                transform: translateX(26px)
            }

            #_outbd_3,#_outbd_3 iframe {
                max-width: 100%
            }

            #customEventable {
                box-shadow: 0 0 1px hsl(200,60%,30%);
                border: 0;
                background: radial-gradient(ellipse at center,hsla(200,50%,0%,1) 20%,hsla(200,50%,60%,.5) 150%);
                box-shadow: 0 0 6px hsla(200,100%,80%,1);
                text-shadow: 0 0 7px hsla(200,100%,80%,1);
                color: hsla(200,100%,90%,.8);
                padding: 10px 32px;
                color: white;
                cursor: pointer
            }

            input[type=range] {
                -webkit-appearance: none;
                width: 100%;
                margin: 7.85px 0;
                background: transparent
            }

            input[type=range]:focus {
                outline: 0
            }

            input[type=range]::-webkit-slider-runnable-track {
                width: 100%;
                height: 9.3px;
                cursor: pointer;
                box-shadow: 1px 1px 1px #000,0 0 1px #0d0d0d;
                background: hsl(200,50%,45%);
                border-radius: 1.3px;
                border: .2px solid #160101
            }

            input[type=range]::-webkit-slider-thumb {
                box-shadow: 1px 1px 1px #000,0 0 1px #0d0d0d;
                border: 1px solid #000;
                height: 25px;
                width: 16px;
                border-radius: 3px;
                background: #fff;
                cursor: pointer;
                -webkit-appearance: none;
                margin-top: -8.05px
            }

            input[type=range]:focus::-webkit-slider-runnable-track {
                background: hsl(200,60%,55%)
            }

            input[type=range]::-moz-range-track {
                width: 100%;
                height: 9.3px;
                cursor: pointer;
                box-shadow: 1px 1px 1px #000,0 0 1px #0d0d0d;
                background: hsl(200,50%,45%);
                border-radius: 1.3px;
                border: .2px solid #160101
            }

            input[type=range]::-moz-range-thumb {
                box-shadow: 1px 1px 1px #000,0 0 1px #0d0d0d;
                border: 1px solid #000;
                height: 25px;
                width: 16px;
                border-radius: 3px;
                background: #fff;
                cursor: pointer
            }

            input[type=range]::-ms-track {
                width: 100%;
                height: 9.3px;
                cursor: pointer;
                background: transparent;
                border-color: transparent;
                color: transparent
            }

            input[type=range]::-ms-fill-lower {
                background: #456394;
                border: .2px solid #160101;
                border-radius: 2.6px;
                box-shadow: 1px 1px 1px #000,0 0 1px #0d0d0d
            }

            input[type=range]::-ms-fill-upper {
                background: hsl(200,50%,45%);
                border: .2px solid #160101;
                border-radius: 2.6px;
                box-shadow: 1px 1px 1px #000,0 0 1px #0d0d0d
            }

            input[type=range]::-ms-thumb {
                box-shadow: 1px 1px 1px #000,0 0 1px #0d0d0d;
                border: 1px solid #000;
                height: 25px;
                width: 16px;
                border-radius: 3px;
                background: #fff;
                cursor: pointer;
                height: 9.3px
            }

            input[type=range]:focus::-ms-fill-lower {
                background: hsl(200,50%,45%)
            }

            input[type=range]:focus::-ms-fill-upper {
                background: hsl(200,60%,55%)
            }

            .github-fork-ribbon:before {
                background-color: hsla(200,50%,60%,.65)
            }

            .github-fork-ribbon:hover:before {
                background-color: hsla(200,50%,60%,.85)
            }

            [data-translate-base="promocontest"] {
                display: none
            }

            [data-tooltip] {
                position: relative;
                z-index: 2;
                cursor: pointer
            }

            [data-tooltip]:before,[data-tooltip]:after {
                visibility: hidden;
                opacity: 0;
                pointer-events: none
            }

            [data-tooltip]:before {
                position: absolute;
                bottom: 150%;
                left: 50%;
                margin-bottom: -11px;
                margin-left: -97px;
                padding: 7px;
                width: 180px;
                -webkit-border-radius: 3px;
                -moz-border-radius: 3px;
                border-radius: 3px;
                background-color: #000;
                background-color: hsla(200,50%,30%,0.9);
                color: #fff;
                content: attr(data-tooltip);
                text-align: center;
                font-size: 14px;
                line-height: 1.2
            }

            .followtools [data-tooltip].fourth:before {
                margin-left: -125px
            }

            .followtools [data-tooltip]:last-child:before {
                margin-left: -175px
            }

            [data-tooltip]:after {
                position: absolute;
                bottom: 100%;
                left: 50%;
                margin-left: -5px;
                width: 0;
                border-top: 5px solid #000;
                border-top: 5px solid hsla(200,50%,30%,.9);
                border-right: 5px solid transparent;
                border-left: 5px solid transparent;
                content: " ";
                font-size: 0;
                line-height: 0
            }

            [data-tooltip]:hover:before,[data-tooltip]:hover:after {
                visibility: visible;
                opacity: 1
            }

            .atcb {
                display: none
            }

            .atcb_button_wrapper {
                display: inline-block;
                padding: 5px;
                position: relative
            }

            .atcb_button {
                align-items: center;
                background: #f5f5f5;
                border: 1px solid #d2d2d2;
                border-radius: 6px;
                -webkit-box-shadow: 1px 2px 10px 0 rgba(0,0,0,.4);
                box-shadow: 1px 2px 10px 0 rgba(0,0,0,.4);
                color: #333;
                cursor: pointer;
                display: flex;
                font-family: Arial,Helvetica,sans-serif;
                font-size: 16px;
                font-weight: 600;
                line-height: 24px;
                max-width: 300px;
                min-width: 150px;
                padding: 10px 16px 11px 16px;
                position: relative;
                text-align: center;
                touch-action: manipulation;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                -webkit-tap-highlight-color: transparent;
                width: auto
            }

            .atcb_button:focus,.atcb_button:hover {
                background: #fff
            }

            @media only screen and (max-width: 575px) {
                .atcb_button {
                    font-size:14px
                }
            }

            .atcb_button.atcb_active {
                background: #fff;
                border-radius: 6px 6px 3px 3px;
                -webkit-box-shadow: 1px 5px 15px 0 rgba(0,0,0,.5);
                box-shadow: 1px 5px 15px 0 rgba(0,0,0,.5);
                margin: -2px -4px;
                padding: 12px 20px 13px 20px;
                z-index: 90
            }

            .atcb_icon {
                height: 16px;
                display: inline-block;
                margin-bottom: 4px;
                margin-right: 10px
            }

            .atcb_icon svg {
                height: 100%;
                color: #333;
                width: auto
            }

            .atcb_list {
                box-sizing: border-box;
                color: #333;
                display: block;
                font-family: Arial,Helvetica,sans-serif;
                max-width: 100%;
                position: absolute;
                padding: 0 3px;
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
                width: 100%;
                min-width: 10em;
                z-index: 80
            }

            .atcb_list.atcb_modal {
                position: fixed;
                width: 16em;
                left: 50%;
                top: 50%;
                transform: translateY(-50%) translateX(-50%)
            }

            .atcb_list_item {
                align-items: center;
                background: #fafafa;
                border: 1px solid #d2d2d2;
                border-top: 0;
                -webkit-box-shadow: 1px 2px 8px 0 rgba(0,0,0,.3);
                box-shadow: 1px 2px 8px 0 rgba(0,0,0,.3);
                box-sizing: border-box;
                cursor: pointer;
                display: flex;
                font-size: 16px;
                left: 50%;
                position: relative;
                padding: 12px 18px;
                text-align: left;
                transform: translate(-50%);
                touch-action: manipulation;
                -webkit-tap-highlight-color: transparent
            }

            .atcb_list_item:focus,.atcb_list_item:hover {
                background: #fff;
                -webkit-box-shadow: 1px 2px 10px 0 rgba(0,0,0,.4);
                box-shadow: 1px 2px 10px 0 rgba(0,0,0,.4);
                color: #000
            }

            @media only screen and (max-width: 575px) {
                .atcb_list_item {
                    font-size:14px
                }
            }

            .atcb_list.atcb_generated_button .atcb_list_item:first-child {
                padding-top: 20px
            }

            .atcb_list:not(.atcb_generated_button) .atcb_list_item:first-child {
                border-radius: 6px 6px 0 0
            }

            .atcb_list_item:last-child {
                border-radius: 0 0 6px 6px
            }

            .atcb_list_item .atcb_icon {
                margin-right: 8px;
                width: 18px
            }

            .atcb_bgoverlay {
                background: rgba(20,20,20,.2);
                backdrop-filter: blur(2px);
                height: 100%;
                left: 0;
                position: fixed;
                top: 0;
                width: 100%;
                z-index: 70
            }

            .atcb_bgoverlay.atcb_click:hover {
                cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16'%3E%3Cpath fill-rule='evenodd' d='M11.991.69a2.35 2.35 0 0 1 3.318-.009c.918.911.922 2.392.009 3.307l-4.009 4.014 4.013 4.018c.906.909.893 2.38-.027 3.287a2.35 2.35 0 0 1-3.307-.004l-3.985-3.99-3.993 3.997a2.35 2.35 0 0 1-3.318.009c-.918-.911-.922-2.392-.009-3.307l4.009-4.014L.678 3.98C-.228 3.072-.215 1.6.706.693a2.35 2.35 0 0 1 3.307.004l3.985 3.99z'/%3E%3C/svg%3E") 32 32,pointer
            }
        </style>
    </head>
    <body oncontextmenu="return false;">
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-49553618-3"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'UA-49553618-3');
        </script>
        <script>
            function updateBackground() {
                var backgroundId = localStorage.getItem("backgrounds");
    
                switch (backgroundId) {
                    case "\"none\"":
                        document.getElementById("backgroundimg").src = "";
                        break;
                    case "\"Witch\"":
                        document.getElementById("backgroundimg").src = "https://i.ibb.co/48pXTL4/OGFXJt-EOWh-I.jpg";
                        break;
                    case "\"Chanterelle\"":
                        document.getElementById("backgroundimg").src = "https://i.ibb.co/xFfpxdd/9-Ms-Dd-Y20wp-M.jpg";
                        break;
                    case "\"Chess\"":
                        document.getElementById("backgroundimg").src = "https://i.ibb.co/rk1Vdt3/SOl-z-Bq-Sba-M.jpg";
                        break;
                    case "\"Interworld\"":
                        document.getElementById("backgroundimg").src = "https://i.ibb.co/pKzZwv3/d5-PXFRDe-Ftk.jpg";
                        break;
                    case "\"Rize\"":
                        document.getElementById("backgroundimg").src = "https://i.ibb.co/QrvzWkk/9-Qylhmckz7s.jpg";
                        break;
                    case "\"Satoru Gojo\"":
                        document.getElementById("backgroundimg").src = "https://i.ibb.co/Gn42pVG/Ecevweez03-Y.jpg";
                        break;
                    case "\"Omega wal\"":
                        document.getElementById("backgroundimg").src = "https://i.ibb.co/yY4gS91/OIP.jpg";
                        break;
                    case "\"background chill\"":
                        document.getElementById("backgroundimg").src = "https://i.ibb.co/gRj0Xt5/R.gif";
                        break;
                    default:https://i.ibb.co/Gn42pVG/Ecevweez03-Y.jpg
                        console.log("Background not set or not recognized.");
                }
            }
    
            document.addEventListener("DOMContentLoaded", function() {
                updateBackground();
            
                const menu = document.getElementById('custommenu');
                document.addEventListener('keydown', function(event) {
                     if (event.keyCode === 77) {
                        menu.classList.toggle('show');
                    }
                });
            });
        </script>
        <div id="canvaswrapper"></div>
        <div id="overlay">
            <div id="preroll"></div>
            <div id="cgpreroll" style="z-index:999; background:rgba(0,0,0,.8); display:none; position:absolute; top:0; left:0; width:100vw; height:100vh;"></div>
            <div class="adblock frozenbg">
                <span data-translate="Your ad-blocker may cause connection problems. Please disable it on Starblast.io to avoid any trouble.">Your ad-blocker may cause connection problems. Please disable it on Starblast.io to avoid any trouble.</span>
            </div>
            <div class="top-right">
                <div class="acw-new" data-translate-base="acw_new" lang="fr">
                    <div class="alphacentauri">
                        <img style="box-shadow: 0px 0px 6px hsla(200,100%,80%,1)" src="https://starblast.data.neuronality.com/events/aow-expanding.jpg" title="Alpha orionis wars">
                        <div class="countdown"></div>
                        <a class="join-alpha-centauri" style="display:none;" href="#">
                            <button class="frozenbg" style="width:100%; padding:10px 0; margin:10px 0; font-size:1.1vw;">REJOINDRE LA BATAILLE</button>
                        </a>
                        <div class="event-time"></div>
                    </div>
                </div>
                <div class="acw-new" data-translate-base="acw_new" lang="en">
                    <div class="alphacentauri">
                        <img style="box-shadow: 0px 0px 6px hsla(200,100%,80%,1)" src="https://starblast.data.neuronality.com/events/aow-expanding.jpg" title="Alpha orionis wars">
                        <div class="countdown"></div>
                        <a class="join-alpha-centauri" style="display:none;" href="#">
                            <button class="frozenbg" style="width:100%; padding:10px 0; margin:10px 0; font-size:1.2vw;">JOIN THE BATTLE</button>
                        </a>
                        <div class="event-time"></div>
                    </div>
                </div>
                <div style="background:rgba(0,0,0,.5); border-bottom: 3px solid hsla(200,30%,30%,1); padding:10px 0" id="calendar_event"></div>
            </div>
            <div class="top-left">
                <div class="adsbyvli" data-ad-slot="vi_462315137"></div>
            </div>
            <div id="content">
                <div id="logo"></div>
                <form id="player" class="hide">
                    <div class="inputwrapper">
                        <div class="colorwrapper">
                            <span class="colorchosen"></span>
                        </div>
                        <input tabindex="0" type="text" maxlength="16" data-translate-placeholder="Your commander name">
                    </div>
                    <div id="colors" style="display:none;"></div>
                    <div class="playbtn noselect">
                        <i id="prevMode" class="fa fa-caret-left"></i>
                        <button id="play">
                            <span data-translate="PLAY">PLAY</span>
                            <div id="game_modes"></div>
                        </button>
                        <i id="nextMode" class="fa fa-caret-right"></i>
                    </div>
                </form>
                <div id="connection_lost">
                    <span class="cry">:(</span>
                    <div data-translate="Your connection has been lost">Your connection has been lost</div>
                    <div id="serverip"></div>
                </div>
                <div id="adblocked_message">
                    <span class="cry">:(</span>
                    <div data-translate="Advertising helps us fund server costs and game development.">Advertising helps us fund server costs and game development.</div>
                    <div data-translate="Please disable your adblocker for Starblast.io and you will never see this page again!">Please disable your adblocker for Starblast.io and you will never see this page again!</div>
                    <div data-translate="Don't want to see ads? Buy your ECP, remove all ads and get cool bonus features!">Don't want to see ads? Buy your ECP, remove all ads and get cool bonus features!</div>
                    <div data-translate="Thank you :)">Thank you :)</div>
                    <div class="text-centered">
                        <button class="donate-btn">10</button>
                    </div>
                </div>
                <div id="game_over">
                    <div id="gameovermsg" data-translate="Game Over">Game Over</div>
                    <div id="goinfo"></div>
                </div>
                <div id="respawn">
                    <div class="stats"></div>
                    <div id="respawn_actions">
                        <button id="continue_btn" data-translate="Continue">Continue</button>
                        <button id="respawn_btn" data-translate="Respawn">Respawn</button>
                        <button id="refresh_btn">
                            <span data-translate="Quit">Quit</span>
                            (<span id="menucountdown"></span>
                            )
                        </button>
                    </div>
                </div>
                <div class="pStJ7">
                    <ins id="_outbd_3"></ins>
                    <br>
                    <div id="home"></div>
                    <div id="home_mobile"></div>
                </div>
                <div id="respawn_swap"></div>
                <div class="gameloader">
                    <div class="gameloaderwrapper">
                        <div class="loaderprogress"></div>
                    </div>
                    <div class="textprogress" data-translate="Loading...">Loading...</div>
                    <div class="tutorial">
                        <div class="desktop">
                            <table>
                                <tr>
                                    <td class="mouse">
                                        <div class="mouse-container">
                                            <div class="mouse-top">
                                                <div class="mouse-left">
                                                    <i class="fa fa-fire"></i>
                                                </div>
                                                <div class="mouse-right">
                                                    <i class="fa fa-arrows"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="keyboard">
                                        <div class="top">
                                            <span class="large">
                                                <i class="kb-z">Z</i>
                                            </span>
                                            <span data-translate="ScreenShot">ScreenShot</span>
                                        </div>
                                        <div class="bottom">
                                            <span class="large">
                                                <i class="kb-ctrl">CTRL</i>
                                            </span>
                                            <span id="rcstuto" data-translate="RCS Toggle">RCS Toggle</span>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="mobile">
                            <div class="joystick-container">
                                <i class="mobile-top fa fa-caret-up"></i>
                                <i class="mobile-right fa fa-caret-right"></i>
                                <i class="mobile-bottom fa fa-caret-down"></i>
                                <i class="mobile-left fa fa-caret-left"></i>
                            </div>
                            <i class="mobile-fire fa fa-fire"></i>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mobile-social">
                <i class="sbg sbg-facebook"></i>
                <br/>
                <i class="sbg sbg-twitter"></i>
            </div>
            <div class="mobile-tools">
                <i class="sbg sbg-info"></i>
                <br/>
                <i class="sbg sbg-gears"></i>
                <br/>
                <i id="donate_mobile" class="sbg sbg-trophy"></i>
            </div>
            <div class="bottom-left">
                <div class="changelog-new" data-translate-base="changelog_new" lang="en">
                    <div>
                        <h2 style="text-align:center">
                            <i class="fa fa-star"></i>
                            TNM<i class="fa fa-star"></i>
                        </h2>
                        <p> Tag: âœ§ Æ¬Æâ±®! â†

                         Discord:   https://discord.gg/tnm
        </p>
                        <p style="text-align:center;">
                            <a target="_blank" href="https://starblast-shipyard.github.io/" alt="Loveship shipyard" style="text-decoration: underline">Starblast Shipyard</a>
                        </p>
                    </div>
                </div>
                <div class="changelog-new" data-translate-base="changelog_new" lang="fr">
                    <div>
                        <p style="text-align:center;">
                            <a target="_blank" href="https://starblast-shipyard.github.io/" alt="Loveship exoplanet shipyard" style="text-decoration: underline">Starblast Shipyard</a>
                        </p>
                    </div>
                </div>
                <div class="textcentered community changelog-new" data-translate-base="thing" lang="en">
                    <marquee scrollamount="2" height="20" width="100%" direction="right">
    
                     TNM Official Client Made By Omega â¤ï¸ðŸ”±
    
                    </marquee>
                  </div>
    
                <div class="textcentered community changelog-new" data-translate-base="music" lang="en">
                    <a href="https://open.spotify.com/user/gilpom/playlist/47N9rRbMXezlPXvhqVM3lJ?si=6bHzE9A9S-2TGh7C4OndkA" target="_blank">
                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414">
                            <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.56-8-8-8zm3.68 11.56c-.16.24-.44.32-.68.16-1.88-1.16-4.24-1.4-7.04-.76-.28.08-.52-.12-.6-.36-.08-.28.12-.52.36-.6 3.04-.68 5.68-.4 7.76.88.28.12.32.44.2.68zm.96-2.2c-.2.28-.56.4-.84.2-2.16-1.32-5.44-1.72-7.96-.92-.32.08-.68-.08-.76-.4-.08-.32.08-.68.4-.76 2.92-.88 6.52-.44 9 1.08.24.12.36.52.16.8zm.08-2.24C10.16 5.6 5.88 5.44 3.44 6.2c-.4.12-.8-.12-.92-.48-.12-.4.12-.8.48-.92 2.84-.84 7.52-.68 10.48 1.08.36.2.48.68.28 1.04-.2.28-.68.4-1.04.2z" fill-rule="nonzero"/>
                        </svg>
                        <br>Spotify
                    </a>
                    <a href="https://www.deezer.com/playlist/5343057502" target="_blank">
                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414">
                            <path d="M9.812 12.464h2.917v-.884H9.81v.884zm-6.54 0h2.916v-.884H3.27v.884zm-3.272 0h2.917v-.884H0v.884zm6.54 0h2.92v-.884H6.54v.884zm6.543 0H16v-.884h-2.917v.884zm0-1.15H16v-.883h-2.917v.89zm-6.542 0h2.92v-.883H6.54v.89zm-6.54 0h2.92v-.883H0v.89zm3.27 0h2.92v-.883H3.27v.89zm6.55 0h2.92v-.883H9.81v.89zm0-1.148h2.92v-.884H9.81v.884zm-6.54 0h2.91v-.884H3.27v.884zm-3.27 0h2.91v-.884H0v.884zm6.54 0h2.92v-.884H6.54v.884zm6.55 0H16v-.884h-2.917v.884zm0-1.15H16v-.883h-2.917v.884zm-6.54 0h2.91v-.883H6.54v.884zm-6.54 0h2.91v-.883H0v.884zm9.82 0h2.92v-.883H9.81v.884zm0-1.15h2.92v-.882H9.81v.883zm-9.82 0h2.91v-.88H0v.882zm6.54 0h2.92v-.88H6.54v.882zm6.54 0H16v-.882h-2.917v.884zM6.54 6.72h2.92v-.885H6.54v.884zm6.543-.002H16v-.883h-2.917v.883zM6.54 5.57h2.92v-.885H6.54v.885zm6.543 0H16v-.885h-2.917v.884zm0-1.15H16v-.884h-2.917v.884z"/>
                        </svg>
                        <br>Deezer
                    </a>
                </div>
                <div class="textcentered community changelog-new" data-translate-base="music" lang="fr">
                    <a href="https://open.spotify.com/user/gilpom/playlist/47N9rRbMXezlPXvhqVM3lJ?si=6bHzE9A9S-2TGh7C4OndkA" target="_blank">
                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414">
                            <path d="M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.56-8-8-8zm3.68 11.56c-.16.24-.44.32-.68.16-1.88-1.16-4.24-1.4-7.04-.76-.28.08-.52-.12-.6-.36-.08-.28.12-.52.36-.6 3.04-.68 5.68-.4 7.76.88.28.12.32.44.2.68zm.96-2.2c-.2.28-.56.4-.84.2-2.16-1.32-5.44-1.72-7.96-.92-.32.08-.68-.08-.76-.4-.08-.32.08-.68.4-.76 2.92-.88 6.52-.44 9 1.08.24.12.36.52.16.8zm.08-2.24C10.16 5.6 5.88 5.44 3.44 6.2c-.4.12-.8-.12-.92-.48-.12-.4.12-.8.48-.92 2.84-.84 7.52-.68 10.48 1.08.36.2.48.68.28 1.04-.2.28-.68.4-1.04.2z" fill-rule="nonzero"/>
                        </svg>
                        <br>Spotify
                    </a>
                    <a href="https://www.deezer.com/playlist/5343057502" target="_blank">
                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414">
                            <path d="M9.812 12.464h2.917v-.884H9.81v.884zm-6.54 0h2.916v-.884H3.27v.884zm-3.272 0h2.917v-.884H0v.884zm6.54 0h2.92v-.884H6.54v.884zm6.543 0H16v-.884h-2.917v.884zm0-1.15H16v-.883h-2.917v.89zm-6.542 0h2.92v-.883H6.54v.89zm-6.54 0h2.92v-.883H0v.89zm3.27 0h2.92v-.883H3.27v.89zm6.55 0h2.92v-.883H9.81v.89zm0-1.148h2.92v-.884H9.81v.884zm-6.54 0h2.91v-.884H3.27v.884zm-3.27 0h2.91v-.884H0v.884zm6.54 0h2.92v-.884H6.54v.884zm6.55 0H16v-.884h-2.917v.884zm0-1.15H16v-.883h-2.917v.884zm-6.54 0h2.91v-.883H6.54v.884zm-6.54 0h2.91v-.883H0v.884zm9.82 0h2.92v-.883H9.81v.884zm0-1.15h2.92v-.882H9.81v.883zm-9.82 0h2.91v-.88H0v.882zm6.54 0h2.92v-.88H6.54v.882zm6.54 0H16v-.882h-2.917v.884zM6.54 6.72h2.92v-.885H6.54v.884zm6.543-.002H16v-.883h-2.917v.883zM6.54 5.57h2.92v-.885H6.54v.885zm6.543 0H16v-.885h-2.917v.884zm0-1.15H16v-.884h-2.917v.884z"/>
                        </svg>
                        <br>Deezer
                    </a>
                </div>
                <div class="textcentered community changelog-new" data-translate-base="community" lang="en">
                    <a href="https://www.reddit.com/r/Starblastio/" target="_blank">
                        <i class="sbg sbg-reddit"></i>
                        <br>Reddit
                    </a>
                    <a href="https://discord.gg/85qN8F2gJf" target="_blank">
                        <i class="sbg sbg-discord"></i>
                        <br>Discord
                    </a>
                    <a href="https://starblastio.gamepedia.com" target="_blank">
                        <i class="sbg sbg-wiki"></i>
                        <br>Wiki
                    </a>
                    <a href="https://www.redbubble.com/fr/people/neuronality/collections/925374-starblast" target="_blank">
                        <i class="sbg sbg-gift"></i>
                        <br>Merch
                    </a>
                </div>
                <div class="textcentered community changelog-new" data-translate-base="community" lang="fr">
                    <a href="https://www.reddit.com/r/Starblastio/" target="_blank">
                        <i class="sbg sbg-reddit"></i>
                        <br>Reddit
                    </a>
                    <a href="https://discord.gg/JwfJSFmXtn" target="_blank">
                        <i class="sbg sbg-discord"></i>
                        <br>Discord
                    </a>
                    <a href="https://starblastio.gamepedia.com" target="_blank">
                        <i class="sbg sbg-wiki"></i>
                        <br>Wiki
                    </a>
                    <a href="https://www.redbubble.com/fr/people/neuronality/collections/925374-starblast" target="_blank">
                        <i class="sbg sbg-gift"></i>
                        <br>Boutique
                    </a>
                </div>
            </div>
            <div class="social">
                <div id="cgbottom"></div>
                <br>
                <i class="sbg sbg-info"></i>
                <i class="sbg sbg-gears"></i>
                <i class="sbg sbg-facebook">
                    <span class="sbg sbg-diamond"></span>
                </i>
                <i class="sbg sbg-twitter">
                    <span class="sbg sbg-diamond"></span>
                </i>
            </div>
            <div class="followtools">
                <a id="moddingspace" href="#" class="big">
                    <i class="sbg sbg-modding"></i>
                    <br/>
                    <span data-translate="Modding Space">Modding Space</span>
                </a>
                <br/>
                <a id="donate" href="#" class="big gold">
                    <i class="fa ecplogo"></i>
                    <br/>
                    <span data-translate="Elite Commander Pass">Elite Commander Pass</span>
                </a>
                <br/>
                <a id="rankings" href="#" class="big cup">
                    <i class="fa fa-fw fa-trophy"></i>
                    <br/>
                    <span data-translate="LEADERBOARD">LEADERBOARD</span>
                </a>
                <br/>
                <a data-display-only="en,fr" id="training" href="#" class="big">
                    <i class="sbg sbg-fw sbg-fly-mid"></i>
                    <br/>
                    <span data-translate="Training">Training</span>
                </a>
            </div>
        </div>
        <div class="modal">
            <div class="header">
                <span class="close-modal">&times;</span>
                <span class="modaltitle"></span>
            </div>
            <div class="modalbody"></div>
        </div>
        <script type="application/ld+json">
            {
                "@context": "http://schema.org",
                "@type": "VideoGame",
                "gamePlatform": [
                    "https://en.wikipedia.org/wiki/Microsoft_Windows",
                    "https://en.wikipedia.org/wiki/MacOS",
                    "https://en.wikipedia.org/wiki/Linux"
                ],
                "applicationCategory": "Game",
                "operatingSystem": "Windows, MacOS, Linux",
                "contentRating": "E",
                "releasedEvent": {
                    "@type": "PublicationEvent",
                    "startDate": "2017-11-08",
                    "location": {
                        "@type": "Place",
                        "name": "WW"
                    }
                },
                "name": [
                    {
                        "@language": "en",
                        "@value": "Starblast"
                    }
                ],
                "description": [
                    {
                        "@language": "en",
                        "@value": "Multiplayer Arcade Space Shooter Game! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!"
                    },
                    {
                        "@language": "fr",
                        "@value": "Jeu d'arcade multijoueur, shoot'em up spatial ! DÃ©truisez vos ennemis et des astÃ©roÃ¯des avant d'Ãªtre tuÃ©s."
                    }
                ],
                "genre": [
                    "Shoot'em up",
                    "Top Down Shooter",
                    "Multiplayer Arcade"
                ],
                "url": "https://starblast.io",
                "image": "https://starblast.data.neuronality.com/img/starblast-poster.png",
                "screenshot": "https://starblast.data.neuronality.com/img/screenshots/3-ori.jpg",
                "sameAs": [
                    "https://neuronality.com/starblast.html"
                ],
                "trailer": {
                    "@type": "VideoObject",
                    "url": "https://www.youtube.com/watch?v=q9wuV3P8Adc",
                    "inLanguage": "en",
                    "name": "Starblast",
                    "description": "Multiplayer Arcade Space Shooter io Game! Shoot asteroids and enemies to collect crystals. Upgrade your ship before you get killed!",
                    "uploadDate": "2017-09-22",
                    "thumbnailUrl": "https://starblast.data.neuronality.com/img/screenshots/starblast.jpg"
                }
            }</script>
        <script>
            var gdactive = false;
        </script>
        <script>
            var cgactive = false;
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.27/webfontloader.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/85/three.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/blockadblock/3.2.1/blockadblock.min.js" integrity="sha256-3zU5Lr4nIt3K/BgGOQMduajtZcPV9elIM/23RDXRp3o=" crossorigin="anonymous"></script>
        <script src="https://starblast.io/static/js/atcb.min.js"></script>
        <script>
            var sdflogo = '<?xml version="1.0" encoding="UTF-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg width="152" height="172" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M70.396,0l19.067,41.667l39.802,16.534l10.705,-10.902l-6.012,35.024l-49.189,4.642l-5.533,8.866l-13.582,0.115l-5.98,-8.104l-48.561,-5.646l-3.529,-33.562l10.259,10.495l36.551,-16.657l16.002,-42.472Z" style="fill:#fff;"/><path d="M129.294,79.457l-127.22,73.318l26.274,-2.885l-16.027,20.667l127.22,-73.319l6.128,-15.684l-16.375,-2.097Z" style="fill:#fff;"/><path d="M142.63,152.687l-127.212,-73.331l-15.418,3.391l5.169,14.39l127.212,73.331l-15.942,-20.335l26.191,2.554Z" style="fill:#fff;"/></svg>';
            var b64 = btoa(sdflogo);
            var domurl = self.URL || self.webkitURL || self;
            var sdflogoimg = new Image();
            sdflogoimg.src = "data:image/svg+xml;base64," + b64;
        </script>
        <script id="donatebox" type="text/x-template">
            
        <h2 data-translate="Buy Starblast and become an Elite Commander!"></h2>
        <ul>
            <li data-translate="Get a standalone application for Windows, MacOS and Linux with advanced interface, Galaxy Map, full gamepad support, ingame ship tree, enhanced graphics."></li>
            <li data-translate="Play on the web version starblast.io without ads."></li>
            <li data-translate="Customize your ship material and laser type."></li>
            <li data-translate="Stand out with your ingame custom badge"></li>
            <li data-translate="Be ranked in the leaderboards (Deathmatch and Invasion modes)"></li>
            <li data-translate="Start your games with a fully upgraded Lv1 ship!"></li>
            <li data-translate="Create private custom games with tons of options to share with your friends."></li>
            <li data-translate="Early access to features in beta testing."></li>
            <li data-translate="Show your support to the developers!"></li>
        </ul>
        <div class="textcentered" style="margin-top:30px;" data-translate="Buying options: All buying options include the standalone app and an ECP code to play on the web."></div>
        <table class="buy-table download-apps">
            <tr style="background:rgba(0,0,0,.2)">
                <td><img height="64" src="https://starblast.data.neuronality.com/img/paypal-square.png"></td>
                <td>
                    <div data-translate="Your ECP code will be sent to you by e-mail ; get back to this window to insert your code and find the download links to the standalone application. The minimum price is $10 but you can choose to donate more to show your love and support to the devs. Thanks!"></div>
                    <span class="pricechoice">
                        <span data-price="10">$10</span>
                        <span data-price="15" class="active">$15</span>
                        <span data-price="20">$20</span>
                        <span data-price="50">$50</span>
                    </span>
                    <span id="donatebtn" class="buy-on frozenbg" data-translate="Buy with PayPal"></span>
                </td>
            </tr>
            <tr style="background:rgba(0,0,0,.1)">
                <td><img height="64" src="https://starblast.data.neuronality.com/img/itch.png"></td>
                <td>
                    <div data-translate="Itch.io is a cool platform to buy indie games. You can pay with Paypal, Credit card (Stripe) or Bitcoins. Follow the link in the purchase confirmation e-mail to get your ECP code and download the standalone application."></div>
                    <a href="https://neuronality.itch.io/starblast" target="_blank" class="buy-on frozenbg" data-translate="Buy on Itch.io"></a>
                </td>
            </tr>
            <tr style="background:rgba(0,0,0,.2)">
                <td><img height="64" src="https://starblast.data.neuronality.com/img/steam.png"></td>
                <td>
                    <div data-translate="IMPORTANT NOTICE:<br/>Purchasing on Steam DOES NOT INCLUDE AN ECP CODE anymore.<br/> Buy on Steam only if you want to play the Steam version of the game."></div>
                    <a href="http://store.steampowered.com/app/673260/Starblast/" target="_blank" class="buy-on frozenbg" data-translate="Buy on Steam"></a>
                </td>
            </tr>
        </table>
        <form id="paypal_submission" action="https://www.paypal.com/cgi-bin/webscr" method="post">
            <input type="hidden" name="charset" value="UTF-8" />
            <input type="hidden" name="cmd" value="_xclick" />
            <input type="hidden" name="business" value="admin@neuronball.com" />
            <input type="hidden" name="item_name" value="Starblast.io ECP" />
            <input type="hidden" name="amount" value="" />
            <input type="hidden" name="no_note" value="1" />
            <input type="hidden" name="currency_code" value="" />
            <input type="hidden" name="return" value="https://starblast.io/" />
            <input type="hidden" name="cancel_return" value="https://starblast.io/" />
            <input type="hidden" name="custom" value="" />
            <input type="hidden" name="lc" value="" />
            <input type="hidden" name="no_shipping" value="1" />
            <input type="hidden" name="notify_url" value="https://neuronality.com/starblastio/paypalcallback/" />
        </form>
        <hr />
        <h2 data-translate="Enter my key"></h2>
        <p data-translate="Your already own your ECP? Thank you for your purchase! Please enter your ECP key below:"></p>
        <form id="licenceKeyForm">
            <input id="licenceKey" data-translate-placeholder="Enter your key here"><button id="licenceKeyBtn">OK</button>
        </form>
        <p data-translate="For any problem with your ECP key, please e-mail us at contact@neuronality.com, we will help as soon as we can!"></p>
    
        </script>
        <script id="gameinfos" type="text/x-template">
            
        <div id='infologo'></div>
        <h2>Gameplay</h2>
        <p><b>Starblast.io is an online game created by Neuronality.</b>
            &nbsp;
        Shoot asteroids and enemies to collect crystals. With your crystals, upgrade your ship, buy new ships and buy extra lives for your existing ship.
            &nbsp;
        <b class='blue'>Share the game through Facebook and Twitter! As a reward, you will start games with a fully upgraded Level 1 ship.</b>
            &nbsp;
        Please disable any ad blocker! Advertising is our only way to provide this game for free.
        </p>
        <h2>Publisher information</h2>
        <p><b>Neuronality SARL</b>
        2 Chemin des Rochers
        67120 MOLSHEIM
        FRANCE
        Siret: R.C.S. Saverne TI 808 517 858
        contact@neuronality.com</p>
        <h2>Web Site Terms and Conditions of Use</h2>
        <p>These terms and conditions govern your use of this website; by using this website, you accept these terms and conditions in full. If you disagree with these terms and conditions or any part of these terms and conditions, you must not use this website.
            &nbsp;
            Neuronality may revise these terms and conditions from time-to-time. Revised terms and conditions will apply to the use of this website from the date of the publication of the revised terms and conditions on this website. Please check this page regularly to ensure you are familiar with the current version.
            &nbsp;
            Starblast.io is a Massively Multiplayer Online Web Arcade Game (MMOWAG)
            &nbsp;
            Starblast.io is provided as is, without any particular guarantee. If you like it, play. If you do not like it, leave. Neuronality will not be liable to you for any loss in relation to the use of the service.
            &nbsp;
            Neuronality owns intellectual property rights on the website and material on the website. You cannot reproduce, publish, use or otherwise exploit material on this website without Neuronalityâ€™s consent.
            &nbsp;
            Neuronality authorizes the use of starblast.io game footage in public videos or livestreams published on platforms like Youtube or similar. Published videos can be monetized by their creators. Neuronality cannot claim any share or rights on the revenue generated from such videos.
            &nbsp;
            You accept that Neuronality has the right to cancel your account for any reason, at any time.
            &nbsp;
            These terms and conditions will be governed by and construed in accordance with laws of France, and any disputes relating to these terms and conditions will be subject to the exclusive jurisdiction of the courts of Strasbourg, France.
        </p>
        <h2>Privacy</h2>
        <p>Our website uses local storage to store your nickname and game options.
            Our website uses Google Analytics for anonymous usage statistics.
            Our website uses third party advertising systems such as Google Adsense.</p>
        <h2>Tech info</h2>
        <p>* starblast.io uses THREE.js ; many thanks to mrdoob, WestLangley, alteredq and all contributors
        * We sometimes found inspiration on www.shadertoy.com ; thanks to Inigo Quilez for sharing his deep knowledge and cool experiments
        * starblast.io uses Node.js and engine.io ; thanks to all contributors</p>
        <h2>Music Credits</h2>
        <p>â€¢ Procedurality by PMGL (Survival mode, Team mode) <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC-BY</a>
           â€¢ Argon by Paralx (DeathMatch) <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC-BY</a> - <a href="https://soundcloud.com/paruhlaks" target="_blank">Paralx SoundCloud</a>
           â€¢ Warp Drive by ijash (Alien Intrusion) - <a href="https://www.soundcloud.com/ijash" target="_blank">ijash on SoundCloud</a>
           â€¢ Crystals by Professor Kliq (Invasion mode) - Licensed</p>
        <h2>Spatial thanks</h2>
        <p>Our spatial thanks for your <b>tests and support</b>: Cil, Kanzaki, Kent Wax, Leeroy, Yann, Dugame, ThiÃ©baud, Nicolas, CÃ©dric, Alberto, Steven, Arthur, RÃ©mi, Jemy, Hugo, Anthony, Marine, Nadia, Adrien, HÃ©loÃ¯se.
        &nbsp;
        <b>Our translators:</b>
        * <a href="https://www.reddit.com/user/SzQ1" target="_blank">SzQ1</a> for Polish
        * <a href="https://www.reddit.com/user/Mefodii" target="_blank">Mefodii</a>, <a href="https://www.reddit.com/user/desperad07">desperad07</a> for Russian
        * <a href="https://www.reddit.com/user/fuck_y_all" target="_blank">fkyall</a> for Hungarian
        * <a href="https://www.reddit.com/user/Starblast-Gpolic" target="_blank">Starblast-Gpolic</a> for Spanish
        * <a href="https://www.reddit.com/user/ayane_m" target="_blank">ayane_m</a> for Japanese
        * <a href="https://www.reddit.com/user/GALM-oficial" target="_blank">GALM-oficial</a> for Portuguese
        * <a href="https://www.reddit.com/user/1337_I-I3XX04" target="_blank">O---[==========></a> for German
        * <a href="https://www.reddit.com/user/Alcatraz_Cro" target="_blank">Alcatraze</a> for Croatian
        * <a href="https://www.reddit.com/user/TR_TurkeyFighter" target="_blank">Turkey Fighter</a> for Turkish
        * Kolo for Arabic
        * <a href="https://www.reddit.com/user/tsskyx" target="_blank">tsskyx</a> for Czech
        * A kind anonymous for Slovak
        * <a href="https://www.reddit.com/user/F3ZION" target="_blank">F3ZION</a> for Indonesian
        * A kind anonymous for Dutch
        * <a href="https://www.reddit.com/user/SergioPlus" target="_blank">SergioPlus</a> for Italian
        * <a href="https://www.reddit.com/user/UberVoyager" target="_blank">UberVoyager</a> for Swedish
        * <a href="https://www.reddit.com/user/Salajan_Caius" target="_blank">Salajan_Caius</a> for Romanian
        * <a href="https://www.reddit.com/user/HUCK45" target="_blank">HUCK45</a> for Hebrew
        * <a href="https://telegram.me/ahmadysoheil" target="_blank">soheil ahmady</a> for Farsi
        </p>
        <h2>More online games / partners</h2>
        <p>
        * <a href="http://titotu.io/">titotu.io</a>
        * <a href="http://iogames.space/">iogames.space</a>
        * <a href="http://vseigru.net/">vseigru.net</a>
        * <a href="http://www.addictinggames.com/">Addicting Games</a>
        * <a href="https://www.gametop.com/online/">GameTop</a>
        * <a href="https://www.crazygames.com/c/io">io games on CrazyGames</a>
        </p>
    
        </script>
        <script>
            (function(s, t, a, r, b, l, i, o) {
                var saveAs, O0lOI, extend, hasProp, O0OOl, OOlO1, BuyWeaponButton, HealingButton, RemoveWeaponButton, StoreCountDown, TransferButton, WeaponStoreBackground, WeaponStoreExitButton, WeaponStorePlaceholder, WeaponStoreShipView, WeaponStoreTitle, deepspaceworker, workerfunk, nebulasworker, Scene, OOO10, OO0Ol, O1101, OOlI1, BATTLE_SHIP_TYPES, WEAPON_TYPES, ALIEN_TYPES, Il1l1, ll1IO, OIOO0, IOOl1, OIOlO, STATION_MODULES, ATTACK_POD_MODEL, DEFENCE_POD_MODEL, MINING_POD_MODEL, i, MISSILE_MODEL, ROCKET_MODEL, TORPEDO_MODEL, MINE2_MODEL, MINE_MODEL, j, k, l, m, expand, indexOf, bind, IFrameDetection, II0lI, base, lIO0O, BATTLE_SHIPS, arrayMult, ALIEN_MODELS, HALO_MODELS, GIFT_MODEL, PUMPKIN_MODEL, battle_finished, battle_started, OOII0, exportShipTree, lIIl1, gamesettings, Translations, t, texists, translations;
                !function(t) {
                    "use strict";
                    var e = t.HTMLCanvasElement && t.HTMLCanvasElement.prototype
                      , i = t.Blob && function() {
                        try {
                            return !!new Blob
                        } catch (t) {
                            return !1
                        }
                    }()
                      , s = i && t.Uint8Array && function() {
                        try {
                            return 100 === new Blob([new Uint8Array(100)]).size
                        } catch (t) {
                            return !1
                        }
                    }()
                      , l = t.BlobBuilder || t.WebKitBlobBuilder || t.MozBlobBuilder || t.MSBlobBuilder
                      , n = /^data:((.*?)(;charset=.*?)?)(;base64)?,/
                      , a = (i || l) && t.atob && t.ArrayBuffer && t.Uint8Array && function(t) {
                        var e, a, o, r, h, u, d, I, c;
                        if (!(e = t.match(n)))
                            throw Error("invalid data URI");
                        for (a = e[2] ? e[1] : "text/plain" + (e[3] || ";charset=US-ASCII"),
                        o = !!e[4],
                        r = t.slice(e[0].length),
                        h = o ? atob(r) : decodeURIComponent(r),
                        u = new ArrayBuffer(h.length),
                        d = new Uint8Array(u),
                        I = 0; I < h.length; I += 1)
                            d[I] = h.charCodeAt(I);
                        return i ? new Blob([s ? d : u],{
                            type: a
                        }) : (c = new l,
                        c.append(u),
                        c.getBlob(a))
                    }
                    ;
                    t.HTMLCanvasElement && !e.toBlob && (e.mozGetAsFile ? e.toBlob = function(t, i, s) {
                        t(s && e.toDataURL && a ? a(this.toDataURL(i, s)) : this.mozGetAsFile("blob", i))
                    }
                    : e.toDataURL && a && (e.toBlob = function(t, e, i) {
                        t(a(this.toDataURL(e, i)))
                    }
                    )),
                    "function" == typeof define && define.amd ? define(function() {
                        return a
                    }) : "object" == typeof module && module.exports ? module.exports = a : t.dataURLtoBlob = a
                }(window),
                saveAs = saveAs || function(t) {
                    "use strict";
                    if ("undefined" == typeof navigator || !/MSIE [1-9]\./.test(navigator.userAgent)) {
                        var e = t.document
                          , i = function() {
                            return t.URL || t.webkitURL || t
                        }
                          , s = e.createElementNS("http://www.w3.org/1999/xhtml", "a")
                          , l = "download"in s
                          , n = function(t) {
                            var e = new MouseEvent("click");
                            t.dispatchEvent(e)
                        }
                          , a = t.webkitRequestFileSystem
                          , o = t.requestFileSystem || a || t.mozRequestFileSystem
                          , r = function(e) {
                            (t.setImmediate || t.setTimeout)(function() {
                                throw e
                            }, 0)
                        }
                          , h = "application/octet-stream"
                          , u = 0
                          , d = function(e) {
                            var s = function() {
                                "string" == typeof e ? i().revokeObjectURL(e) : e.remove()
                            };
                            t.chrome ? s() : setTimeout(s, 500)
                        }
                          , I = function(t, e, i) {
                            var s, l;
                            for (e = [].concat(e),
                            s = e.length; s--; )
                                if ("function" == typeof (l = t["on" + e[s]]))
                                    try {
                                        l.call(t, i || t)
                                    } catch (t) {
                                        r(t)
                                    }
                        }
                          , c = function(t) {
                            return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type) ? new Blob(["\ufeff", t],{
                                type: t.type
                            }) : t
                        }
                          , p = function(e, r, p) {
                            p || (e = c(e));
                            var O, m, f, g = this, y = e.type, v = !1, b = function() {
                                I(g, "writestart progress l0101 writeend".split(" "))
                            }, w = function() {
                                if ((v || !O) && (O = i().createObjectURL(e)),
                                m)
                                    m.location.href = O;
                                else {
                                    void 0 == t.open(O, "_blank") && "undefined" != typeof safari && (t.location.href = O)
                                }
                                g.readyState = g.DONE,
                                b(),
                                d(O)
                            }, x = function(t) {
                                return function() {
                                    return g.readyState !== g.DONE ? t.apply(this, arguments) : void 0
                                }
                            }, k = {
                                create: !0,
                                exclusive: !1
                            };
                            return g.readyState = g.INIT,
                            r || (r = "download"),
                            l ? (O = i().createObjectURL(e),
                            s.href = O,
                            s.download = r,
                            void setTimeout(function() {
                                n(s),
                                b(),
                                d(O),
                                g.readyState = g.DONE
                            })) : (t.chrome && y && y !== h && (f = e.slice || e.webkitSlice,
                            e = f.call(e, 0, e.size, h),
                            v = !0),
                            a && "download" !== r && (r += ".download"),
                            (y === h || a) && (m = t),
                            o ? (u += e.size,
                            void o(t.TEMPORARY, u, x(function(t) {
                                t.root.getDirectory("saved", k, x(function(t) {
                                    var i = function() {
                                        t.getFile(r, k, x(function(t) {
                                            t.createWriter(x(function(i) {
                                                i.onwriteend = function(e) {
                                                    m.location.href = t.toURL(),
                                                    g.readyState = g.DONE,
                                                    I(g, "writeend", e),
                                                    d(t)
                                                }
                                                ,
                                                i.onerror = function() {
                                                    var t = i.error;
                                                    t.code !== t.ABORT_ERR && w()
                                                }
                                                ,
                                                "writestart progress l0101 abort".split(" ").forEach(function(t) {
                                                    i["on" + t] = g["on" + t]
                                                }),
                                                i.l0101(e),
                                                g.abort = function() {
                                                    i.abort(),
                                                    g.readyState = g.DONE
                                                }
                                                ,
                                                g.readyState = g.WRITING
                                            }), w)
                                        }), w)
                                    };
                                    t.getFile(r, {
                                        create: !1
                                    }, x(function(t) {
                                        t.remove(),
                                        i()
                                    }), x(function(t) {
                                        t.code === t.NOT_FOUND_ERR ? i() : w()
                                    }))
                                }), w)
                            }), w)) : void w())
                        }
                          , O = p.prototype
                          , m = function(t, e, i) {
                            return new p(t,e,i)
                        };
                        return "undefined" != typeof navigator && navigator.msSaveOrOpenBlob ? function(t, e, i) {
                            return i || (t = c(t)),
                            navigator.msSaveOrOpenBlob(t, e || "download")
                        }
                        : (O.abort = function() {
                            var t = this;
                            t.readyState = t.DONE,
                            I(t, "abort")
                        }
                        ,
                        O.readyState = O.INIT = 0,
                        O.WRITING = 1,
                        O.DONE = 2,
                        O.error = O.onwritestart = O.onprogress = O.onwrite = O.onabort = O.onerror = O.onwriteend = null,
                        m)
                    }
                }("undefined" != typeof self && self || "undefined" != typeof window && window || this.content),
                "undefined" != typeof module && module.exports ? module.exports.saveAs = saveAs : "undefined" != typeof define && null !== define && null != define.amd && define([], function() {
                    return saveAs
                }),
                window.makeScreenshot = function() {
                    var t, e = lIIl1.display.I0OO0.domElement, i = document.createElement("canvas");
                    i.width = e.width,
                    i.height = e.height,
                    t = i.getContext("2d"),
                    t.drawImage(e, 0, 0),
                    i.toBlob(function(t) {
                        var e = new Date;
                        saveAs(t, "starblast-" + e.getTime() + ".png")
                    }, "image/png", 1)
                }
                ,
                module = {},
                require = function(t, e) {
                    return e
                }
                ,
                O0lOI = function() {
                    var t, e, i;
                    return i = function() {
                        if (lIIl1.I01IO.l0OI0)
                            return lIIl1.sendGAEvent("gd_resume"),
                            lIIl1.resume(),
                            lIIl1.respawn(),
                            lIIl1.I01IO.clear(),
                            gdApi.play()
                    }
                    ,
                    e = function() {}
                    ,
                    t = {
                        gameId: "918fa3adc9e24eaa9a8d4ccf68f42259",
                        userId: "7BFF8669-0037-4D21-81C0-AE80D9608D4D-s1",
                        resumeGame: i,
                        pauseGame: e,
                        onInit: function(t) {},
                        onError: function(t) {
                            if (lIIl1.I01IO.l0OI0)
                                return lIIl1.sendGAEvent("gd_error"),
                                lIIl1.resume(),
                                lIIl1.respawn(),
                                gdApi.play(),
                                lIIl1.I01IO.clear()
                        }
                    },
                    function(t, e, i, s, l, n, a) {
                        t.GameDistribution = l,
                        t[l] = t[l] || function() {
                            (t[l].q = t[l].q || []).push(arguments)
                        }
                        ,
                        t[l].l = 1 * new Date,
                        n = e.createElement(i),
                        a = e.getElementsByTagName(i)[0],
                        n.async = 1,
                        n.src = "//html5.api.gamedistribution.com/libs/gd/api.js",
                        a.parentNode.insertBefore(n, a)
                    }(window, document, "script", 0, "gdApi"),
                    gdApi(t)
                }
                ,
                this.l0III = function() {
                    function t(t) {
                        this.value = t,
                        this.speed = 0,
                        this.k = .1,
                        this.f = .1,
                        this.next = [],
                        this.OIl0O = 0,
                        this.ll10O = this.value
                    }
                    return t.prototype.init = function(t) {
                        if (this.value = t,
                        this.OIl0O = 0,
                        null == this.value && (this.value = this.ll10O),
                        this.next.length > 0)
                            return this.next = []
                    }
                    ,
                    t.prototype.push = function(t, e, i, s) {
                        return null == i && (i = this.k),
                        null == s && (s = this.f),
                        this.OIl0O <= 0 ? this.set(t, e, i, s) : this.next.push({
                            target: t,
                            OIl0O: e,
                            k: i,
                            f: s
                        })
                    }
                    ,
                    t.prototype.set = function(t, e, i, s, l) {
                        if (this.target = t,
                        this.OIl0O = e,
                        this.k = null != i ? i : this.k,
                        this.f = null != s ? s : this.f,
                        null == l && (l = !0),
                        null == this.target && (this.target = this.ll10O),
                        l && this.next.length > 0)
                            return this.next = []
                    }
                    ,
                    t.prototype.lIIOO = function(t) {
                        var e, i;
                        if (!(this.OIl0O <= 0)) {
                            for (; ; ) {
                                if (t-- <= 0)
                                    break;
                                if (this.OIl0O -= .0166667,
                                this.OIl0O <= 0)
                                    break;
                                i = "function" == typeof this.target ? this.target(this.OIl0O) : this.target,
                                this.speed *= 1 - this.f,
                                this.speed += this.k * (i - this.value),
                                this.value += this.speed
                            }
                            if (this.OIl0O <= 0) {
                                if (this.next.length > 0)
                                    return e = this.next.splice(0, 1)[0],
                                    this.set(e.target, e.OIl0O, e.k, e.f, !1);
                                if ("number" == typeof this.target && (this.value = this.target),
                                null != this.O0O11)
                                    return this.O0O11(),
                                    this.O0O11 = null
                            }
                        }
                    }
                    ,
                    t
                }(),
                this.lIOl1 = function() {
                    function t(t) {
                        this.component = t,
                        this.OOl1l = new l0III(1),
                        this.O0IlI = new l0III(1),
                        this.rotation = new l0III(0),
                        this.lOIO1 = new l0III(0),
                        this.l0OIO = new l0III(0),
                        this.opacity = new l0III(1)
                    }
                    return t.prototype.Ol10I = function(t) {
                        return this.OOl1l.O0O11 = t
                    }
                    ,
                    t.prototype.isRunning = function() {
                        return this.OOl1l.OIl0O > 0
                    }
                    ,
                    t.prototype.lIIOO = function() {
                        var t, e;
                        return null == this.llllI && (this.llllI = Date.now()),
                        e = Date.now(),
                        t = Math.max(1, Math.min(30, Math.round((e - this.llllI) / 1e3 * 60))),
                        this.llllI = e,
                        this.OOl1l.lIIOO(t),
                        this.O0IlI.lIIOO(t),
                        this.rotation.lIIOO(t),
                        this.lOIO1.lIIOO(t),
                        this.l0OIO.lIIOO(t),
                        this.opacity.lIIOO(t)
                    }
                    ,
                    t.prototype.title = function(t, e, i, s) {
                        return t = (t - (this.component.x + this.component.width / 2)) / this.component.width,
                        e = (e - (this.component.y + this.component.height / 2)) / this.component.height,
                        this.OOl1l.init(.1),
                        this.O0IlI.init(.1),
                        this.opacity.init(0),
                        this.lOIO1.init(t),
                        this.l0OIO.init(e),
                        this.rotation.init(s / 2),
                        this.OOl1l.push(i, 2, .01, .1),
                        this.O0IlI.push(i, 2, .01, .1),
                        this.lOIO1.push(t, 2, .01, .1),
                        this.l0OIO.push(e, 2, .01, .1),
                        this.rotation.push(s, 2, .01, .1),
                        this.opacity.push(1, 2, .1, .5),
                        this.OOl1l.push(1, 2, .05, .4),
                        this.O0IlI.push(1, 2, .05, .4),
                        this.lOIO1.push(0, 2, .05, .4),
                        this.l0OIO.push(0, 2, .05, .4),
                        this.rotation.push(0, 2, .05, .4)
                    }
                    ,
                    t.prototype.init = function(t) {
                        if (null != t.OOl1l && this.OOl1l.init(t.OOl1l),
                        null != t.O0IlI && this.O0IlI.init(t.O0IlI),
                        null != t.lOIO1 && this.lOIO1.init(t.lOIO1),
                        null != t.l0OIO && this.l0OIO.init(t.l0OIO),
                        null != t.rotation && this.rotation.init(t.rotation),
                        null != t.opacity)
                            return this.opacity.init(t.opacity)
                    }
                    ,
                    t.prototype.set = function(t, e, i, s) {
                        return null == t && (t = {}),
                        null == e && (e = 1),
                        null == i && (i = .02),
                        null == s && (s = .2),
                        e = null != t.d ? t.d : e,
                        i = null != t.k ? t.k : i,
                        s = null != t.f ? t.f : s,
                        this.OOl1l.set(null != t.OOl1l ? t.OOl1l : 1, e, i, s),
                        this.O0IlI.set(null != t.O0IlI ? t.O0IlI : 1, e, i, s),
                        this.lOIO1.set(null != t.lOIO1 ? t.lOIO1 : 0, e, i, s),
                        this.l0OIO.set(null != t.l0OIO ? t.l0OIO : 0, e, i, s),
                        this.rotation.set(null != t.rotation ? t.rotation : 0, e, i, s),
                        this.opacity.set(null != t.opacity ? t.opacity : 1, e, i, s)
                    }
                    ,
                    t.prototype.push = function(t, e, i, s) {
                        return null == e && (e = 1),
                        null == i && (i = .02),
                        null == s && (s = .2),
                        e = null != t.d ? t.d : e,
                        i = null != t.k ? t.k : i,
                        s = null != t.f ? t.f : s,
                        this.OOl1l.push(null != t.OOl1l ? t.OOl1l : 1, e, i, s),
                        this.O0IlI.push(null != t.O0IlI ? t.O0IlI : 1, e, i, s),
                        this.lOIO1.push(null != t.lOIO1 ? t.lOIO1 : 0, e, i, s),
                        this.l0OIO.push(null != t.l0OIO ? t.l0OIO : 0, e, i, s),
                        this.rotation.push(null != t.rotation ? t.rotation : 0, e, i, s),
                        this.opacity.push(null != t.opacity ? t.opacity : 1, e, i, s)
                    }
                    ,
                    t.prototype.lO00I = function(e) {
                        return this.init(t.O0lOO),
                        null != e && this.pause(e),
                        this.push(t.normal, 1, .05, .3)
                    }
                    ,
                    t.prototype.pause = function(t) {
                        return this.OOl1l.push(this.OOl1l.value, t, .1, .1),
                        this.O0IlI.push(this.O0IlI.value, t, .1, .1),
                        this.lOIO1.push(this.lOIO1.value, t, .1, .1),
                        this.l0OIO.push(this.l0OIO.value, t, .1, .1),
                        this.rotation.push(this.rotation.value, t, .1, .1),
                        this.opacity.push(this.opacity.value, t, .1, .1)
                    }
                    ,
                    t.O0lOO = {
                        OOl1l: .1,
                        O0IlI: .1,
                        opacity: 0
                    },
                    t.normal = {},
                    t.pressed = {
                        OOl1l: .9,
                        O0IlI: .9,
                        rotation: 0,
                        lOIO1: 0,
                        l0OIO: 0,
                        opacity: .8
                    },
                    t.I1I0l = {
                        OOl1l: 2,
                        O0IlI: 2,
                        rotation: 0,
                        lOIO1: 0,
                        l0OIO: 0,
                        opacity: 0
                    },
                    t
                }(),
                this.OIOIO = function() {
                    function t(t, e, i, s) {
                        this.x = null != t ? t : 0,
                        this.y = null != e ? e : 0,
                        this.width = null != i ? i : 1,
                        this.height = null != s ? s : 1,
                        this.parent = null,
                        this.opacity = 1,
                        this.IOlO1 = !0,
                        this.level = 0,
                        this.levelmod = 0,
                        this.fit = "scale",
                        this.visible = !0,
                        this.rendered_width = 0,
                        this.rendered_height = 0,
                        this.filter = THREE.LinearFilter,
                        this.blending = THREE.NormalBlending,
                        this.IOOOI = new lIOl1(this)
                    }
                    return t.prototype.I0I10 = function(t, e, i, s, l) {
                        var n, a, o;
                        if (this.px = t,
                        this.IO110 = e,
                        this.IO00I = i,
                        this.lI1ll = s,
                        this.level = l,
                        this.level += this.levelmod,
                        null != this.force_ratio)
                            return o = this.force_ratio,
                            n = 1,
                            a = Math.min(this.IO00I / o, this.lI1ll / n),
                            o *= a,
                            n *= a,
                            this.px += (this.IO00I - o) / 2,
                            this.align_top || (this.IO110 += (this.lI1ll - n) / 2),
                            this.IO00I = o,
                            this.lI1ll = n
                    }
                    ,
                    t.prototype.getAbsolutePosition = function() {
                        var t;
                        return null != this.parent && null != this.parent.getAbsolutePosition ? (t = this.parent.getAbsolutePosition(),
                        {
                            x: t.x + this.x * t.width,
                            y: t.y + this.y * t.height,
                            width: t.width * this.width,
                            height: t.height * this.height
                        }) : {
                            x: this.x,
                            y: this.y,
                            width: this.width,
                            height: this.height
                        }
                    }
                    ,
                    t.prototype.II00I = function() {
                        var t, e, i;
                        return i = this.llIO0(this.IO00I),
                        e = this.llIO0(this.lI1ll),
                        null == this.image || this.image.width !== i || this.image.height !== e ? (this.image = document.createElement("canvas"),
                        this.image.width = this.llIO0(this.IO00I),
                        this.image.height = this.llIO0(this.lI1ll)) : this.image.getContext("2d").clearRect(0, 0, i, e),
                        t = this.image.getContext("2d"),
                        t.save(),
                        t.scale(this.image.width / this.IO00I, this.image.height / this.lI1ll),
                        t.translate(-this.px, -this.IO110),
                        this.IOO11(t),
                        t.restore(),
                        this.rendered_width = this.IO00I,
                        this.rendered_height = this.lI1ll,
                        this.image
                    }
                    ,
                    t.prototype.llIO0 = function(t) {
                        return Math.pow(2, Math.ceil(Math.log(t) / Math.LN2))
                    }
                    ,
                    t.prototype.needsUpdate = function() {
                        return this.IOlO1 || null == this.image || this.rendered_width !== this.IO00I || this.rendered_height !== this.lI1ll
                    }
                    ,
                    t.prototype.l0001 = function() {
                        var t;
                        return t = this.IOOOI.opacity.value,
                        null != this.parent && (t *= this.parent.l0001()),
                        t
                    }
                    ,
                    t.prototype.I0l0O = function() {
                        var t, e, i, s;
                        if (this.IOOOI.lIIOO(),
                        null != this.object) {
                            switch (this.object.position.x = this.px + this.IO00I / 2 + this.IOOOI.lOIO1.value * this.IO00I,
                            this.object.position.y = this.IO110 + this.lI1ll / 2 + this.IOOOI.l0OIO.value * this.lI1ll,
                            this.object.position.z = -1e3 - this.level,
                            this.fit) {
                            case "fit":
                                s = Math.min(this.IO00I / this.image.width, this.lI1ll / this.image.height),
                                this.object.scale.x = -s * this.image.width * this.IOOOI.OOl1l.value,
                                this.object.scale.y = s * this.image.height * this.IOOOI.O0IlI.value;
                                break;
                            default:
                                this.object.scale.x = -this.IO00I * this.IOOOI.OOl1l.value,
                                this.object.scale.y = this.lI1ll * this.IOOOI.O0IlI.value
                            }
                            for (this.material.opacity = this.l0001(),
                            this.material.rotation = this.IOOOI.rotation.value - 180 * THREE.Math.DEG2RAD,
                            i = this.parent,
                            t = 0,
                            e = 0; ; ) {
                                if (null == i)
                                    break;
                                t -= i.lOIII,
                                e -= i.lO0OI,
                                i = i.parent
                            }
                            return this.object.position.x += t,
                            this.object.position.y += e
                        }
                    }
                    ,
                    t.prototype.O1IO0 = function() {
                        var t;
                        if (this.needsUpdate()) {
                            if (t = this.image,
                            this.II00I(),
                            null == this.image)
                                return;
                            if (this.image instanceof Image && !this.image.complete)
                                return;
                            if (null == this.parent || null == this.parent.object)
                                return;
                            this.IOlO1 = !1,
                            null == this.texture || t !== this.image ? (this.texture = new THREE.Texture(this.image),
                            this.texture.minFilter = this.filter,
                            this.texture.needsUpdate = !0,
                            this.material = new THREE.SpriteMaterial({
                                map: this.texture,
                                transparent: !0,
                                blending: this.blending
                            }),
                            null != this.object && this.parent.object.remove(this.object),
                            this.object = new THREE.Sprite(this.material),
                            this.parent.object.add(this.object)) : this.texture.needsUpdate = !0
                        }
                        if (null != this.object)
                            return this.object.visible = this.visible
                    }
                    ,
                    t.prototype.IOO11 = function(t) {
                        return t.fillStyle = "rgba(255,255,255,.2)",
                        t.fillRoundRect(0, 0, this.IO00I, this.lI1ll, 10)
                    }
                    ,
                    t.prototype.OOl1O = function(t, e, i) {
                        return !1
                    }
                    ,
                    t.prototype.IlI10 = function(t, e, i) {
                        return !1
                    }
                    ,
                    t.prototype.IOlOI = function(t, e, i) {
                        return !1
                    }
                    ,
                    t.prototype.OIOl1 = function(t) {
                        return !1
                    }
                    ,
                    t.prototype.mouseMove = function(t, e, i) {
                        return !1
                    }
                    ,
                    t.prototype.I1O0O = function(t) {
                        return this.O1IO0(),
                        this.I0l0O()
                    }
                    ,
                    t.prototype.refresh = function() {
                        if (this.I0IO1 = !1,
                        null != this.parent)
                            return this.parent.refresh()
                    }
                    ,
                    t.prototype.I1I0O = function() {}
                    ,
                    t.prototype.dispose = function() {
                        if (null != this.object && null != this.object.dispose && this.object.dispose(),
                        null != this.texture)
                            return this.texture.dispose()
                    }
                    ,
                    t.prototype.OIOOl = function(t) {}
                    ,
                    t
                }(),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.OO0l1 = function(t) {
                    function e(t) {
                        var i;
                        this.I10II = t,
                        e.O11II.constructor.call(this),
                        "string" == typeof this.I10II && (i = this.I10II,
                        this.I10II = new Image,
                        this.I10II.crossOrigin = "anonymous",
                        this.I10II.src = i,
                        this.I10II.onload = function(t) {
                            return function() {
                                return t.I10II.width > 0 && t.I10II.height > 0 && (t.force_ratio = t.I10II.width / t.I10II.height),
                                t.IOlO1 = !0
                            }
                        }(this)),
                        this.I10II.width > 0 && this.I10II.height > 0 && (this.force_ratio = this.I10II.width / this.I10II.height)
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        if (null != this.I10II && this.I10II.width > 0 && this.I10II.height > 0)
                            return t.drawImage(this.I10II, this.px, this.IO110, this.IO00I, this.lI1ll)
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.l0O1l = function(t) {
                    function e(t) {
                        this.IIll0 = t,
                        e.O11II.constructor.call(this),
                        this.pressed = !1,
                        this.enabled = !0
                    }
                    return extend(e, t),
                    e.prototype.OOl1O = function(t, e, i) {
                        return !!this.enabled && (null != this.IIll0 && null != this.IIll0.pressed && "function" == typeof this.IIll0.pressed ? (this.pressed = !0,
                        this.IIll0.pressed() ? this.IOOOI.set(lIOl1.pressed, .5, .3, .4) : this.pressed = !1) : (this.IOOOI.set(lIOl1.pressed, .5, .3, .4),
                        this.pressed = !0),
                        !0)
                    }
                    ,
                    e.prototype.IlI10 = function(t, e, i) {
                        return !!this.enabled && (t >= this.px && e >= this.IO110 && t < this.px + this.IO00I && e < this.IO110 + this.lI1ll ? (this.pressed || (this.pressed = !0,
                        this.IOOOI.set(lIOl1.pressed, .5, .4, .5)),
                        Math.abs(this.lI01I - t) < window.innerWidth / 50 && Math.abs(this.l1O10 - e) < window.innerHeight / 50) : (this.pressed && (this.pressed = !1,
                        this.IOOOI.set(lIOl1.normal, .5, .4, .5)),
                        !1))
                    }
                    ,
                    e.prototype.IOlOI = function(t, e, i) {
                        return !!this.enabled && (null != this.IIll0 && null != this.IIll0.ll1O1 && this.IIll0.ll1O1(),
                        this.pressed && (this.IOOOI.set(lIOl1.normal, .5, .3, .4),
                        this.pressed = !1,
                        null != this.IIll0 && null != this.IIll0.IO1ll && this.IIll0.IO1ll()),
                        !0)
                    }
                    ,
                    e.prototype.OIOl1 = function(t) {
                        return !!this.enabled && (null != this.IIll0 && null != this.IIll0.ll1O1 && this.IIll0.ll1O1(),
                        this.pressed && (this.IOOOI.set(lIOl1.normal, .5, .2, .3),
                        this.pressed = !1),
                        !0)
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.l1I00 = function(t) {
                    function e(t) {
                        this.text = t,
                        e.O11II.constructor.call(this),
                        this.font = "Verdana",
                        this.stroke_size = 0,
                        this.stroke_color = "#000",
                        this.background = "#456",
                        this.radius = .1,
                        this.color = "#FFF",
                        this.font_size = 5,
                        this.align = "center",
                        this.blending = THREE.AdditiveBlending,
                        this.text_shadow = {
                            opacity: 0,
                            blur: 0,
                            color: "#000"
                        }
                    }
                    return extend(e, t),
                    e.prototype.OOI0I = function(t) {
                        return this.IOlO1 = t !== this.text,
                        this.text = t
                    }
                    ,
                    e.prototype.IOO11 = function(t) {
                        var e;
                        if (t.save(),
                        null != this.background && ("function" == typeof this.background ? this.background(t, this.px, this.IO110, this.IO00I, this.lI1ll) : (t.fillStyle = this.background,
                        t.fillRoundRect(this.px, this.IO110, this.IO00I, this.lI1ll, Math.min(this.IO00I, this.lI1ll) * this.radius))),
                        e = this.font_size * this.lI1ll / 10,
                        t.font = e + "pt " + this.font,
                        t.textBaseline = "middle",
                        t.textAlign = this.align,
                        t.fillStyle = this.color,
                        this.stroke_size > 0 && this.text_shadow.opacity > 0) {
                            switch (t.shadowColor = this.text_shadow.color,
                            t.shadowOpacity = this.text_shadow.opacity,
                            t.shadowBlur = this.text_shadow.blur * this.lI1ll / 100,
                            this.align) {
                            case "center":
                                t.fillText(this.text, this.px + this.IO00I / 2, this.IO110 + this.lI1ll / 2);
                                break;
                            case "left":
                                t.fillText(this.text, this.px, this.IO110 + this.lI1ll / 2);
                                break;
                            case "right":
                                t.fillText(this.text, this.px + this.IO00I, this.IO110 + this.lI1ll / 2)
                            }
                            t.shadowBlur = 0,
                            t.shadowOpacity = 0
                        }
                        if (this.stroke_size > 0)
                            switch (t.lineWidth = this.stroke_size * this.lI1ll / 100,
                            t.strokeStyle = this.stroke_color,
                            this.align) {
                            case "center":
                                t.strokeText(this.text, this.px + this.IO00I / 2, this.IO110 + this.lI1ll / 2);
                                break;
                            case "left":
                                t.strokeText(this.text, this.px, this.IO110 + this.lI1ll / 2);
                                break;
                            case "right":
                                t.strokeText(this.text, this.px + this.IO00I, this.IO110 + this.lI1ll / 2)
                            }
                        switch (this.text_shadow.opacity > 0 && 0 === this.stroke_size && (t.shadowColor = this.text_shadow.color,
                        t.shadowOpacity = this.text_shadow.opacity,
                        t.shadowBlur = this.text_shadow.blur * this.lI1ll / 100),
                        this.align) {
                        case "center":
                            t.fillText(this.text, this.px + this.IO00I / 2, this.IO110 + this.lI1ll / 2);
                            break;
                        case "left":
                            t.fillText(this.text, this.px, this.IO110 + this.lI1ll / 2);
                            break;
                        case "right":
                            t.fillText(this.text, this.px + this.IO00I, this.IO110 + this.lI1ll / 2)
                        }
                        return t.restore()
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.OIIl1 = function(t) {
                    function e(t, i, s, l, n, a) {
                        this.text = t,
                        this.O0O11 = i,
                        null == s && (s = 0),
                        null == l && (l = 0),
                        null == n && (n = 1),
                        null == a && (a = 1),
                        e.O11II.constructor.call(this, s, l, n, a),
                        this.background = "hsl(200,50%,50%)",
                        this.color = "#FFF"
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e;
                        return t.save(),
                        t.fillStyle = this.background,
                        t.fillRoundRect(this.px, this.IO110, this.IO00I, this.lI1ll, .05 * Math.min(this.IO00I, this.lI1ll)),
                        e = Math.round(Math.min(this.IO00I / Math.max(1, this.text.length) * .8, this.lI1ll / 4)),
                        t.font = e + "pt Verdana",
                        t.textAlign = "center",
                        t.fillStyle = this.color,
                        t.fillText(this.text, this.px + this.IO00I / 2, this.IO110 + this.lI1ll / 2 + e / 2),
                        t.restore()
                    }
                    ,
                    e.prototype.OOI0I = function(t) {
                        return this.text = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e.prototype.OOl1O = function(t, e, i) {
                        return this.IOOOI.set(lIOl1.pressed, .5, .4, .5),
                        this.pressed = !0,
                        this.lI01I = t,
                        this.l1O10 = e,
                        !0
                    }
                    ,
                    e.prototype.IlI10 = function(t, e, i) {
                        return t >= this.px && e >= this.IO110 && t < this.px + this.IO00I && e < this.IO110 + this.lI1ll ? (this.pressed || (this.pressed = !0,
                        this.IOOOI.set(lIOl1.pressed, .5, .4, .5)),
                        Math.abs(this.lI01I - t) < window.innerWidth / 50 && Math.abs(this.l1O10 - e) < window.innerHeight / 50) : (this.pressed && (this.pressed = !1,
                        this.IOOOI.set(lIOl1.normal, .5, .4, .5)),
                        !1)
                    }
                    ,
                    e.prototype.IOlOI = function(t, e, i) {
                        return this.pressed && (this.IOOOI.set(lIOl1.normal, .5, .4, .5),
                        this.pressed = !1,
                        null != this.O0O11 && this.O0O11()),
                        !0
                    }
                    ,
                    e.prototype.OIOl1 = function(t) {
                        return this.pressed && (this.IOOOI.set(lIOl1.normal, .5, .4, .5),
                        this.pressed = !1),
                        !0
                    }
                    ,
                    e.prototype.refresh = function() {
                        if (this.I0IO1 = !1,
                        null != this.parent)
                            return this.parent.refresh()
                    }
                    ,
                    e.prototype.I1I0O = function() {}
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.I1IIl = function(t) {
                    function e(t) {
                        this.image = t,
                        e.O11II.constructor.call(this, this.image),
                        this.fit = "scale",
                        this.IIII1 = 11
                    }
                    return extend(e, t),
                    e.prototype.I1I0O = function() {
                        if (e.O11II.I1I0O.call(this),
                        null != this.texture)
                            return this.texture.offset.x = this.value / this.IIII1,
                            this.texture.repeat.x = 1 / this.IIII1
                    }
                    ,
                    e.prototype.O1IO0 = function() {
                        if (null == this.object && (e.O11II.O1IO0.call(this),
                        null != this.object))
                            return this.I1I0O(),
                            this.texture.needsUpdate = !0
                    }
                    ,
                    e
                }(OO0l1),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.l001O = function(t) {
                    function e(t, i, s, l) {
                        null == t && (t = 0),
                        null == i && (i = 0),
                        null == s && (s = 1),
                        null == l && (l = 1),
                        e.O11II.constructor.call(this, t, i, s, l),
                        this.children = [],
                        this.Il0I0 = [],
                        this.lOIII = 0,
                        this.lO0OI = 0,
                        this.OOI1l = !1,
                        this.IIll1 = 0,
                        this.Oll0I = 0,
                        this.llIOO = 0,
                        this.OIO00 = 0,
                        this.OOllI = 0,
                        this.I0l0l = 0,
                        this.O0IlO = Date.now(),
                        this.l001l = !0,
                        this.lIlO0 = 1,
                        this.lOI1l = 1.1
                    }
                    return extend(e, t),
                    e.prototype.add = function(t, e, i) {
                        return null == i && (i = e),
                        t.O11l1 = e,
                        t.Ill11 = i,
                        this.children.push(t),
                        t.parent = this
                    }
                    ,
                    e.prototype.remove = function(t) {
                        var e, i, s, l, n;
                        for (n = this.children,
                        i = s = 0,
                        l = n.length; s < l; i = ++s)
                            if ((e = n[i]) === t)
                                return this.children.splice(i, 1),
                                void (null != e.object && null != this.object && this.object.remove(e.object))
                    }
                    ,
                    e.prototype.I1100 = function() {
                        for (; this.children.length > 0; )
                            this.remove(this.children[0])
                    }
                    ,
                    e.prototype.O1IOO = function(t) {
                        return this.IO00I > this.lI1ll * this.lOI1l && null != t.Ill11 ? (t.x = t.Ill11[0],
                        t.y = t.Ill11[1],
                        t.width = t.Ill11[2],
                        t.height = t.Ill11[3]) : t.O11l1 && (t.x = t.O11l1[0],
                        t.y = t.O11l1[1],
                        t.width = t.O11l1[2],
                        t.height = t.O11l1[3]),
                        t.I0I10(this.px + t.x * this.IO00I, this.IO110 + t.y * this.lI1ll, t.width * this.IO00I, t.height * this.lI1ll, this.level + 1)
                    }
                    ,
                    e.prototype.I0I10 = function(t, i, s, l, n) {
                        var a, o, r, h, u, d, I;
                        for (e.O11II.I0I10.call(this, t, i, s, l, n),
                        d = this.children,
                        o = 0,
                        h = d.length; o < h; o++)
                            a = d[o],
                            this.O1IOO(a);
                        if (this.OOI1l) {
                            for (this.IIll1 = 0,
                            this.Oll0I = 0,
                            I = this.children,
                            r = 0,
                            u = I.length; r < u; r++)
                                a = I[r],
                                this.IIll1 = Math.max(this.IIll1, a.px + a.IO00I - this.IO00I - this.px),
                                this.Oll0I = Math.max(this.Oll0I, a.IO110 + a.lI1ll - this.lI1ll - this.IO110);
                            return this.scrollTo(this.OOllI, this.I0l0l)
                        }
                    }
                    ,
                    e.prototype.O0llO = function(t, e) {
                        var i, s, l, n, a, o, r, h;
                        for (h = [],
                        o = r = this.children.length - 1; r >= 0; o = r += -1)
                            i = this.children[o],
                            i.visible && (n = i.px,
                            a = i.IO110,
                            l = i.IO00I,
                            s = i.lI1ll,
                            null != i.IOOOI && (n += l * i.IOOOI.lOIO1.value,
                            a += s * i.IOOOI.l0OIO.value),
                            t + this.lOIII >= n && t + this.lOIII < n + l && e + this.lO0OI >= a && e + this.lO0OI <= a + s && h.push(i));
                        return h
                    }
                    ,
                    e.prototype.OOl1O = function(t, e, i) {
                        var s, l, n, a;
                        for (this.OOI1l && (this.pressed = !0,
                        this.IOl0I = t,
                        this.I1llI = e,
                        this.OlI01 = this.lOIII,
                        this.IlIOO = this.lO0OI),
                        a = this.O0llO(t, e),
                        l = 0,
                        n = a.length; l < n; l++)
                            if (s = a[l],
                            s.OOl1O(t + this.lOIII, e + this.lO0OI, i))
                                return this.Il0I0[i] = s,
                                !0;
                        return !!this.OOI1l
                    }
                    ,
                    e.prototype.IlI10 = function(t, e, i) {
                        if (null != this.Il0I0[i]) {
                            if (this.Il0I0[i].IlI10(t + this.lOIII, e + this.lO0OI, i))
                                return !0;
                            if (this.OOI1l)
                                return this.Il0I0[i].OIOl1(),
                                delete this.Il0I0[i],
                                !0
                        } else if (this.OOI1l)
                            return this.OOllI = Math.max(0, Math.min(this.IIll1, this.OlI01 + 1.5 * (this.IOl0I - t))),
                            this.I0l0l = Math.max(0, Math.min(this.Oll0I, this.IlIOO + 1.5 * (this.I1llI - e))),
                            !0;
                        return !1
                    }
                    ,
                    e.prototype.mouseMove = function(t, e, i) {
                        var s, l, n, a;
                        for (a = this.O0llO(t, e),
                        l = 0,
                        n = a.length; l < n; l++)
                            if (s = a[l],
                            s.mouseMove(t + this.lOIII, e + this.lO0OI, i))
                                return !0;
                        return !1
                    }
                    ,
                    e.prototype.IOlOI = function(t, e, i) {
                        var s;
                        return this.pressed = !1,
                        null != this.Il0I0[i] ? (s = this.Il0I0[i],
                        delete this.Il0I0[i],
                        s.IOlOI(t + this.lOIII, e + this.lO0OI, i)) : (this.OOI1l && this.scrollTo(this.OlI01 + 1.5 * (this.IOl0I - t), this.IlIOO + 1.5 * (this.I1llI - e)),
                        this.OOI1l)
                    }
                    ,
                    e.prototype.scrollTo = function(t, e) {
                        var i, s;
                        if (this.OOllI = Math.max(0, Math.min(this.IIll1, t)),
                        this.I0l0l = Math.max(0, Math.min(this.Oll0I, e)),
                        !this.pressed)
                            return i = Math.round(this.OOllI / (this.IO00I * this.lIlO0)),
                            s = Math.round(this.I0l0l / (this.lI1ll * this.lIlO0)),
                            this.OOllI = Math.max(0, Math.min(this.IIll1, i * this.IO00I * this.lIlO0)),
                            this.I0l0l = Math.max(0, Math.min(this.Oll0I, s * this.lI1ll * this.lIlO0))
                    }
                    ,
                    e.prototype.OIOl1 = function(t) {
                        var e;
                        return this.pressed = !1,
                        null != this.Il0I0[t] ? (e = this.Il0I0[t],
                        delete this.Il0I0[t],
                        e.OIOl1(t)) : this.OOI1l
                    }
                    ,
                    e.prototype.I1O0O = function(t) {
                        var e, i, s, l;
                        for (this.IOOOI.lIIOO(),
                        null == this.object ? (this.object = new THREE.Group,
                        t.add(this.object)) : (this.object.scale.x = this.IOOOI.OOl1l.value,
                        this.object.scale.y = this.IOOOI.O0IlI.value,
                        this.object.position.x = this.IO00I * this.IOOOI.lOIO1.value,
                        this.object.position.y = this.lI1ll * this.IOOOI.l0OIO.value,
                        this.object.visible = this.visible),
                        l = this.children,
                        i = 0,
                        s = l.length; i < s; i++)
                            null != (e = l[i]) && e.I1O0O(this.object);
                        return !0
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        var t, i, s, l;
                        for (e.O11II.I1I0O.call(this),
                        this.IOO1I(),
                        l = this.children,
                        i = 0,
                        s = l.length; i < s; i++)
                            t = l[i],
                            t.I1I0O();
                        return !0
                    }
                    ,
                    e.prototype.l11Ol = function(t, e) {
                        return this.scrollTo(this.lOIII + t * this.IO00I * this.lIlO0, this.lO0OI + e * this.lI1ll * this.lIlO0)
                    }
                    ,
                    e.prototype.OIOOl = function(t) {
                        var e, i, s, l;
                        for (l = this.children,
                        i = 0,
                        s = l.length; i < s; i++)
                            e = l[i],
                            e.OIOOl(t)
                    }
                    ,
                    e.prototype.IOO1I = function() {
                        var t, e, i, s;
                        if (Math.abs(this.OOllI - this.lOIII) + Math.abs(this.I0l0l - this.lO0OI) + Math.abs(this.llIOO) + Math.abs(this.OIO00) > .01) {
                            for (s = Math.min(30, Math.max(1, (Date.now() - this.O0IlO) / 16)),
                            e = 1,
                            i = s; 1 <= i ? e <= i : e >= i; 1 <= i ? ++e : --e)
                                t = .016,
                                this.llIOO = .7 * this.llIOO + t * (this.OOllI - this.lOIII) * 150,
                                this.OIO00 = .7 * this.OIO00 + t * (this.I0l0l - this.lO0OI) * 150,
                                this.lOIII += this.llIOO * t,
                                this.lO0OI += this.OIO00 * t;
                            this.refresh()
                        }
                        return this.O0IlO = Date.now()
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.OO011 = function(t) {
                    function e() {
                        e.O11II.constructor.call(this),
                        this.II1OO = new THREE.Scene,
                        this.llI11 = new THREE.DirectionalLight(16777215,1),
                        this.llI11.position.set(2, -1, 3),
                        this.II1OO.add(this.llI11),
                        this.object = this.II1OO,
                        this.I001I = !1,
                        this.mousepressed = !1,
                        this.O0001 = 1
                    }
                    return extend(e, t),
                    e.prototype.startControl = function(t) {
                        return this.element = t,
                        this.element.addEventListener("touchstart", function(t) {
                            return function(e) {
                                return t.IOOI0(e)
                            }
                        }(this)),
                        this.element.addEventListener("touchmove", function(t) {
                            return function(e) {
                                return t.OIO1O(e)
                            }
                        }(this)),
                        document.addEventListener("touchend", function(t) {
                            return function(e) {
                                return t.IlIII(e)
                            }
                        }(this)),
                        this.element.addEventListener("mousedown", function(t) {
                            return function(e) {
                                return t.O0111(e)
                            }
                        }(this)),
                        this.element.addEventListener("mousemove", function(t) {
                            return function(e) {
                                return t.Ol1O0(e)
                            }
                        }(this)),
                        document.addEventListener("mouseup", function(t) {
                            return function(e) {
                                return t.l00lI(e)
                            }
                        }(this))
                    }
                    ,
                    e.prototype.setSize = function(t, e, i) {
                        return this.width = t,
                        this.height = e,
                        this.O0001 = null != i ? i : 1,
                        this.IOI11 = new THREE.OrthographicCamera(0,this.width,0,this.height,.1,1e4)
                    }
                    ,
                    e.prototype.getAbsolutePosition = function() {
                        return {
                            x: 0,
                            y: 0,
                            width: 1,
                            height: 1
                        }
                    }
                    ,
                    e.prototype.IOOI0 = function(t) {
                        var e, i, s, l, n, a;
                        for (t.preventDefault(),
                        t.stopPropagation(),
                        e = i = 0,
                        s = t.changedTouches.length - 1; i <= s; e = i += 1)
                            l = t.changedTouches[e],
                            n = (l.clientX - this.element.offsetLeft) * this.O0001,
                            a = (l.clientY - this.element.offsetTop) * this.O0001,
                            this.OOl1O(n, a, l.identifier) || null != this.control_listener && this.control_listener.OOl1O(n, a, l.identifier);
                        return !1
                    }
                    ,
                    e.prototype.OIO1O = function(t) {
                        var e, i, s, l, n, a;
                        for (t.preventDefault(),
                        t.stopPropagation(),
                        e = i = 0,
                        s = t.changedTouches.length - 1; i <= s; e = i += 1)
                            l = t.changedTouches[e],
                            n = (l.clientX - this.element.offsetLeft) * this.O0001,
                            a = (l.clientY - this.element.offsetTop) * this.O0001,
                            this.IlI10(n, a, l.identifier) || null != this.control_listener && this.control_listener.IlI10(n, a, l.identifier);
                        return !1
                    }
                    ,
                    e.prototype.IlIII = function(t) {
                        var e, i, s, l, n, a;
                        for (e = i = 0,
                        s = t.changedTouches.length - 1; i <= s; e = i += 1)
                            l = t.changedTouches[e],
                            n = (l.clientX - this.element.offsetLeft) * this.O0001,
                            a = (l.clientY - this.element.offsetTop) * this.O0001,
                            this.IOlOI(n, a, l.identifier) || null != this.control_listener && this.control_listener.IOlOI(n, a, l.identifier);
                        return !1
                    }
                    ,
                    e.prototype.O0111 = function(t) {
                        var e, i;
                        return this.mousepressed = !0,
                        e = (t.clientX - this.element.offsetLeft) * this.O0001,
                        i = (t.clientY - this.element.offsetTop) * this.O0001,
                        this.OOl1O(e, i, "mouse") || null != this.control_listener && this.control_listener.mouseDown(e, i, t),
                        !1
                    }
                    ,
                    e.prototype.Ol1O0 = function(t) {
                        var e, i, s;
                        return t.preventDefault(),
                        i = (t.clientX - this.element.offsetLeft) * this.O0001,
                        s = (t.clientY - this.element.offsetTop) * this.O0001,
                        e = !1,
                        e = this.mousepressed ? this.IlI10(i, s, "mouse") : this.mouseMove(i, s, "mouse"),
                        e || null != this.control_listener && this.control_listener.mouseMove(i, s, t),
                        !1
                    }
                    ,
                    e.prototype.l00lI = function(t) {
                        var e, i;
                        return this.mousepressed = !1,
                        e = (t.clientX - this.element.offsetLeft) * this.O0001,
                        i = (t.clientY - this.element.offsetTop) * this.O0001,
                        this.IOlOI(e, i, "mouse") || null != this.control_listener && this.control_listener.mouseUp(e, i, t),
                        !1
                    }
                    ,
                    e.prototype.lO0lI = function() {
                        return this.I0I10(0, 0, this.width, this.height, 0)
                    }
                    ,
                    e.prototype.render = function(t, e) {
                        if (null == e && (e = !0),
                        this.I1I0O(),
                        this.lO0lI(),
                        this.I1O0O(),
                        this.OIOOl(t),
                        e)
                            return t.render(this.II1OO, this.IOI11)
                    }
                    ,
                    e.prototype.renderScreen = function(t) {
                        return t.render(this.II1OO, this.IOI11)
                    }
                    ,
                    e
                }(l001O),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.ShipAd = function(t) {
                    function e(t, i, s, l) {
                        this.lIIl1 = t,
                        this.ship_type = i,
                        this.hue = null != s ? s : 0,
                        this.finish = null != l ? l : "zinc",
                        e.O11II.constructor.call(this),
                        this.IOlO1 = !1,
                        this.scale = 2
                    }
                    return extend(e, t),
                    e.prototype.needsUpdate = function() {
                        return this.IOlO1
                    }
                    ,
                    e.prototype.setCustom = function(t, e) {
                        if (null == this.object)
                            return this.hue = t,
                            void (this.finish = e);
                        if (t !== this.hue) {
                            for (this.hue = t,
                            this.finish = e; this.object.children.length > 0; )
                                this.object.remove(this.object.children[0]);
                            return this.shipmodel = new I1000(lIO0O.ships_by_code[this.ship_type],this.hue / 360),
                            this.object.add(this.shipmodel.lOI10),
                            this.shipmodel.lOI10.scale.set(-1, 1, 1),
                            this.shipmodel.lOI10.rotation.x = 180 * THREE.Math.DEG2RAD / 3,
                            this.shipmodel.lOI10.rotation.order = "XYZ",
                            this.shipmodel.finish = this.finish,
                            this.shipmodel.IlIOl(),
                            this.shipmodel.ll00l.material = this.shipmodel.material
                        }
                        return e !== this.finish ? (this.finish = e,
                        this.shipmodel.finish = this.finish,
                        this.shipmodel.IlIOl(),
                        this.shipmodel.ll00l.material = this.shipmodel.material) : void 0
                    }
                    ,
                    e.prototype.I0l0O = function() {
                        var t, e, i, s;
                        if (null != this.object) {
                            for (s = Math.min(this.IO00I, this.lI1ll),
                            this.object.position.x = this.px + this.IO00I / 2,
                            this.object.position.y = this.IO110 + this.lI1ll / 2,
                            this.object.position.z = -500,
                            this.object.scale.x = .25 * s * this.scale,
                            this.object.scale.y = .25 * s * this.scale,
                            this.object.scale.z = .25 * s * this.scale,
                            this.scale = 1 + .98 * (this.scale - 1),
                            i = this.parent,
                            t = 0,
                            e = 0; ; ) {
                                if (null == i)
                                    break;
                                t -= i.lOIII,
                                e -= i.lO0OI,
                                i = i.parent
                            }
                            return this.object.position.x += t,
                            this.object.position.y += e
                        }
                    }
                    ,
                    e.prototype.O1IO0 = function() {
                        return e.O11II.O1IO0.call(this),
                        null == this.object && (this.object = new THREE.Group,
                        this.shipmodel = new I1000(lIO0O.ships_by_code[this.ship_type],this.hue / 360),
                        this.object.add(this.shipmodel.lOI10),
                        this.shipmodel.lOI10.scale.set(-1, 1, 1),
                        this.shipmodel.lOI10.rotation.x = 180 * THREE.Math.DEG2RAD / 3,
                        this.shipmodel.lOI10.rotation.order = "XYZ",
                        this.shipmodel.finish = this.finish,
                        this.shipmodel.IlIOl(),
                        this.shipmodel.ll00l.material = this.shipmodel.material,
                        this.parent.object.add(this.object)),
                        this.object.visible = this.visible
                    }
                    ,
                    e.prototype.I1O0O = function(t) {
                        return e.O11II.I1O0O.call(this, t),
                        this.O1IO0(),
                        this.I0l0O()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        if (null != this.object && this.object.visible)
                            return this.shipmodel.lOI10.rotation.z = 180 * THREE.Math.DEG2RAD * 2 * (Date.now() % 1e4 / 1e4),
                            this.shipmodel.propstep(!0)
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.Adbg = function(t) {
                    function e() {
                        e.O11II.constructor.call(this)
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e;
                        return t.save(),
                        t.translate(this.px, this.IO110),
                        e = t.createLinearGradient(0, 0, this.IO00I, this.lI1ll),
                        e.addColorStop(0, "hsla(181,50%,50%,.1)"),
                        e.addColorStop(1, "hsla(207,50%,50%,0)"),
                        t.fillStyle = e,
                        t.fillRect(0, 0, this.IO00I, this.lI1ll),
                        t.restore(),
                        t.strokeStyle = "hsla(253,50%,50%,.5)",
                        t.lineWidth = this.lI1ll / 50,
                        t.strokeRect(0, 0, this.IO00I, this.lI1ll)
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.ScorePanel = function(e) {
                    function i(t, e) {
                        this.lIIl1 = t,
                        this.hue = e,
                        i.O11II.constructor.call(this),
                        this.blending = THREE.AdditiveBlending,
                        this.force_ratio = 10 / 11,
                        this.align_top = !0,
                        this.lIIl1.addKeyListener(9, this),
                        this.shown = !0
                    }
                    return extend(i, e),
                    i.prototype.updateHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    i.prototype.updateScore = function(t) {
                        if (this.view = t,
                        this.visible)
                            return this.IOlO1 = !0
                    }
                    ,
                    i.prototype.IOO11 = function(e) {
                        var i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g, y, v;
                        if (null != this.view) {
                            for (this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,50%,50%,.4)",
                            this.color = "hsla(181,50%,80%,1)",
                            e.save(),
                            e.translate(this.px, this.IO110),
                            v = Math.round(20 * this.IO00I / 512),
                            e.font = v + "pt Play",
                            e.textBaseline = "middle",
                            e.textAlign = "left",
                            e.fillStyle = this.color,
                            e.beginPath(),
                            e.moveTo(0, .025 * this.IO00I),
                            e.lineTo(0, .1 * this.IO00I),
                            e.lineTo(this.IO00I, .1 * this.IO00I),
                            this.lIIl1.is_mobile_app ? e.lineTo(this.IO00I, 0) : (e.lineTo(this.IO00I, .09 * this.IO00I),
                            e.lineTo(.75 * this.IO00I, .09 * this.IO00I),
                            e.lineTo(.72 * this.IO00I, 0)),
                            e.lineTo(.025 * this.IO00I, 0),
                            e.closePath(),
                            e.fill(),
                            e.fillStyle = this.background,
                            e.fillRect(0, .1 * this.IO00I, this.IO00I, this.lI1ll - .1 * this.IO00I),
                            e.fillStyle = this.color,
                            e.fillStyle = "#000",
                            e.fillText(t("Scoreboard"), .05 * this.IO00I, .05 * this.IO00I),
                            this.lIIl1.using_gamepad ? Gamepad.drawButton("RB", e, .5 * this.IO00I, .05 * this.IO00I, .8 * v, this.hue) : this.lIIl1.is_mobile_app || (e.textAlign = "center",
                            e.font = Math.round(.8 * v) + "pt Play",
                            e.fillText("TAB", .5 * this.IO00I, .05 * this.IO00I),
                            e.strokeStyle = "#000",
                            e.strokeRect(.45 * this.IO00I, .02 * this.IO00I, .1 * this.IO00I, .06 * this.IO00I)),
                            v = Math.round(22 * this.IO00I / 512),
                            e.font = v + "pt Play",
                            e.textBaseline = "middle",
                            m = Math.min(10, this.view.getUint8(1)),
                            u = 2,
                            c = this.lIIl1.II1OO.ll00I.status.rank,
                            s = e.createLinearGradient(0, 0, this.IO00I, 0),
                            s.addColorStop(0, "hsla(181,40%,20%,.5)"),
                            s.addColorStop(.05, "hsla(207,40%,20%,0)"),
                            s.addColorStop(1, "hsla(253,40%,20%,.5)"),
                            l = e.createLinearGradient(0, 0, this.IO00I, 0),
                            l.addColorStop(0, "hsla(253,40%,60%,.5)"),
                            l.addColorStop(.05, "hsla(207,40%,60%,0)"),
                            l.addColorStop(1, "hsla(250,40%,60%,.5)"),
                            e.translate(0, this.lI1ll / 11),
                            c > 10 && (a = this.hue,
                            null != this.lIIl1.mode.options && null != this.lIIl1.mode.options.friendly_colors && this.lIIl1.mode.options.friendly_colors > 1 && (a = this.lIIl1.II1OO.ll00I.status.hue),
                            I = this.lIIl1.player_name,
                            p = this.lIIl1.II1OO.ll00I.status.score,
                            o = 9,
                            e.fillStyle = l,
                            e.fillRect(0, o / 11 * this.lI1ll + 2, this.IO00I, this.lI1ll / 11 - 4),
                            e.fillStyle = "hsla(" + a + ",80%,90%,1)",
                            e.textAlign = "left",
                            this.lIIl1.II1OO.ll00I.status.IO00O && (n = Math.round(.08 * this.lI1ll),
                            null != (i = this.lIIl1.names.getCustom(this.lIIl1.II1OO.ll00I.status.id)) && (h = OOIO1.II00I(i.badge, i.laser, i.finish, 48, i.hue),
                            h.complete && e.drawImage(h, 0, (o + .5) / 11 * this.lI1ll - n / 2, 2 * n, n))),
                            e.fillText(c + ". " + I, 5 + .16 * this.lI1ll, (o + .5) / 11 * this.lI1ll),
                            e.textAlign = "right",
                            e.fillText(p, this.IO00I - 10, (o + .5) / 11 * this.lI1ll),
                            m = Math.min(9, m)),
                            o = d = 0,
                            f = m - 1; d <= f; o = d += 1)
                                r = this.view.getUint8(u),
                                g = 16777215 & this.view.getUint32(u + 4, !0),
                                u += 8,
                                a = this.hue,
                                null != this.lIIl1.mode.options && null != this.lIIl1.mode.options.friendly_colors && this.lIIl1.mode.options.friendly_colors > 1 && null != (y = this.lIIl1.II1OO.O0O0O.l0010[r]) && (a = y.lIO00.status.hue),
                                O = this.lIIl1.names.get(r),
                                r === this.lIIl1.II1OO.ll00I.status.id ? (e.fillStyle = l,
                                i = this.lIIl1.names.getCustom(r)) : (e.fillStyle = s,
                                i = this.lIIl1.names.getCustom(r)),
                                e.fillRect(0, o / 11 * this.lI1ll + 2, this.IO00I, this.lI1ll / 11 - 4),
                                e.fillStyle = "hsla(" + a + ",80%,90%,1)",
                                e.textAlign = "left",
                                null != i && (n = Math.round(.08 * this.lI1ll),
                                h = OOIO1.II00I(i.badge, i.laser, i.finish, 48, i.hue),
                                h.complete && e.drawImage(h, 0, (o + .5) / 11 * this.lI1ll - n / 2, 2 * n, n)),
                                e.fillText(o + 1 + ". " + O, 5 + .16 * this.lI1ll, (o + .5) / 11 * this.lI1ll),
                                e.textAlign = "right",
                                e.fillText(g, this.IO00I - 10, (o + .5) / 11 * this.lI1ll);
                            return e.restore()
                        }
                    }
                    ,
                    i.prototype.lO00I = function() {
                        if (!this.shown)
                            return null != this.close_timer && clearTimeout(this.close_timer),
                            this.visible = !0,
                            this.IOlO1 = !0,
                            this.IOOOI.set(),
                            this.shown = !0
                    }
                    ,
                    i.prototype.hide = function() {
                        if (this.shown)
                            return this.IOOOI.set({
                                lOIO1: 1.1
                            }),
                            this.shown = !1,
                            this.close_timer = setTimeout(function(t) {
                                return function() {
                                    return t.visible = !1,
                                    t.close_timer = null
                                }
                            }(this), 1e3)
                    }
                    ,
                    i.prototype.OOl1O = function(t, e, s) {
                        return this.lIIl1.is_mobile_app ? this.hide() : i.O11II.OOl1O.call(this, t, e, s)
                    }
                    ,
                    i.prototype.keyPressed = function() {
                        return this.shown ? this.hide() : this.lO00I()
                    }
                    ,
                    i.prototype.keyReleased = function() {}
                    ,
                    i
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.GameButton = function(t) {
                    function e(t, i, s, l, n) {
                        var a;
                        this.lIIl1 = t,
                        this.name = i,
                        this.icon = s,
                        this.key = l,
                        this.O0O11 = n,
                        e.O11II.constructor.call(this, this),
                        this.blending = THREE.AdditiveBlending,
                        this.hue = 180,
                        null != this.key && (a = "TAB" === this.key ? 9 : "Esc" === this.key ? 27 : this.key.charCodeAt(0),
                        "F11" !== this.key && this.lIIl1.addKeyListener(a, this)),
                        this.using_gamepad = this.lIIl1.using_gamepad
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e, i;
                        this.background = "360",
                        this.color = "hsla(181, 100%, 50%, 1)",
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.color,
                        t.beginPath(),
                        t.moveTo(0, 0),
                        t.lineTo(this.lI1ll / 3, this.lI1ll),
                        t.lineTo(this.IO00I, this.lI1ll),
                        t.lineTo(this.IO00I, 0),
                        t.closePath(),
                        t.fill(),
                        this.lIIl1.is_mobile,
                        this.using_gamepad ? (e = Math.round(this.lI1ll / 2.5),
                        Gamepad.drawButton("menu", t, this.IO00I / 2, this.lI1ll / 2, e, this.hue)) : (e = Math.round(this.lI1ll / 2),
                        t.font = e + "pt FontAwesome",
                        t.textBaseline = "middle",
                        t.textAlign = "center",
                        t.fillStyle = "#000",
                        t.fillText(this.icon, this.IO00I / 2, this.lI1ll / 2)),
                        this.lIIl1.is_mobile || null == this.key || this.using_gamepad || (e = Math.round(this.lI1ll / 4),
                        t.font = e + "pt Play",
                        t.fillText(this.key, .75 * this.IO00I, .5 * this.lI1ll),
                        t.strokeStyle = "#000",
                        i = Math.max(2, this.key.length) * this.lI1ll / 4,
                        t.strokeRect(.75 * this.IO00I - i / 2, .25 * this.lI1ll, i, .5 * this.lI1ll)),
                        t.restore()
                    }
                    ,
                    e.prototype.lO00I = function() {
                        return this.enabled = !0,
                        this.IOOOI.set({
                            l0OIO: 0,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    e.prototype.hide = function() {
                        return this.enabled = !1,
                        this.IOOOI.set({
                            l0OIO: -1.1,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        if (e.O11II.I1I0O.call(this),
                        this.lIIl1.using_gamepad !== this.using_gamepad)
                            return this.using_gamepad = this.lIIl1.using_gamepad,
                            this.IOlO1 = !0
                    }
                    ,
                    e.prototype.IO1ll = function() {
                        if (null != this.O0O11)
                            return this.O0O11()
                    }
                    ,
                    e.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e.prototype.OOl1O = function(t, i) {
                        return null == t ? e.O11II.OOl1O.call(this, t, i) : this.lIIl1.settings.check("buttons_disabled") ? void 0 : e.O11II.OOl1O.call(this, t, i)
                    }
                    ,
                    e.prototype.keyPressed = function() {
                        return this.OOl1O()
                    }
                    ,
                    e.prototype.keyReleased = function() {
                        return this.IOlOI()
                    }
                    ,
                    e
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.Ol0lO = function(e) {
                    function i(t, e, s) {
                        var l, n, a;
                        for (this.lIIl1 = t,
                        this.letter = e,
                        this.type = s,
                        i.O11II.constructor.call(this, {
                            pressed: function(t) {
                                return function() {
                                    return t.buttonPressed()
                                }
                            }(this)
                        }, this.hue = 180),
                        this.blending = THREE.AdditiveBlending,
                        this.IOOOI.init({
                            l0OIO: -1.1
                        }),
                        this.enabled = !1,
                        l = n = 0,
                        a = this.letter.length - 1; n <= a; l = n += 1)
                            this.lIIl1.addKeyListener(this.letter.charCodeAt(l), this);
                        this.show_gamepad = !1,
                        this.gamepad_selected = !1
                    }
                    return extend(i, e),
                    i.prototype.lO00I = function() {
                        return this.enabled = !0,
                        this.IOOOI.set({
                            l0OIO: 0,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    i.prototype.hide = function() {
                        return this.enabled = !1,
                        this.IOOOI.set({
                            l0OIO: -1.1,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    i.prototype.setHue = function(t) {
                        if (t !== this.hue)
                            return this.hue = t,
                            this.repaint()
                    }
                    ,
                    i.prototype.set = function(t) {
                        if (t.code !== this.type.code)
                            return this.type = t,
                            this.repaint()
                    }
                    ,
                    i.prototype.OOl1O = function(t, e) {
                        return null == t ? i.O11II.OOl1O.call(this, t, e) : this.lIIl1.settings.check("buttons_disabled") ? void 0 : i.O11II.OOl1O.call(this, t, e)
                    }
                    ,
                    i.prototype.setGamepadSelected = function(t) {
                        if (t !== this.gamepad_selected)
                            return this.gamepad_selected = t,
                            this.repaint()
                    }
                    ,
                    i.prototype.setShowGamepad = function(t) {
                        if (t !== this.show_gamepad)
                            return this.show_gamepad = t,
                            this.repaint()
                    }
                    ,
                    i.prototype.repaint = function() {
                        return this.IOlO1 = !0
                    }
                    ,
                    i.prototype.IOO11 = function(e) {
                        var s, l, n, a, o;
                        if (null != this.type) {
                            if (this.lIIl1.is_mobile_app)
                                return this.drawComponentMobile(e);
                            this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",
                            e.save(),
                            e.translate(this.px, this.IO110),
                            e.fillStyle = this.background,
                            e.fillRect(0, 0, this.IO00I, this.lI1ll),
                            e.fillStyle = this.medium,
                            e.beginPath(),
                            e.moveTo(0, 0),
                            e.lineTo(this.IO00I / 32, 0),
                            e.lineTo(this.IO00I / 32, .4 * this.lI1ll),
                            e.lineTo(this.IO00I / 64, .6 * this.lI1ll),
                            e.lineTo(this.IO00I / 64, this.lI1ll),
                            e.lineTo(0, this.lI1ll),
                            e.closePath(),
                            e.fill(),
                            e.beginPath(),
                            e.moveTo(this.IO00I, 0),
                            e.lineTo(31 * this.IO00I / 32, 0),
                            e.lineTo(31 * this.IO00I / 32, .4 * this.lI1ll),
                            e.lineTo(63 * this.IO00I / 64, .6 * this.lI1ll),
                            e.lineTo(63 * this.IO00I / 64, this.lI1ll),
                            e.lineTo(this.IO00I, this.lI1ll),
                            e.closePath(),
                            e.fill(),
                            a = Math.round(this.lI1ll / 7),
                            e.font = a + "pt Play",
                            e.textBaseline = "middle",
                            e.textAlign = "left",
                            e.fillStyle = this.color,
                            e.fillText(this.type.name, this.IO00I / 16, this.lI1ll / 4),
                            e.fillStyle = this.color,
                            e.fillText(t("Lv") + "" + this.type.level, this.IO00I / 16, .75 * this.lI1ll),
                            this.lIIl1.is_mobile || this.lIIl1.using_gamepad || (e.fillStyle = this.color,
                            e.strokeStyle = this.color,
                            e.strokeRect(this.IO00I / 4 - a, .75 * this.lI1ll - a, 2 * a, 2 * a),
                            e.textAlign = "center",
                            e.fillText(this.letter.charAt(0), this.IO00I / 4, .75 * this.lI1ll),
                            e.textAlign = "left"),
                            this.lIIl1.using_gamepad && (this.gamepad_selected ? Gamepad.drawDPad(e, this.IO00I / 4, .75 * this.lI1ll, .4 * this.lI1ll, "top", "ï˜", "hsl(120,80%,40%)") : this.show_gamepad ? Gamepad.drawDPad(e, this.IO00I / 4, .75 * this.lI1ll, .4 * this.lI1ll, "top") : Gamepad.drawDPad(e, this.IO00I / 4, .75 * this.lI1ll, .4 * this.lI1ll, "leftright")),
                            e.fillStyle = this.color,
                            a = Math.round(this.lI1ll / 8),
                            e.font = a + "pt Play",
                            o = Math.round(.033333 * (this.type.specs.ship.speed[0] + this.type.specs.ship.acceleration[0] + this.type.specs.ship.rotation[0])),
                            n = Math.round(.05 * (this.type.specs.shield.capacity[0] + 10 * this.type.specs.shield.reload[0])),
                            s = Math.round(.05 * (this.type.specs.generator.capacity[0] + 10 * this.type.specs.generator.reload[0])),
                            e.fillText("MK " + n, .8 * this.IO00I, .25 * this.lI1ll),
                            e.fillText("MK " + s, .8 * this.IO00I, .5 * this.lI1ll),
                            e.fillText("MK " + o, .8 * this.IO00I, .75 * this.lI1ll),
                            e.font = a + "pt FontAwesome",
                            e.fillText("ï„²", .75 * this.IO00I, .25 * this.lI1ll),
                            e.fillText("ïƒ§", .75 * this.IO00I, .5 * this.lI1ll),
                            e.fillText("ïƒ»", .75 * this.IO00I, .75 * this.lI1ll),
                            l = i.II00I(this.type.code, this.hue),
                            e.globalAlpha = .8,
                            e.drawImage(l, this.IO00I / 2 - this.lI1ll / 2, 0, this.lI1ll, this.lI1ll),
                            e.restore()
                        }
                    }
                    ,
                    i.prototype.drawComponentMobile = function(e) {
                        var s, l, n, a;
                        this.color = "hsla(207,70%,70%,1)",
                        e.save(),
                        e.translate(this.px, this.IO110),
                        e.strokeStyle = this.color,
                        e.lineWidth = this.lI1ll / 120,
                        e.shadowBlur = this.lI1ll / 10,
                        e.shadowOpacity = 1,
                        e.shadowColor = this.color,
                        n = this.lI1ll / 30,
                        s = this.lI1ll / 8,
                        e.beginPath(),
                        e.moveTo(n, this.lI1ll - n),
                        e.lineTo(this.IO00I - s, this.lI1ll - n),
                        e.lineTo(this.IO00I - n, this.lI1ll - s),
                        e.lineTo(this.IO00I - n, -n),
                        e.lineTo(n, -n),
                        e.closePath(),
                        e.stroke(),
                        e.shadowBlur = 0,
                        e.shadowOpacity = 0,
                        a = Math.round(this.lI1ll / 5),
                        e.font = a + "pt Play",
                        e.textBaseline = "middle",
                        e.textAlign = "left",
                        e.fillStyle = this.color,
                        e.fillText(this.type.name, this.IO00I / 16, this.lI1ll / 4),
                        e.fillStyle = this.color,
                        e.fillText(t("Lv") + "" + this.type.level, this.IO00I / 16, .5 * this.lI1ll),
                        this.lIIl1.using_gamepad && (this.gamepad_selected ? Gamepad.drawDPad(e, this.IO00I / 4, .75 * this.lI1ll, .4 * this.lI1ll, "top", "ï˜", "hsl(360,80%,40%)") : this.show_gamepad ? Gamepad.drawDPad(e, this.IO00I / 4, .75 * this.lI1ll, .4 * this.lI1ll, "top") : Gamepad.drawDPad(e, this.IO00I / 4, .75 * this.lI1ll, .4 * this.lI1ll, "leftright")),
                        e.fillStyle = this.color,
                        a = Math.round(this.lI1ll / 8),
                        l = i.II00I(this.type.code, this.hue),
                        e.globalAlpha = 1,
                        e.drawImage(l, .6 * this.IO00I - .55 * this.lI1ll, .05 * -this.lI1ll, 1.1 * this.lI1ll, 1.1 * this.lI1ll),
                        e.fillStyle = this.color,
                        a = Math.round(this.lI1ll / 4),
                        e.font = a + "pt SBGlyphs",
                        e.textBaseline = "middle",
                        e.textAlign = "center",
                        e.fillText("Q", .85 * this.IO00I, this.lI1ll / 2),
                        e.restore()
                    }
                    ,
                    i.prototype.buttonPressed = function() {
                        return this.lIIl1.llI1O.Ol0lI(this.type.code),
                        this.pressed = !1,
                        this.lIIl1.sendGAEvent("ship_evt", this.type.name + "-" + this.type.code),
                        !0
                    }
                    ,
                    i.prototype.I1I0O = function() {}
                    ,
                    i.prototype.keyPressed = function() {
                        return this.OOl1O()
                    }
                    ,
                    i.prototype.keyReleased = function() {
                        return this.IOlOI()
                    }
                    ,
                    i.images_buffer = [],
                    i.II00I = function(t, e) {
                        var s;
                        return null == i.images_buffer[t] && (s = new I1000(lIO0O.ships_by_code[t],e / 360),
                        i.images_buffer[t] = s.II00I(),
                        s.dispose()),
                        i.images_buffer[t]
                    }
                    ,
                    i
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.Ill0O = function(t) {
                    function e(t) {
                        var i, s, l, n, a;
                        for (this.lIIl1 = t,
                        e.O11II.constructor.call(this),
                        this.buttons = [],
                        this.lv = 1,
                        this.buttons.push(new Ol0lO(this.lIIl1,"9Ã§",OOlI1.types_by_code[201])),
                        this.buttons.push(new Ol0lO(this.lIIl1,"0Ã ",OOlI1.types_by_code[202])),
                        this.life_button = new Ol000(this.lIIl1,function(t) {
                            return function() {
                                return t.lIIl1.llI1O.buyLife(),
                                t.life_button.pressed = !1,
                                t.lIIl1.sendGAEvent("buylife_evt"),
                                !0
                            }
                        }(this)),
                        this.buttons.push(this.life_button),
                        a = this.buttons,
                        s = l = 0,
                        n = a.length; l < n; s = ++l)
                            i = a[s],
                            this.add(i, [s / 2 + .0025, 0, .495, 1]);
                        this.shown = !1,
                        this.toggled = !0,
                        this.shown_since = 0,
                        this.manual_toggle = !1,
                        this.current_type = null,
                        this.togglable = !this.lIIl1.is_touch_device,
                        this.toggle_button = new ToggleUpgradesButton(this.lIIl1,function(t) {
                            return function() {
                                return t.toggle(!0)
                            }
                        }(this)),
                        this.add(this.toggle_button, [0, 0, 1, .3]),
                        this.lIIl1.addKeyListener("U".charCodeAt(0), {
                            keyPressed: function(t) {
                                return function() {
                                    return t.toggle(!0)
                                }
                            }(this),
                            keyReleased: function(t) {
                                return function() {}
                            }()
                        }),
                        this.current_ship_can_upgrade = !0
                    }
                    return extend(e, t),
                    e.prototype.toggle = function(t) {
                        return null == t && (t = !0),
                        t && (this.manual_toggle = !0),
                        this.toggled = !this.toggled,
                        this.toggled ? this.toggle_button.hide() : this.toggle_button.lO00I()
                    }
                    ,
                    e.prototype.updateHue = function(t) {
                        var e, i, s, l;
                        for (l = this.buttons,
                        i = 0,
                        s = l.length; i < s; i++)
                            e = l[i],
                            e.setHue(t);
                        return this.toggle_button.setHue(t)
                    }
                    ,
                    e.prototype.lO00I = function() {
                        var t, e, i, s, l, n;
                        if (!this.shown)
                            for (this.shown = !0,
                            this.shown_since = Date.now(),
                            n = this.buttons,
                            e = i = 0,
                            s = n.length; i < s; e = ++i)
                                t = n[e],
                                !(e < 2) || OOlI1.shipUpgrades(this.lv, this.lIIl1.II1OO.O0O0O.survival) && this.lIIl1.mode.shipCanUpgrade() ? t.lO00I() : (t.hide(),
                                0 === e && null != (l = this.lIIl1.mode.shipUpgradeLockedMessage()) && this.lIIl1.message(l, "#F88"))
                    }
                    ,
                    e.prototype.hide = function() {
                        var t, e, i, s;
                        if (this.shown)
                            for (this.shown = !1,
                            s = this.buttons,
                            e = 0,
                            i = s.length; e < i; e++)
                                t = s[e],
                                t.hide()
                    }
                    ,
                    e.prototype.relayout = function() {
                        var t, e, i, s;
                        if (this.lIIl1.mode.shipCanBuyLife()) {
                            for (s = .4,
                            t = i = 0; i <= 1; t = i += 1)
                                this.buttons[t].O11l1 = this.buttons[t].Ill11 = [t * s + .0025, 0, s - .005, 1];
                            return this.life_button.O11l1 = this.life_button.Ill11 = [.8025, 0, .195, 1],
                            this.life_button.visible = !0,
                            this.life_button.enabled = !0
                        }
                        for (s = .5,
                        t = e = 0; e <= 1; t = e += 1)
                            this.buttons[t].O11l1 = this.buttons[t].Ill11 = [t * s + .0025, 0, s - .005, 1];
                        return this.life_button.visible = !1,
                        this.life_button.enabled = !1
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        var t;
                        if (this.visible = this.lIIl1.mode.showUpgrades(),
                        (this.lIIl1.using_gamepad || this.lIIl1.mode.disable_ship_upgrade_collapsing) && (this.togglable = !1),
                        this.lIIl1.ll00I.type !== this.current_type && (this.current_type = this.lIIl1.ll00I.type,
                        this.lv = this.lIIl1.ll00I.type.level,
                        t = OOlI1.next(this.current_type),
                        null != t[0] && this.buttons[0].set(t[0]),
                        null != t[1] && this.buttons[1].set(t[1])),
                        this.shown && Date.now() - this.shown_since > 1e4 && this.toggled && this.togglable && !this.manual_toggle && this.toggle(!1),
                        this.lIIl1.ll00I.status.OO0O0 >= this.lIIl1.ll00I.type.level * this.lIIl1.ll00I.type.level * 20 ? this.toggled ? (this.lO00I(),
                        this.relayout(),
                        this.toggle_button.hide()) : (this.hide(),
                        this.toggle_button.lO00I()) : (this.hide(),
                        this.toggle_button.hide(),
                        this.manual_toggle || (this.toggled = !0)),
                        this.lIIl1.mode.shipCanUpgrade() !== this.current_ship_can_upgrade && (this.current_ship_can_upgrade = this.lIIl1.mode.shipCanUpgrade(),
                        this.shown))
                            return this.hide(),
                            this.lO00I()
                    }
                    ,
                    e
                }(l001O),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.OllI1 = function(e) {
                    function i(t, e, s, l, n, a) {
                        var o, r, h;
                        for (this.lIIl1 = t,
                        this.name = e,
                        this.letter = s,
                        this.hue = l,
                        this.index = n,
                        this.ref = a,
                        i.O11II.constructor.call(this, {
                            pressed: function(t) {
                                return function() {
                                    return t.buttonPressed()
                                }
                            }(this)
                        }),
                        this.value = 0,
                        this.max = 1,
                        this.enabled = !1,
                        this.blending = THREE.AdditiveBlending,
                        this.IOOOI.init({
                            l0OIO: 1.1
                        }),
                        o = r = 0,
                        h = this.letter.length - 1; r <= h; o = r += 1)
                            this.lIIl1.addKeyListener(this.letter.charCodeAt(o), this);
                        this.status = "hidden",
                        this.gamepad_selected = !1,
                        this.show_gamepad = !1
                    }
                    return extend(i, e),
                    i.prototype.lO00I = function() {
                        if (this.enabled = this.value < this.max,
                        this.status = "shown",
                        this.value < this.max)
                            return this.IOOOI.set({
                                l0OIO: 0,
                                d: 1,
                                k: .02,
                                f: .2
                            })
                    }
                    ,
                    i.prototype.hide = function() {
                        return this.enabled = !1,
                        this.status = "hidden",
                        this.IOOOI.set({
                            l0OIO: 1.1,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    i.prototype.collapse = function() {
                        return this.enabled = !1,
                        this.status = "collapsed",
                        this.IOOOI.set({
                            l0OIO: .5,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    i.prototype.set = function(t, e, i) {
                        var s;
                        if (s = this.enabled,
                        "collapsed" === this.status && (s = this.value < this.max && i),
                        t !== this.value || e !== this.max || s !== this.enabled)
                            return this.enabled = s,
                            this.value = t,
                            this.max = e,
                            this.value >= this.max && (this.enabled = !1),
                            this.enabled || "shown" !== this.status || this.collapse(),
                            this.enabled && "collapsed" === this.status && this.lO00I(),
                            this.repaint()
                    }
                    ,
                    i.prototype.IOO11 = function(e) {
                        var i, s, l, n, a, o, r;
                        if (this.lIIl1.is_mobile_app)
                            return this.drawComponentMobile(e);
                            for (this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,50%,50%,.4)",
                            this.color = "hsla(181,50%,80%,1)",

                        e.save(),
                        e.translate(this.px, this.IO110),
                        e.fillStyle = this.background,
                        e.fillRect(0, 0, this.IO00I, this.lI1ll),
                        e.fillStyle = this.medium,
                        e.beginPath(),
                        e.moveTo(0, 0),
                        e.lineTo(this.IO00I / 16, 0),
                        e.lineTo(this.IO00I / 16, .4 * this.lI1ll),
                        e.lineTo(this.IO00I / 32, .6 * this.lI1ll),
                        e.lineTo(this.IO00I / 32, this.lI1ll),
                        e.lineTo(0, this.lI1ll),
                        e.closePath(),
                        e.fill(),
                        e.beginPath(),
                        e.moveTo(this.IO00I, 0),
                        e.lineTo(15 * this.IO00I / 16, 0),
                        e.lineTo(15 * this.IO00I / 16, .4 * this.lI1ll),
                        e.lineTo(31 * this.IO00I / 32, .6 * this.lI1ll),
                        e.lineTo(31 * this.IO00I / 32, this.lI1ll),
                        e.lineTo(this.IO00I, this.lI1ll),
                        e.closePath(),
                        e.fill(),
                        n = this.name.split(" "),
                        o = Math.round(Math.min(this.lI1ll / 5, this.IO00I / 12)),
                        e.font = o + "pt Play",
                        e.textBaseline = "middle",
                        e.textAlign = "center",
                        e.fillStyle = this.color,
                        e.fillText(t(n[1]), this.IO00I / 2, this.lI1ll / 4),
                        e.textAlign = "left",
                        this.value < this.max ? e.fillText(t("Lv") + "" + (this.value + 1), this.IO00I / 8, 3 * this.lI1ll / 4) : e.fillText("Max", this.IO00I / 8, 3 * this.lI1ll / 4),
                        i = o / (2 * this.max + this.max - 1),
                        s = l = 0,
                        a = this.max - 1; l <= a; s = l += 1)
                            this.value > s && e.fillRect(7 * this.IO00I / 8 - o, .25 * this.lI1ll + o / 2 - s * i * 3 - 2 * i, o, 2 * i);
                        e.font = 1.5 * o + "pt SBGlyphs",
                        e.fillStyle = this.color,
                        e.fillText(n[0], this.IO00I / 8, this.lI1ll / 4),
                        e.textAlign = "center",
                        this.value < this.max && (this.lIIl1.is_mobile || this.lIIl1.using_gamepad || (e.fillStyle = this.color,
                        e.strokeStyle = this.color,
                        o = this.IO00I / 6,
                        e.strokeRect(4.5 * this.IO00I / 6 - o / 2, .75 * this.lI1ll - o / 2, o, o),
                        r = Math.round(this.lI1ll / 6),
                        e.font = r + "pt Play",
                        e.fillText(this.letter.charAt(0), 4.5 * this.IO00I / 6, .75 * this.lI1ll)),
                        this.lIIl1.using_gamepad ? this.gamepad_selected ? Gamepad.drawDPad(e, 2 * this.IO00I / 3, .75 * this.lI1ll, .4 * this.lI1ll, "bottom", "ï˜", "hsl(120,80%,40%)") : this.show_gamepad ? Gamepad.drawDPad(e, 2 * this.IO00I / 3, .75 * this.lI1ll, .4 * this.lI1ll, "bottom") : Gamepad.drawDPad(e, 2 * this.IO00I / 3, .75 * this.lI1ll, .4 * this.lI1ll, "leftright") : (r = Math.round(this.lI1ll / 3),
                        e.font = 1 * r + "pt SBGlyphs",
                        e.fillStyle = this.color,
                        e.fillText("Â—", this.IO00I / 2, .75 * this.lI1ll))),
                        e.restore()
                    }
                    ,
                    i.prototype.repaint = function() {
                        return this.IOlO1 = !0
                    }
                    ,
                    i.prototype.drawComponentMobile = function(t) {
                        var e, i, s, l, n, a, o, r, h, u;
                        for (this.color = "hsla(207,70%,70%,1)",
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.strokeStyle = this.color,
                        t.lineWidth = this.lI1ll / 120,
                        t.shadowBlur = this.lI1ll / 10,
                        t.shadowOpacity = 1,
                        t.shadowColor = this.color,
                        a = this.lI1ll / 30,
                        i = this.lI1ll / 8,
                        t.beginPath(),
                        t.moveTo(a, a),
                        t.lineTo(this.IO00I - i, a),
                        t.lineTo(this.IO00I - a, i),
                        t.lineTo(this.IO00I - a, this.lI1ll + a),
                        t.lineTo(a, this.lI1ll + a),
                        t.closePath(),
                        t.stroke(),
                        t.shadowBlur = 0,
                        t.shadowOpacity = 0,
                        o = this.name.split(" "),
                        h = Math.round(Math.min(this.lI1ll / 4, this.IO00I / 8)),
                        t.font = h + "pt Play",
                        t.textBaseline = "middle",
                        t.textAlign = "center",
                        t.fillStyle = this.color,
                        e = this.lI1ll / 4,
                        s = e / (2 * this.max + this.max - 1),
                        l = n = 0,
                        r = this.max - 1; n <= r; l = n += 1)
                            this.value > l && t.fillRect(.7 * this.IO00I - e / 2, .275 * this.lI1ll + e / 2 - l * s * 3 - 2 * s, e, 2 * s);
                        t.font = 1.7 * h + "pt SBGlyphs",
                        t.fillStyle = this.color,
                        t.textAlign = "center",
                        t.fillText(o[0], .3 * this.IO00I, .275 * this.lI1ll),
                        t.textAlign = "center",
                        this.value < this.max && (this.lIIl1.using_gamepad ? (u = Math.round(this.lI1ll / 4),
                        t.font = 1 * u + "pt SBGlyphs",
                        t.fillStyle = this.color,
                        t.fillText("Â—", .3 * this.IO00I, .75 * this.lI1ll),
                        this.gamepad_selected ? Gamepad.drawDPad(t, .7 * this.IO00I, .75 * this.lI1ll, .4 * this.lI1ll, "bottom", "ï˜", "hsl(120,80%,40%)") : this.show_gamepad ? Gamepad.drawDPad(t, .7 * this.IO00I, .75 * this.lI1ll, .4 * this.lI1ll, "bottom") : Gamepad.drawDPad(t, .7 * this.IO00I, .75 * this.lI1ll, .4 * this.lI1ll, "leftright")) : (u = Math.round(this.lI1ll / 4),
                        t.font = 1 * u + "pt SBGlyphs",
                        t.fillStyle = this.color,
                        t.fillText("8", this.IO00I / 2, .75 * this.lI1ll))),
                        t.restore()
                    }
                    ,
                    i.prototype.setGamepadSelected = function(t) {
                        if (t !== this.gamepad_selected)
                            return this.gamepad_selected = t,
                            this.repaint()
                    }
                    ,
                    i.prototype.setShowGamepad = function(t) {
                        if (t !== this.show_gamepad)
                            return this.show_gamepad = t,
                            this.repaint()
                    }
                    ,
                    i.prototype.OOI0I = function(t) {
                        if (t !== this.text)
                            return this.text = t,
                            this.repaint()
                    }
                    ,
                    i.prototype.buttonPressed = function() {
                        return this.lIIl1.llI1O.upgradeSpec(this.index),
                        this.pressed = !1,
                        Math.random() < .1 && this.lIIl1.sendGAEvent("upgrade_evt", this.ref),
                        !0
                    }
                    ,
                    i.prototype.OOl1O = function(t, e) {
                        return null == t ? i.O11II.OOl1O.call(this, t, e) : this.lIIl1.settings.check("buttons_disabled") ? void 0 : i.O11II.OOl1O.call(this, t, e)
                    }
                    ,
                    i.prototype.keyPressed = function() {
                        return this.OOl1O()
                    }
                    ,
                    i.prototype.keyReleased = function() {
                        return this.IOlOI()
                    }
                    ,
                    i.prototype.I1I0O = function() {}
                    ,
                    i
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.Ol0O1 = function(t) {
                    function e(t) {
                        var i, s, l, n, a, o, r, h, u, d;
                        for (this.lIIl1 = t,
                        e.O11II.constructor.call(this),
                        this.buttons = [],
                        s = 0,
                        l = [180, 180, 60, 60, 30, 30, 0, 0],
                        this.buttons.push(new OllI1(this.lIIl1,"b Capacity","1&",l[s++],0,"shield_capacity")),
                        this.buttons.push(new OllI1(this.lIIl1,"c Regen","2Ã©",l[s++],1,"shield_regen")),
                        this.buttons.push(new OllI1(this.lIIl1,"d Capacity",'3"',l[s++],2,"generator_capacity")),
                        this.buttons.push(new OllI1(this.lIIl1,"e Regen","4'",l[s++],3,"generator_regen")),
                        this.buttons.push(new OllI1(this.lIIl1,"f Damage","5(",l[s++],4,"fire_damage")),
                        this.buttons.push(new OllI1(this.lIIl1,"g Speed","6Â§-",l[s++],5,"fire_speed")),
                        this.buttons.push(new OllI1(this.lIIl1,"h Speed","7Ã¨",l[s++],6,"ship_speed")),
                        this.buttons.push(new OllI1(this.lIIl1,"i Agility","8!_",l[s++],7,"ship_agility")),
                        h = .005,
                        d = (1 - 8 * h) / 8,
                        u = d + h,
                        this.lIIl1.is_mobile_app && (d = 1 / 8,
                        u = d),
                        r = this.buttons,
                        n = a = 0,
                        o = r.length; a < o; n = ++a)
                            i = r[n],
                            this.add(i, [n * u, 0, d, 1]);
                        this.status = "hidden"
                    }
                    return extend(e, t),
                    e.prototype.lO00I = function() {
                        var t, e, i, s;
                        if ("shown" !== this.status)
                            for (this.status = "shown",
                            s = this.buttons,
                            e = 0,
                            i = s.length; e < i; e++)
                                t = s[e],
                                t.lO00I()
                    }
                    ,
                    e.prototype.collapse = function() {
                        var t, e, i, s;
                        if ("collapsed" !== this.status)
                            for (this.status = "collapsed",
                            s = this.buttons,
                            e = 0,
                            i = s.length; e < i; e++)
                                t = s[e],
                                t.collapse()
                    }
                    ,
                    e.prototype.hide = function() {
                        var t, e, i, s;
                        if ("hidden" !== this.status)
                            for (this.status = "hidden",
                            s = this.buttons,
                            e = 0,
                            i = s.length; e < i; e++)
                                t = s[e],
                                t.hide()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        var t, e, i, s, l, n, a, o;
                        for (this.visible = this.lIIl1.mode.showUpgrades(),
                        e = this.lIIl1.ll00I.status.OO0O0 >= 5 * this.lIIl1.ll00I.type.level,
                        a = this.buttons,
                        i = s = 0,
                        l = a.length; s < l; i = ++s)
                            t = a[i],
                            o = this.lIIl1.ll00I.instance.levels[i],
                            n = this.lIIl1.ll00I.type.level,
                            t.set(o, n, e);
                        return this.lIIl1.ll00I.status.OO0O0 >= 5 * this.lIIl1.ll00I.type.level && !this.lIIl1.ll00I.instance.allMaxed() && OOlI1.levelUpgrades(this.lIIl1.ll00I.type.level) && this.lIIl1.ll00I.status.alive && !this.lIIl1.gameover ? this.lO00I() : this.lIIl1.ll00I.status.alive && 0 !== this.lIIl1.ll00I.instance.l0101() && this.lIIl1.ll00I.status.alive && !this.lIIl1.gameover ? this.collapse() : this.hide()
                    }
                    ,
                    e
                }(l001O),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.Ol000 = function(e) {
                    function i(e, s) {
                        var l;
                        this.lIIl1 = e,
                        this.O0O11 = s,
                        i.O11II.constructor.call(this, this),
                        this.blending = THREE.AdditiveBlending,
                        this.hue = 180,
                        this.key = "+",
                        this.name = t("Life"),
                        l = 187,
                        this.lIIl1.addKeyListener(l, this),
                        this.IOOOI.init({
                            l0OIO: -1.1
                        }),
                        this.enabled = !1,
                        this.show_gamepad = !1,
                        this.gamepad_selected = !1
                    }
                    return extend(i, e),
                    i.prototype.IOO11 = function(t) {
                        var e, i, s;
                        if (this.lIIl1.is_mobile_app)
                            return this.drawComponentMobile(t);
                            this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.fillStyle = this.background,
                        t.fillRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.medium,
                        t.beginPath(),
                        t.moveTo(0, this.lI1ll),
                        t.lineTo(this.IO00I / 8, this.lI1ll),
                        t.lineTo(this.IO00I / 8, .6 * this.lI1ll),
                        t.lineTo(this.IO00I / 16, .4 * this.lI1ll),
                        t.lineTo(this.IO00I / 16, 0),
                        t.lineTo(0, 0),
                        t.closePath(),
                        t.fill(),
                        t.beginPath(),
                        t.moveTo(this.IO00I, this.lI1ll),
                        t.lineTo(7 * this.IO00I / 8, this.lI1ll),
                        t.lineTo(7 * this.IO00I / 8, .6 * this.lI1ll),
                        t.lineTo(15 * this.IO00I / 16, .4 * this.lI1ll),
                        t.lineTo(15 * this.IO00I / 16, 0),
                        t.lineTo(this.IO00I, 0),
                        t.closePath(),
                        t.fill(),
                        e = this.lIIl1.is_mobile ? .5 : .4,
                        i = Math.round(this.lI1ll / 3),
                        t.font = i + "pt FontAwesome",
                        t.textBaseline = "middle",
                        t.textAlign = "center",
                        t.fillStyle = this.color,
                        t.fillText("ï€„", this.IO00I / 2, this.lI1ll * e),
                        t.globalCompositeOperation = "destination-out",
                        t.font = Math.round(.5 * i) + "pt FontAwesome",
                        t.fillText("ï§", this.IO00I / 2, this.lI1ll * e),
                        t.globalCompositeOperation = "source-over",
                        this.lIIl1.is_mobile || this.lIIl1.using_gamepad || (i = Math.round(this.lI1ll / 8),
                        t.font = i + "pt Play",
                        t.fillText(this.key, this.IO00I / 2, .85 * this.lI1ll),
                        t.strokeStyle = this.color,
                        s = Math.max(2, this.key.length) * this.IO00I / 16,
                        t.strokeRect(this.IO00I / 2 - s / 2, .85 * this.lI1ll - s / 2, s, s)),
                        this.lIIl1.using_gamepad && (this.gamepad_selected ? Gamepad.drawDPad(t, this.IO00I / 2, .8 * this.lI1ll, .4 * this.lI1ll, "top", "ï˜", "hsl(120,80%,40%)") : this.show_gamepad ? Gamepad.drawDPad(t, this.IO00I / 2, .8 * this.lI1ll, .4 * this.lI1ll, "top") : Gamepad.drawDPad(t, this.IO00I / 2, .8 * this.lI1ll, .4 * this.lI1ll, "leftright")),
                        t.restore()
                    }
                    ,
                    i.prototype.drawComponentMobile = function(t) {
                        var e, i, s, l, n;
                        this.color = "hsla(207,70%,70%,1)",
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.strokeStyle = this.color,
                        t.lineWidth = this.lI1ll / 120,
                        t.shadowBlur = this.lI1ll / 10,
                        t.shadowOpacity = 1,
                        t.shadowColor = this.color,
                        s = this.lI1ll / 30,
                        e = this.lI1ll / 8,
                        t.beginPath(),
                        t.moveTo(s, this.lI1ll - s),
                        t.lineTo(this.IO00I - e, this.lI1ll - s),
                        t.lineTo(this.IO00I - s, this.lI1ll - e),
                        t.lineTo(this.IO00I - s, -s),
                        t.lineTo(s, -s),
                        t.closePath(),
                        t.stroke(),
                        t.shadowBlur = 0,
                        t.shadowOpacity = 0,
                        i = this.lIIl1.is_mobile ? .5 : .4,
                        l = Math.round(this.lI1ll / 3),
                        t.font = l + "pt FontAwesome",
                        t.textBaseline = "middle",
                        t.textAlign = "center",
                        t.fillStyle = this.color,
                        t.fillText("ï€„", this.IO00I / 2, this.lI1ll * i),
                        t.globalCompositeOperation = "destination-out",
                        t.font = Math.round(.5 * l) + "pt FontAwesome",
                        t.fillText("ï§", this.IO00I / 2, this.lI1ll * i),
                        t.globalCompositeOperation = "source-over",
                        this.lIIl1.is_mobile || this.lIIl1.using_gamepad || (l = Math.round(this.lI1ll / 8),
                        t.font = l + "pt Play",
                        t.fillText(this.key, this.IO00I / 2, .85 * this.lI1ll),
                        t.strokeStyle = this.color,
                        n = Math.max(2, this.key.length) * this.IO00I / 16,
                        t.strokeRect(this.IO00I / 2 - n / 2, .85 * this.lI1ll - n / 2, n, n)),
                        this.lIIl1.using_gamepad && (this.gamepad_selected ? Gamepad.drawDPad(t, this.IO00I / 2, .8 * this.lI1ll, .4 * this.lI1ll, "top", "ï˜", "hsl(120,80%,40%)") : this.show_gamepad ? Gamepad.drawDPad(t, this.IO00I / 2, .8 * this.lI1ll, .4 * this.lI1ll, "top") : Gamepad.drawDPad(t, this.IO00I / 2, .8 * this.lI1ll, .4 * this.lI1ll, "leftright")),
                        t.restore()
                    }
                    ,
                    i.prototype.setGamepadSelected = function(t) {
                        if (t !== this.gamepad_selected)
                            return this.gamepad_selected = t,
                            this.IOlO1 = !0
                    }
                    ,
                    i.prototype.setShowGamepad = function(t) {
                        if (t !== this.show_gamepad)
                            return this.show_gamepad = t,
                            this.IOlO1 = !0
                    }
                    ,
                    i.prototype.lO00I = function() {
                        return this.enabled = !0,
                        this.IOOOI.set({
                            l0OIO: 0,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    i.prototype.hide = function() {
                        return this.enabled = !1,
                        this.IOOOI.set({
                            l0OIO: -1.1,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    i.prototype.I1I0O = function() {}
                    ,
                    i.prototype.IO1ll = function() {
                        if (null != this.O0O11)
                            return this.O0O11()
                    }
                    ,
                    i.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    i.prototype.keyPressed = function() {
                        return this.OOl1O()
                    }
                    ,
                    i.prototype.keyReleased = function() {
                        return this.IOlOI()
                    }
                    ,
                    i
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.ToggleUpgradesButton = function(t) {
                    function e(t, i) {
                        this.lIIl1 = t,
                        this.top = null == i || i,
                        e.O11II.constructor.call(this, this),
                        this.blending = THREE.AdditiveBlending,
                        this.hue = 180,
                        this.IOOOI.init({
                            l0OIO: -1.1
                        }),
                        this.force_ratio = 16,
                        this.shown = !1
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e, i;
                        return this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.background,
                        t.fillRect(0, 0, this.IO00I, this.lI1ll),
                        i = Math.round(this.lI1ll / 2),
                        e = this.top ? "ïƒ—" : "ïƒ˜",
                        t.font = i + "pt FontAwesome",
                        t.textAlign = "left",
                        t.textBaseline = "middle",
                        t.fillStyle = this.color,
                        t.fillText(e, this.lI1ll / 2, this.lI1ll / 2),
                        t.textAlign = "right",
                        t.fillText(e, this.IO00I - this.lI1ll / 2, this.lI1ll / 2),
                        t.strokeStyle = this.color,
                        t.rect(this.IO00I / 2 - .4 * this.lI1ll, .1 * this.lI1ll, .8 * this.lI1ll, .8 * this.lI1ll),
                        t.stroke(),
                        t.font = i + "pt Play",
                        t.textAlign = "center",
                        t.fillText("U", this.IO00I / 2, this.lI1ll / 2),
                        t.restore()
                    }
                    ,
                    e.prototype.lO00I = function() {
                        if (!this.shown)
                            return this.shown = !0,
                            this.IOOOI.set({
                                l0OIO: 0,
                                d: 1,
                                k: .02,
                                f: .2
                            })
                    }
                    ,
                    e.prototype.hide = function() {
                        if (this.shown)
                            return this.shown = !1,
                            this.IOOOI.set({
                                l0OIO: -1.1,
                                d: 1,
                                k: .02,
                                f: .2
                            })
                    }
                    ,
                    e.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e
                }(OIOIO),
                this.lOOO0 = function() {
                    function t(t) {
                        this.lIIl1 = t,
                        this.canvas = document.createElement("canvas"),
                        this.canvas.width = 512,
                        this.canvas.height = 512,
                        (this.lIIl1.mode.radar_zoom > 2 || this.lIIl1.mode.high_def_radar) && (this.canvas.width = 1024,
                        this.canvas.height = 1024),
                        this.canvas2 = document.createElement("canvas"),
                        this.canvas2.width = 512,
                        this.canvas2.height = 512,
                        this.lOI10 = new THREE.Group,
                        this.texture = new THREE.Texture(this.canvas),
                        this.texture.minFilter = THREE.LinearFilter,
                        this.texture.wrapS = this.texture.wrapT = THREE.RepeatWrapping,
                        this.texture.repeat.set(1 / this.lIIl1.mode.radar_zoom, 1 / this.lIIl1.mode.radar_zoom),
                        this.texture2 = new THREE.Texture(this.canvas2),
                        this.texture2.minFilter = THREE.LinearFilter,
                        this.l0I1l = new THREE.PlaneGeometry(1,1),
                        this.material = new THREE.MeshBasicMaterial({
                            map: this.texture,
                            transparent: !0,
                            depthTest: !1,
                            depthWrite: !1,
                            blending: THREE.AdditiveBlending
                        }),
                        this.m1 = new THREE.Mesh(this.l0I1l,this.material),
                        this.geom2 = new THREE.PlaneGeometry(1,1),
                        this.material2 = new THREE.MeshBasicMaterial({
                            map: this.texture2,
                            transparent: !0,
                            depthTest: !1,
                            depthWrite: !1
                        }),
                        this.m2 = new THREE.Mesh(this.geom2,this.material2),
                        this.lOI10.add(this.m2),
                        this.lOI10.add(this.m1),
                        this.m1.position.z = -1
                    }
                    return t.prototype.Ol00O = function(t, e) {
                        var i;
                        t /= this.lIIl1.size,
                        e /= this.lIIl1.size,
                        i = .5 - .5 / this.lIIl1.mode.radar_zoom,
                        this.texture.offset.x = t + i,
                        this.texture.offset.y = e + i
                    }
                    ,
                    t.prototype.setHue = function(t) {
                        if (t !== this.hue && null != this.data)
                            return this.I0l0O(this.data, t)
                    }
                    ,
                    t.prototype.IlOII = function(t) {
                        var e, i, s, l, n, a, o, r, h, u;
                        for (i = this.canvas.getContext("2d"),
                        i.save(),
                        i.clearRect(0, 0, this.canvas.width, this.canvas.height),
                        i.translate(this.canvas.width / 2, this.canvas.height / 2),
                        i.scale(this.canvas.width / 2, this.canvas.height / 2),
                        e = new O0lOl(t,this.lIIl1.IOI1l,this.lIIl1.mode),
                        u = {},
                        i.fillStyle = "hsla(207,50%,50%,.4)",
                        l = a = -this.lIIl1.IOI1l,
                        r = this.lIIl1.IOI1l - 1; a <= r; l = a += 1)
                            for (n = o = -this.lIIl1.IOI1l,
                            h = this.lIIl1.IOI1l - 1; o <= h; n = o += 1)
                                e.get(l, n, u),
                                u.on && (i.beginPath(),
                                i.arc(u.x / this.lIIl1.IOI1l, -u.y / this.lIIl1.IOI1l, u.size / this.lIIl1.IOI1l, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                                i.fill());
                        return s = i.createRadialGradient(0, 0, 0, 0, 0, .05),
                        s.addColorStop(0, "rgba(197,255,255,1)"),
                        s.addColorStop(.5, "hsla(207,90%,80%,1)"),
                        s.addColorStop(1, "hsla(181,90%,80%,0)"),
                        i.fillStyle = s,
                        i.fillRect(-.05, -.05, .1, .1),
                        this.lIIl1.mode.drawRadarInfo(i),
                        i.restore(),
                        this.texture.needsUpdate = !0
                    }
                    ,
                    t.prototype.I0l0O = function(t, e) {
                        return this.data = t,
                        this.hue = e,
                        this.IlOII(this.data.seed),
                        this.update2(this.data, this.hue)
                    }
                    ,
                    t.prototype.update2 = function(t, e) {
                        var i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g, y, v;
                        for (c = new O1101(t.seed),
                        this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",
                        i = this.canvas2.getContext("2d"),
                        i.save(),
                        i.translate(this.canvas2.width / 2, this.canvas2.height / 2),
                        i.scale(this.canvas2.width / 2, this.canvas2.height / 2),
                        i.clearRect(-1, -1, 2, 2),
                        n = i.createRadialGradient(0, 0, 0, 0, 0, 1.41),
                        n.addColorStop(0, "rgba(0,0,0,1)"),
                        n.addColorStop(1, "rgba(0,0,0,0.5)"),
                        i.fillStyle = n,
                        i.fillRect(-1, -1, 2, 2),
                        n = i.createRadialGradient(0, 0, 0, 0, 0, 1),
                        n.addColorStop(0, "hsla(181,100%,80%,.3)"),
                        n.addColorStop(1, "hsla(181,100%,80%,0)"),
                        i.fillStyle = n,
                        i.fillRect(-1, -1, 2, 2),
                        i.lineWidth = .02,
                        i.strokeStyle = "hsla(181,50%,70%,.5)",
                        i.beginPath(),
                        i.rect(-1, -1, 2, 2),
                        i.lineWidth = .02,
                        s = .2 * c.next() + .1,
                        g = c.ll1Il(5) + 2,
                        I = o = .1,
                        p = s; o <= .8; I = o += p)
                            for (v = 180 * THREE.Math.DEG2RAD / (2 * g),
                            a = r = 0,
                            O = g - 1; r <= O; a = r += 1)
                                i.strokeStyle = "hsla(181,30%,50%," + (1 - I) + ")",
                                i.beginPath(),
                                i.arc(0, 0, I, 4 * a * v - v + 180 * THREE.Math.DEG2RAD / 2, 4 * a * v + v + 180 * THREE.Math.DEG2RAD / 2, !1),
                                i.stroke();
                        for (i.lineWidth = .005,
                        n = i.createRadialGradient(0, 0, 0, 0, 0, 1.1),
                        n.addColorStop(0, "hsla(181,100%,90%,.5)"),
                        n.addColorStop(1, "hsla(181,100%,90%,0)"),
                        i.strokeStyle = n,
                        l = .05 * (1 + c.ll1Il(2)),
                        a = h = -1,
                        m = l; h <= 1.01; a = h += m)
                            y = 1,
                            i.beginPath(),
                            i.moveTo(-y, a),
                            i.lineTo(y, a),
                            i.stroke(),
                            i.beginPath(),
                            i.moveTo(a, -y),
                            i.lineTo(a, y),
                            i.stroke();
                        for (i.strokeStyle = "hsla(181,90%,80%,.5)",
                        l = .025 * (1 + c.ll1Il(2)),
                        a = u = -.75,
                        f = l; u <= .751; a = u += f)
                            ;
                        for (a = d = 0; d <= 3; a = ++d)
                            ;
                        return i.fillStyle = this.color,
                        i.fillRect(-.015, -.04, .03, .08),
                        i.fillRect(-.04, -.015, .08, .03),
                        i.fillStyle = this.color,
                        i.fillRect(-1, -1, .03, 2),
                        i.fillRect(.97, -1, .03, 2),
                        i.save(),
                        i.scale(2 / this.canvas.width, 2 / this.canvas.height),
                        i.fillStyle = "hsla(181,90%,90%,1)",
                        i.font = "12pt Bungee",
                        i.textAlign = "center",
                        i.restore(),
                        i.restore(),
                        this.texture2.needsUpdate = !0
                    }
                    ,
                    t.prototype.updateRepulsor = function(t) {
                        var e, i, s, l, n, a, o;
                        if (null == this.repulsor_backup && (this.repulsor_backup = document.createElement("canvas"),
                        this.repulsor_backup.width = this.canvas.width,
                        this.repulsor_backup.height = this.canvas.height,
                        this.repulsor_backup.getContext("2d").drawImage(this.canvas, 0, 0),
                        this.repulsor_time = 0),
                        (a = Date.now()) > this.repulsor_time) {
                            if (this.repulsor_time = a + 1e3,
                            e = this.canvas.getContext("2d"),
                            e.clearRect(0, 0, this.canvas.width, this.canvas.height),
                            e.drawImage(this.repulsor_backup, 0, 0),
                            e.fillStyle = "hsla(" + (this.hue + 180) + ",90%,80%,.15)",
                            e.strokeStyle = "hsla(" + (this.hue + 180) + ",90%,80%,.3)",
                            e.lineWidth = 2,
                            (o = t * OOO10.lIIll) > 1)
                                for (i = l = -1; l <= 1; i = l += 1)
                                    for (s = n = -1; n <= 1; s = n += 1)
                                        e.beginPath(),
                                        e.arc(this.canvas.width / 2 + i * this.canvas.width, this.canvas.height / 2 + s * this.canvas.height, this.canvas.width / 2 * o, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                                        e.fill(),
                                        e.stroke();
                            else
                                e.beginPath(),
                                e.arc(this.canvas.width / 2, this.canvas.height / 2, this.canvas.width / 2 * o, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                                e.fill(),
                                e.stroke();
                            return this.texture.needsUpdate = !0
                        }
                    }
                    ,
                    t
                }(),
                this.SystemName = function() {
                    function t(t) {
                        this.lIIl1 = t,
                        this.canvas = document.createElement("canvas"),
                        this.canvas.width = 512,
                        this.canvas.height = 64,
                        this.texture = new THREE.Texture(this.canvas),
                        this.texture.minFilter = THREE.LinearFilter,
                        this.l0I1l = new THREE.PlaneGeometry(1,1),
                        this.material = new THREE.MeshBasicMaterial({
                            map: this.texture,
                            transparent: !0,
                            depthTest: !1,
                            depthWrite: !1,
                            blending: THREE.AdditiveBlending
                        }),
                        this.ll00l = new THREE.Mesh(this.l0I1l,this.material),
                        this.ll00l.scale.set(1, .125, 1),
                        this.ll00l.position.y = .5875
                    }
                    return t.prototype.setHue = function(t) {
                        if (t !== this.hue && null != this.data)
                            return this.I0l0O(this.data, t)
                    }
                    ,
                    t.prototype.I1I0O = function() {
                        if (this.using_gamepad !== this.lIIl1.using_gamepad && (this.using_gamepad = this.lIIl1.using_gamepad,
                        null != this.data && null != this.hue))
                            return this.I0l0O(this.data, this.hue)
                    }
                    , // alien gg yes
                    t.prototype.I0l0O = function(t, e) {
                        var i, s, l, n, a, o, r, h, u, d, I, c, p;
                        for (this.data = t,
                        this.hue = e,
                        u = new O1101(t.seed),
                        this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",

                        s = this.canvas.getContext("2d"),
                        s.clearRect(0, 0, this.canvas.width, this.canvas.height),
                        s.fillStyle = this.background,
                        s.fillRect(0, 0, this.canvas.width, this.canvas.height),
                        l = this.canvas.height / 4,
                        n = l / 2,
                        s.fillStyle = this.color,
                        s.beginPath(),
                        s.moveTo(0, 0),
                        s.lineTo(0, this.canvas.height),
                        s.lineTo(n, this.canvas.height),
                        s.lineTo(n, .7 * this.canvas.height),
                        s.lineTo(l, .5 * this.canvas.height),
                        s.lineTo(l, 0),
                        s.closePath(),
                        s.fill(),
                        s.strokeStyle = this.medium,
                        s.fillStyle = this.color,
                        s.lineWidth = 1.5,
                        r = 2 + u.ll1Il(3),
                        a = o = 1,
                        d = r; o <= d; a = o += 1)
                            s.beginPath(),
                            s.arc(this.canvas.height / 2 + l, this.canvas.height / 2, a / (r + 1) * this.canvas.height / 2, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                            s.stroke(),
                            i = u.next() * (180 * THREE.Math.DEG2RAD) * 2,
                            c = this.canvas.height / 2 + l + a / (r + 1) * this.canvas.height / 2 * Math.cos(i),
                            p = this.canvas.height / 2 + a / (r + 1) * this.canvas.height / 2 * Math.sin(i),
                            h = 2 * u.next() + 1,
                            s.beginPath(),
                            s.arc(c, p, h, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                            s.fill();
                        for (s.fillStyle = this.color,
                        s.beginPath(),
                        s.arc(this.canvas.height / 2 + l, this.canvas.height / 2, 3, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                        s.fill(),
                        s.beginPath(),
                        s.moveTo(this.canvas.width, 0),
                        s.lineTo(this.canvas.width, this.canvas.height),
                        s.lineTo(this.canvas.width - n, this.canvas.height),
                        s.lineTo(this.canvas.width - n, .7 * this.canvas.height),
                        s.lineTo(this.canvas.width - l, .5 * this.canvas.height),
                        s.lineTo(this.canvas.width - l, 0),
                        s.closePath(),
                        s.fill(),
                        s.fillStyle = this.color,
                        I = 28; ; ) {
                            if (s.font = I + "pt Play",
                            s.measureText(t.name).width < .7 * this.canvas.width || I < 10)
                                break;
                            I -= 1
                        }
                        return s.textAlign = "left",
                        s.textBaseline = "middle",
                        s.fillText(t.name, this.canvas.height + 2 * l, this.canvas.height / 2),
                        this.using_gamepad || (s.font = Math.round(.6 * I) + "pt Play",
                        s.textAlign = "center",
                        s.fillText("R", this.canvas.width - 4 * l, this.canvas.height / 2),
                        s.strokeStyle = this.color,
                        s.lineWidth = 1,
                        s.strokeRect(this.canvas.width - 5 * l, this.canvas.height / 2 - l, 2 * l, 2 * l)),
                        this.texture.needsUpdate = !0
                    }
                    ,
                    t
                }(),
                this.RadarLine = function() {
                    function t(t) {
                        var e, i, s, l;
                        for (this.lIIl1 = t,
                        this.canvas = document.createElement("canvas"),
                        this.canvas.width = 128,
                        this.canvas.height = 64,
                        this.texture = new THREE.Texture(this.canvas),
                        this.texture.minFilter = THREE.LinearFilter,
                        this.l0I1l = new THREE.PlaneGeometry(1,1),
                        this.material = new THREE.MeshBasicMaterial({
                            map: this.texture,
                            transparent: !0,
                            depthTest: !1,
                            depthWrite: !1,
                            blending: THREE.AdditiveBlending
                        }),
                        s = this.l0I1l.vertices,
                        e = 0,
                        i = s.length; e < i; e++)
                            l = s[e],
                            l.x += .5,
                            l.y += .5;
                        this.ll00l = new THREE.Mesh(this.l0I1l,this.material),
                        this.ll00l.scale.set(.5, .25, 1)
                    }
                    return t.prototype.setHue = function(t) {
                        if (t !== this.hue && null != this.data)
                            return this.I0l0O(this.data, t)
                    }
                    ,
                    t.prototype.I0l0O = function(t, e) {
                        var i, s;
                        return this.data = t,
                        this.hue = e,
                        new O1101(t.seed),
                        i = this.canvas.getContext("2d"),
                        i.save(),
                        i.translate(0, 64),
                        i.scale(1, -1),
                        s = i.createLinearGradient(0, 0, 0, this.canvas.height),
                        s.addColorStop(0, "hsla(181,90%,90%,1)"),
                        s.addColorStop(1, "hsla(181,90%,90%,0)"),
                        i.fillStyle = s,
                        i.fillRect(0, 0, this.canvas.width, this.canvas.height),
                        i.globalCompositeOperation = "destination-in",
                        s = i.createLinearGradient(0, 0, this.canvas.width, 0),
                        s.addColorStop(0, "rgba(255,255,255,0)"),
                        s.addColorStop(1, "rgba(255,255,255,1)"),
                        i.fillStyle = s,
                        i.fillRect(0, 0, this.canvas.width, this.canvas.height),
                        s = i.createRadialGradient(0, 0, 0, 0, 0, this.canvas.width),
                        s.addColorStop(0, "rgba(255,255,255,1)"),
                        s.addColorStop(1, "rgba(255,255,255,0)"),
                        i.fillStyle = s,
                        i.fillRect(0, 0, this.canvas.width, this.canvas.height),
                        i.globalCompositeOperation = "source-over",
                        s = i.createLinearGradient(0, 0, this.canvas.width, 0),
                        s.addColorStop(0, "hsla(181,90%,0%,.0)"),
                        s.addColorStop(.1, "hsla(181,90%,0%,.0)"),
                        s.addColorStop(.2, "hsla(181,90%,0%,.8)"),
                        s.addColorStop(.5, "hsla(181,90%,0%,.8)"),
                        s.addColorStop(1, "hsla(181,90%,0%,.0)"),
                        i.fillStyle = s,
                        s = i.createLinearGradient(0, 0, this.canvas.width, 0),
                        s.addColorStop(0, "hsla(181,90%,90%,.0)"),
                        s.addColorStop(.1, "hsla(181,90%,90%,.0)"),
                        s.addColorStop(.2, "hsla(181,90%,90%,.8)"),
                        s.addColorStop(.5, "hsla(181,90%,90%,.8)"),
                        s.addColorStop(1, "hsla(181,90%,90%,.0)"),
                        i.fillStyle = s,
                        i.fillRect(0, 1, this.canvas.width, 3),
                        i.restore(),
                        this.texture.needsUpdate = !0
                    }
                    ,
                    t.prototype.lIIOO = function() {
                        var t;
                        return t = 60 * this.lIIl1.II1OO.O0O0O.l0IOl / 1e3,
                        this.ll00l.rotation.z = (this.ll00l.rotation.z - .04 * t) % (180 * THREE.Math.DEG2RAD * 2)
                    }
                    ,
                    t
                }(),
                this.llOOl = function() {
                    function t(t, e) {
                        var i, s, l;
                        for (this.lIIl1 = t,
                        this.size = null != e ? e : 150,
                        this.geometry = new THREE.BufferGeometry,
                        this.geometry.IO000 = new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),
                        this.geometry.boundingSphere = new THREE.Sphere(new THREE.Vector3(0,0,0),2),
                        this.vertices = new Float32Array(3 * this.size),
                        this.oldpos = new Float32Array(2 * this.size),
                        this.color = new Float32Array(3 * this.size),
                        this.time = new Float32Array(this.size),
                        this.OI0lI = new Float32Array(this.size),
                        this.type = new Float32Array(this.size),
                        this.hue = 0,
                        this.index = 0,
                        this.max_pindex = 0,
                        this.Oll10 = Date.now(),
                        i = s = 0,
                        l = this.size - 1; s <= l; i = s += 1)
                            this.vertices[3 * i] = 2 * (Math.random() - .5),
                            this.vertices[3 * i + 1] = 2 * (Math.random() - .5),
                            this.vertices[3 * i + 2] = 0,
                            this.color[3 * i] = 1,
                            this.color[3 * i + 1] = 1,
                            this.color[3 * i + 2] = 1,
                            this.time[i] = 0,
                            this.OI0lI[i] = 0 === i ? 5 : 0;
                        this.O0O00(),
                        this.iteration = 0,
                        this.posmap = [],
                        this.asteromap = [],
                        this.alienmap = [],
                        this.leaderid = 7
                    }
                    return t.prototype.Ol00O = function(t, e) {
                        var i;
                        i = 20 * this.lIIl1.II1OO.height / 1e3,
                        this.vertices[0] = 0,
                        this.vertices[1] = 0,
                        this.vertices[2] = 1e3,
                        this.oldpos[0] = 0,
                        this.oldpos[1] = 0,
                        this.OI0lI[0] = i,
                        this.type[0] = 0,
                        this.time[0] = this.lIIl1.II1OO.O0O0O.lIOOO,
                        this.material.uniforms.mypos.value.set(t / this.lIIl1.OIl0I, e / this.lIIl1.OIl0I)
                    }
                    ,
                    t.prototype.updateHue = function(t, e) {
                        if (this.hue = e,
                        null != t.mode.friendly_colors)
                            return this.friendly_colors = t.mode.friendly_colors
                    }
                    ,
                    t.prototype.setHue = function(t) {
                        this.hue = t
                    }
                    ,
                    t.prototype.lIIOO = function() {
                        return this.material.uniforms.Ol1ll.value = this.lIIl1.II1OO.O0O0O.lIOOO
                    }
                    ,
                    t.prototype.updateAsteroidsAliens = function(t) {
                        var e, i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g, y, v;
                        for (s = t.getUint16(6, !0),
                        e = t.getUint16(8, !0),
                        I = this.max_pindex,
                        g = 10 * this.lIIl1.II1OO.height / 1e3,
                        r = 10,
                        f = [],
                        ll1I1.I0IOl(0, 0, .4, f),
                        a = h = 0,
                        p = s - 1; h <= p && !(I >= this.size); a = h += 1)
                            o = t.getUint16(r, !0),
                            i = t.getUint8(r + 2),
                            y = t.getInt8(r + 3) / 128,
                            v = t.getInt8(r + 4) / 128,
                            r += 5,
                            l = Math.abs(y - this.material.uniforms.mypos.value.x),
                            n = Math.abs(v - this.material.uniforms.mypos.value.y),
                            l = Math.min(l, 2 - l),
                            n = Math.min(n, 2 - n),
                            Math.max(Math.abs(l), Math.abs(n)),
                            l > 1 / this.lIIl1.mode.radar_zoom || n > 1 / this.lIIl1.mode.radar_zoom || (c = this.asteromap[o],
                            null != c && c.iteration === this.iteration - 1 ? (c.x < y - 1 ? c.x += 2 : c.x > y + 1 && (c.x -= 2),
                            c.y < v - 1 ? c.y += 2 : c.y > v + 1 && (c.y -= 2),
                            this.oldpos[2 * I] = c.x,
                            this.oldpos[2 * I + 1] = c.y) : (this.oldpos[2 * I] = y,
                            this.oldpos[2 * I + 1] = v,
                            null == c && (c = {},
                            this.asteromap[o] = c)),
                            c.x = y,
                            c.y = v,
                            c.iteration = this.iteration,
                            this.vertices[3 * I] = y,
                            this.vertices[3 * I + 1] = v,
                            this.vertices[3 * I + 2] = 0,
                            this.type[I] = 5,
                            this.color[3 * I] = f[0] / 255,
                            this.color[3 * I + 1] = f[1] / 255,
                            this.color[3 * I + 2] = f[2] / 255,
                            this.time[I] = this.lIIl1.II1OO.O0O0O.lIOOO,
                            this.OI0lI[I] = g * Math.max(1, Math.min(4, i / 20)),
                            I++);
                        for (ll1I1.I0IOl(0, .7, .7, f),
                        a = u = 0,
                        O = e - 1; u <= O && !(I >= this.size); a = u += 1)
                            o = t.getUint16(r, !0),
                            i = t.getUint8(r + 2),
                            y = t.getInt8(r + 3) / 128,
                            v = t.getInt8(r + 4) / 128,
                            r += 5,
                            l = Math.abs(y - this.material.uniforms.mypos.value.x),
                            n = Math.abs(v - this.material.uniforms.mypos.value.y),
                            l = Math.min(l, 2 - l),
                            n = Math.min(n, 2 - n),
                            Math.max(Math.abs(l), Math.abs(n)),
                            l > 1 / this.lIIl1.mode.radar_zoom || n > 1 / this.lIIl1.mode.radar_zoom || (c = this.alienmap[o],
                            null != c && c.iteration === this.iteration - 1 ? (c.x < y - 1 ? c.x += 2 : c.x > y + 1 && (c.x -= 2),
                            c.y < v - 1 ? c.y += 2 : c.y > v + 1 && (c.y -= 2),
                            this.oldpos[2 * I] = c.x,
                            this.oldpos[2 * I + 1] = c.y) : (this.oldpos[2 * I] = y,
                            this.oldpos[2 * I + 1] = v,
                            null == c && (c = {},
                            this.alienmap[o] = c)),
                            c.x = y,
                            c.y = v,
                            c.iteration = this.iteration,
                            this.vertices[3 * I] = y,
                            this.vertices[3 * I + 1] = v,
                            this.vertices[3 * I + 2] = 0,
                            this.type[I] = 6,
                            this.color[3 * I] = f[0] / 255,
                            this.color[3 * I + 1] = f[1] / 255,
                            this.color[3 * I + 2] = f[2] / 255,
                            this.time[I] = this.lIIl1.II1OO.O0O0O.lIOOO,
                            this.OI0lI[I] = g * Math.max(2, Math.min(4, i / 10)),
                            I++);
                        for (a = d = I,
                        m = this.size - 1; d <= m; a = d += 1)
                            this.OI0lI[a] = 0;
                        return this.geometry.getAttribute("position").needsUpdate = !0,
                        this.geometry.getAttribute("color").needsUpdate = !0,
                        this.geometry.getAttribute("OI0lI").needsUpdate = !0,
                        this.geometry.getAttribute("time").needsUpdate = !0,
                        this.geometry.getAttribute("oldpos").needsUpdate = !0,
                        this.geometry.getAttribute("type").needsUpdate = !0
                    }
                    ,
                    t.prototype.updateShips = function(t) {
                        var e, i, s, l, n, a, o, r, h, u, d, I, c;
                        for (o = this.max_pindex,
                        d = 10 * this.lIIl1.II1OO.height / 1e3,
                        n = 1,
                        u = [],
                        ll1I1.I0IOl(0, .7, 1, u); n < t.byteLength && !(o >= this.size); )
                            l = t.getUint8(n),
                            I = t.getInt8(n + 1) / 128,
                            c = t.getInt8(n + 2) / 128,
                            n += 3,
                            e = Math.abs(I - this.material.uniforms.mypos.value.x),
                            i = Math.abs(c - this.material.uniforms.mypos.value.y),
                            e = Math.min(e, 2 - e),
                            i = Math.min(i, 2 - i),
                            Math.max(Math.abs(e), Math.abs(i)),
                            e > 1 / this.lIIl1.mode.radar_zoom || i > 1 / this.lIIl1.mode.radar_zoom || (r = this.posmap[l],
                            null != r && r.iteration === this.iteration - 1 ? (r.x < I - 1 ? r.x += 2 : r.x > I + 1 && (r.x -= 2),
                            r.y < c - 1 ? r.y += 2 : r.y > c + 1 && (r.y -= 2),
                            this.oldpos[2 * o] = r.x,
                            this.oldpos[2 * o + 1] = r.y) : (this.oldpos[2 * o] = I,
                            this.oldpos[2 * o + 1] = c,
                            null == r && (r = {},
                            this.posmap[l] = r)),
                            r.x = I,
                            r.y = c,
                            r.iteration = this.iteration,
                            this.vertices[3 * o] = I,
                            this.vertices[3 * o + 1] = c,
                            this.vertices[3 * o + 2] = 0,
                            this.type[o] = l === this.lIIl1.II1OO.ll00I.status.id ? 12 : 2,
                            this.color[3 * o] = u[0] / 255,
                            this.color[3 * o + 1] = u[1] / 255,
                            this.color[3 * o + 2] = u[2] / 255,
                            this.time[o] = this.lIIl1.II1OO.O0O0O.lIOOO,
                            this.OI0lI[o] = 2 * d,
                            o++);
                        for (s = a = o,
                        h = this.size - 1; a <= h; s = a += 1)
                            this.OI0lI[s] = 0;
                        return this.geometry.getAttribute("position").needsUpdate = !0,
                        this.geometry.getAttribute("color").needsUpdate = !0,
                        this.geometry.getAttribute("OI0lI").needsUpdate = !0,
                        this.geometry.getAttribute("time").needsUpdate = !0,
                        this.geometry.getAttribute("oldpos").needsUpdate = !0,
                        this.geometry.getAttribute("type").needsUpdate = !0
                    }
                    ,
                    t.prototype.I0l0O = function(t, e) {
                        var i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g, y, v, b, w, x, k, E, _, z, M, T;
                        if (this.IIOO1.visible) {
                            if (f = t.getUint8(1),
                            d = 2,
                            g = 1,
                            this.max_index = 1,
                            _ = this.lIIl1.settings.check("colorblind") ? 1 : .7,
                            null != this.lIIl1.mode.updateRadar) {
                                for (h = I = g,
                                v = this.size - 1; I <= v; h = I += 1)
                                    this.OI0lI[h] = 0;
                                return this.geometry.getAttribute("position").needsUpdate = !0,
                                this.geometry.getAttribute("color").needsUpdate = !0,
                                this.geometry.getAttribute("OI0lI").needsUpdate = !0,
                                this.geometry.getAttribute("time").needsUpdate = !0,
                                this.geometry.getAttribute("oldpos").needsUpdate = !0,
                                this.geometry.getAttribute("type").needsUpdate = !0,
                                void this.iteration++
                            }
                            for (k = [],
                            h = c = 0,
                            b = f - 1; c <= b && !(g >= this.size - this.lIIl1.II1OO.O0O0O.stations.length); h = c += 1)
                                i = !0 & t.getUint8(d + 3),
                                u = t.getUint8(d),
                                M = t.getInt8(d + 1) / 128,
                                T = t.getInt8(d + 2) / 128,
                                d += 8,
                                n = Math.abs(M - this.material.uniforms.mypos.value.x),
                                a = Math.abs(T - this.material.uniforms.mypos.value.y),
                                n = Math.min(n, 2 - n),
                                a = Math.min(a, 2 - a),
                                s = Math.max(Math.abs(n), Math.abs(a)),
                                this.lIIl1.II1OO.O0O0O.l0010[u],
                                r = 20,
                                r = this.hue,
                                ll1I1.I0IOl(r / 360, .2, .8, k),
                                z = 10 * this.lIIl1.II1OO.height / 1e3,
                                o = !1,
                                null != this.friendly_colors && this.friendly_colors > 0 && null != (l = this.lIIl1.names.getData(u)) && (r = l.hue,
                                ll1I1.I0IOl(r / 360, _, 1, k),
                                r === this.lIIl1.II1OO.ll00I.status.hue && (o = !0)),
                                u !== e && (o || 0 === h || s <= 1 / this.lIIl1.mode.radar_zoom || this.lIIl1.killers[u] || this.lIIl1.II1OO.O0O0O.survival) && (y = this.posmap[u],
                                this.vertices[3 * g] = M,
                                this.vertices[3 * g + 1] = T,
                                this.vertices[3 * g + 2] = i ? 0 : 1e3,
                                this.type[g] = 1,
                                0 === h && this.lIIl1.mode.radar_shows_leader ? (ll1I1.I0IOl(30 / 360, _, 1, k),
                                this.type[g] = 3) : h <= 9 && (this.type[g] = 1),
                                h > 0 && (this.lIIl1.killers[u] || this.lIIl1.II1OO.O0O0O.survival) && "survival" === this.lIIl1.mode.id && (ll1I1.I0IOl(0, _, 1, k),
                                this.type[g] = 2),
                                this.lIIl1.mode.isTarget(u) && (ll1I1.I0IOl(0, _, 1, k),
                                this.type[g] = 2),
                                null != y && y.iteration === this.iteration - 1 ? (y.x < M - 1 ? y.x += 2 : y.x > M + 1 && (y.x -= 2),
                                y.y < T - 1 ? y.y += 2 : y.y > T + 1 && (y.y -= 2),
                                this.oldpos[2 * g] = y.x,
                                this.oldpos[2 * g + 1] = y.y) : (this.oldpos[2 * g] = M,
                                this.oldpos[2 * g + 1] = T,
                                null == y && (y = {},
                                this.posmap[u] = y)),
                                y.x = M,
                                y.y = T,
                                y.iteration = this.iteration,
                                this.color[3 * g] = k[0] / 255,
                                this.color[3 * g + 1] = k[1] / 255,
                                this.color[3 * g + 2] = k[2] / 255,
                                this.time[g] = this.lIIl1.II1OO.O0O0O.lIOOO,
                                this.OI0lI[g] = z * (this.type[g] > 1 ? 2 : 1.5),
                                g++);
                            for (w = this.lIIl1.II1OO.O0O0O.stations,
                            h = O = 0,
                            p = w.length; O < p && (E = w[h],
                            !(g >= this.size)); h = ++O)
                                E.alive && (y = this.posmap[h + 1e3],
                                M = E.lOI10.position.x / this.lIIl1.OIl0I,
                                T = E.lOI10.position.y / this.lIIl1.OIl0I,
                                null != y && y.iteration === this.iteration - 1 ? (y.x < M - 1 ? y.x += 2 : y.x > M + 1 && (y.x -= 2),
                                y.y < T - 1 ? y.y += 2 : y.y > T + 1 && (y.y -= 2),
                                this.oldpos[2 * g] = y.x,
                                this.oldpos[2 * g + 1] = y.y) : (this.oldpos[2 * g] = M,
                                this.oldpos[2 * g + 1] = T,
                                null == y && (y = {},
                                this.posmap[h + 1e3] = y)),
                                y.x = M,
                                y.y = T,
                                y.iteration = this.iteration,
                                this.vertices[3 * g] = M,
                                this.vertices[3 * g + 1] = T,
                                this.vertices[3 * g + 2] = 0,
                                this.type[g] = 4,
                                ll1I1.I0IOl(E.hue / 360, _, 1, k),
                                this.color[3 * g] = k[0] / 255,
                                this.color[3 * g + 1] = k[1] / 255,
                                this.color[3 * g + 2] = k[2] / 255,
                                this.time[g] = this.lIIl1.II1OO.O0O0O.lIOOO,
                                this.OI0lI[g] = 2 * z,
                                g++);
                            for (this.max_pindex = g,
                            h = m = g,
                            x = this.size - 1; m <= x; h = m += 1)
                                this.OI0lI[h] = 0;
                            return this.geometry.getAttribute("position").needsUpdate = !0,
                            this.geometry.getAttribute("color").needsUpdate = !0,
                            this.geometry.getAttribute("OI0lI").needsUpdate = !0,
                            this.geometry.getAttribute("time").needsUpdate = !0,
                            this.geometry.getAttribute("oldpos").needsUpdate = !0,
                            this.geometry.getAttribute("type").needsUpdate = !0,
                            this.iteration++
                        }
                    }
                    ,
                    t.prototype.O0O00 = function() {
                        var t, e, i, s;
                        return s = "attribute vec3 color;\nvarying vec3 vcolor;\nattribute float OI0lI;\nattribute float time;\nattribute float type ;\nattribute vec2 oldpos ;\nuniform float Ol1ll;\nuniform float OIll0;\nuniform vec2 mypos ;\nvarying float opacity ;\nvarying float toffset ;\n\nvoid main() {\n  vcolor = color ;\n  float t = clamp((Ol1ll-time)/60.0,0.0,1.0) ;\n  vec3 lIOIl = vec3(oldpos*(1.0-t)+position.xy*t,position.z);\n  lIOIl.xy -= mypos ;\n  lIOIl.xy = mod(lIOIl.xy+vec2(1.0),vec2(2.0))-vec2(1.0);\n  lIOIl.xy *= " + this.lIIl1.mode.radar_zoom + ".0 ;\n  lIOIl.xy = clamp(lIOIl.xy,-.95,.95);\n  toffset = type ;\n  gl_PointSize = OIll0*OI0lI;\n  if (type == 12.0)\n  {\n    lIOIl.xy = vec2(0.0,0.0);\n    toffset = 2.0 ;\n    gl_PointSize *= 1.5;\n  }\n  vec4 mvPosition = modelViewMatrix * vec4(lIOIl, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  opacity = clamp(OI0lI,0.0,1.0);\n  float f = abs(time+30.0-Ol1ll);\n}",
                        t = "varying vec3 vcolor ;\nvarying float opacity ;\nuniform sampler2D texture ;\nvarying float toffset;\n\nvoid main() {\n  gl_FragColor = texture2D(texture,(gl_PointCoord+vec2(toffset,0.0))*vec2(.0625,1.0))*vec4(vcolor,opacity) ;\n}",
                        e = this.createTexture(),
                        i = {
                            texture: {
                                type: "t",
                                value: e
                            },
                            Ol1ll: {
                                type: "f",
                                value: (Date.now() - this.Oll10) / 1e3
                            },
                            OIll0: {
                                type: "f",
                                value: 1
                            },
                            mypos: {
                                type: "v2",
                                value: new THREE.Vector2(0,0)
                            }
                        },
                        this.material = new THREE.ShaderMaterial({
                            uniforms: i,
                            vertexShader: s,
                            fragmentShader: t,
                            transparent: !0,
                            depthWrite: !1,
                            depthTest: !1,
                            blending: THREE.AdditiveBlending
                        }),
                        this.geometry.addAttribute("position", new THREE.BufferAttribute(this.vertices,3)),
                        this.geometry.addAttribute("color", new THREE.BufferAttribute(this.color,3)),
                        this.geometry.addAttribute("time", new THREE.BufferAttribute(this.time,1)),
                        this.geometry.addAttribute("OI0lI", new THREE.BufferAttribute(this.OI0lI,1)),
                        this.geometry.addAttribute("oldpos", new THREE.BufferAttribute(this.oldpos,2)),
                        this.geometry.addAttribute("type", new THREE.BufferAttribute(this.type,1)),
                        this.IIOO1 = new THREE.Points(this.geometry,this.material),
                        this.IIOO1.position.z = 0
                    }
                    ,
                    t.prototype.createTexture = function() {
                        var t, e, i, s, l, n, a, o, r;
                        for (null == this.canvas && (this.canvas = document.createElement("canvas"),
                        this.canvas.width = 512,
                        this.canvas.height = 32),
                        t = this.canvas.getContext("2d"),
                        t.save(),
                        t.clearRect(0, 0, this.canvas.width, this.canvas.height),
                        t.fillStyle = "#FFF",
                        r = ["ï†’", "ï€", "ï›", "ï‚‘", "ï‡¡", "ï„‘", "", "4", "5", "6", "7", "8", "9", "10"],
                        null == this.alien_img && (this.alien_img = new Image,
                        this.alien_img.crossOrigin = "Anonymous",
                        this.alien_img.src = "https://starblast.data.neuronality.com/img/alien.png",
                        this.alien_img.onload = function(t) {
                            return function() {
                                return t.createTexture()
                            }
                        }(this)),
                        t.textAlign = "center",
                        t.textBaseline = "middle",
                        t.translate(0, 32),
                        t.scale(1, -1),
                        e = s = 0,
                        o = r.length - 1; 0 <= o ? s <= o : s >= o; e = 0 <= o ? ++s : --s)
                            if ("ï„‘" === r[e]) {
                                for (t.beginPath(),
                                a = new O1101(1),
                                i = l = 0; l <= 19; i = l += 1)
                                    n = 12 * (.4 * a.next() + .8),
                                    0 === e ? t.moveTo(16 + 32 * e + n * Math.cos(i / 20 * (180 * THREE.Math.DEG2RAD) * 2), 16 + n * Math.sin(i / 20 * (180 * THREE.Math.DEG2RAD) * 2)) : t.lineTo(16 + 32 * e + n * Math.cos(i / 20 * (180 * THREE.Math.DEG2RAD) * 2), 16 + n * Math.sin(i / 20 * (180 * THREE.Math.DEG2RAD) * 2));
                                t.closePath(),
                                t.fill()
                            } else
                                r[e].charCodeAt(0) > 127 ? (t.font = "24pt FontAwesome",
                                t.fillText(r[e], 16 + 32 * e, 16)) : "" === r[e] ? this.alien_img.complete && this.alien_img.width > 0 && t.drawImage(this.alien_img, 16 + 32 * e - 12, 4, 24, 24) : (t.font = "18pt Play",
                                t.fillText(r[e], 16 + 32 * e - .5, 15.5),
                                t.fillText(r[e], 16 + 32 * e + .5, 15.5),
                                t.fillText(r[e], 16 + 32 * e + .5, 16.5),
                                t.fillText(r[e], 16 + 32 * e - .5, 16.5));
                        return t.restore(),
                        null == this.texture && (this.texture = new THREE.Texture(this.canvas)),
                        this.texture.needsUpdate = !0,
                        this.texture
                    }
                    ,
                    t
                }(),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.lOl1I = function(t) {
                    function e(t, i) {
                        this.lIIl1 = t,
                        this.seed = i,
                        e.O11II.constructor.call(this),
                        this.IOlO1 = !1
                    }
                    return extend(e, t),
                    e.prototype.I0I10 = function(t, e, i, s, l) {
                        this.px = t,
                        this.IO110 = e,
                        this.IO00I = i,
                        this.lI1ll = s,
                        this.level = l
                    }
                    ,
                    e.prototype.needsUpdate = function() {
                        return this.IOlO1
                    }
                    ,
                    e.prototype.I0l0O = function() {
                        var t, e, i, s;
                        if (null != this.object) {
                            for (Math.min(this.IO00I, this.lI1ll) / 20,
                            s = Math.min(this.IO00I, this.lI1ll),
                            this.object.position.x = this.px + this.IO00I - s / 2,
                            this.object.position.y = this.IO110 + this.lI1ll - s / 2 - .15 * s,
                            this.object.position.z = -100,
                            this.object.scale.x = s,
                            this.object.scale.y = -s,
                            this.object.scale.z = s,
                            i = this.parent,
                            t = 0,
                            e = 0; ; ) {
                                if (null == i)
                                    break;
                                t -= i.lOIII,
                                e -= i.lO0OI,
                                i = i.parent
                            }
                            return this.object.position.x += t,
                            this.object.position.y += e
                        }
                    }
                    ,
                    e.prototype.Ol00O = function(t, e) {
                        if (null != this.O0III && this.O0III.Ol00O(t, e),
                        null != this.background)
                            return this.background.Ol00O(t, e)
                    }
                    ,
                    e.prototype.II1O0 = function(t, e) {
                        if (null != this.O0III)
                            return this.O0III.I0l0O(t, e)
                    }
                    ,
                    e.prototype.l01OO = function(t, e) {
                        if (null != this.background)
                            return this.background.I0l0O(t, e),
                            this.systemname.I0l0O(t, e),
                            this.infobar.I0l0O(t, e),
                            this.line.I0l0O(t, e),
                            this.O0III.updateHue(t, e)
                    }
                    ,
                    e.prototype.setHue = function(t) {
                        if (null != this.background)
                            return this.background.setHue(t),
                            this.systemname.setHue(t),
                            this.infobar.setHue(t),
                            this.line.setHue(t),
                            this.O0III.setHue(t)
                    }
                    ,
                    e.prototype.O1IO0 = function() {
                        return null == this.object && (this.object = new THREE.Group,
                        this.background = new lOOO0(this.lIIl1),
                        this.object.add(this.background.lOI10),
                        this.systemname = new SystemName(this.lIIl1),
                        this.object.add(this.systemname.ll00l),
                        this.infobar = new InfoBar(this.lIIl1),
                        this.object.add(this.infobar.ll00l),
                        this.line = new RadarLine(this.lIIl1),
                        this.object.add(this.line.ll00l),
                        this.O0III = new llOOl(this.lIIl1),
                        this.object.add(this.O0III.IIOO1),
                        this.O0III.IIOO1.scale.set(.5, .5, .5),
                        this.parent.object.add(this.object)),
                        this.object.visible = this.visible
                    }
                    ,
                    e.prototype.I1O0O = function(t) {
                        return this.O1IO0(),
                        this.I0l0O()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        if (null != this.object && this.object.visible)
                            return null != this.line && this.line.lIIOO(),
                            null != this.O0III && this.O0III.lIIOO(),
                            null != this.infobar && this.infobar.lIIOO(),
                            null != this.systemname ? this.systemname.I1I0O() : void 0
                    }
                    ,
                    e.prototype.hide = function() {
                        if (null != this.object)
                            return this.object.visible = !1
                    }
                    ,
                    e.prototype.lO00I = function() {
                        if (null != this.object)
                            return this.object.visible = !0
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.I000l = function(t) {
                    function e(t) {
                        this.lIIl1 = t,
                        this.IOlO1 = !1,
                        this.angle = 0,
                        this.OO0O1 = .5
                    }
                    return extend(e, t),
                    e.prototype.I0I10 = function(t, e, i, s, l) {
                        this.px = t,
                        this.IO110 = e,
                        this.IO00I = i,
                        this.lI1ll = s,
                        this.level = l
                    }
                    ,
                    e.prototype.needsUpdate = function() {
                        return this.IOlO1
                    }
                    ,
                    e.prototype.set = function(t, e) {
                        if (this.angle = t,
                        this.OO0O1 = e,
                        !this.lIIl1.is_mobile_app)
                            return this.OO0O1 = Math.min(2, Math.max(this.OO0O1, .5)),
                            this.material.opacity = 1
                    }
                    ,
                    e.prototype.I0l0O = function() {
                        var t, e, i, s;
                        if (null != this.object) {
                            for (this.object.position.x = this.px + Math.cos(this.angle) * this.OO0O1 * this.parent.lI1ll / 8,
                            this.object.position.y = this.IO110 + Math.sin(this.angle) * this.OO0O1 * this.parent.lI1ll / 8,
                            this.object.position.z = -100,
                            this.object.rotation.z = this.angle,
                            s = Math.min(this.IO00I, this.lI1ll),
                            this.object.scale.x = .5 * s,
                            this.object.scale.y = -s,
                            this.object.scale.z = s,
                            i = this.parent,
                            t = 0,
                            e = 0; ; ) {
                                if (null == i)
                                    break;
                                t -= i.lOIII,
                                e -= i.lO0OI,
                                i = i.parent
                            }
                            return this.object.position.x += t,
                            this.object.position.y += e
                        }
                    }
                    ,
                    e.prototype.O1IO0 = function() {
                        var t, e, i;
                        if (null == this.object)
                            return this.l0I1l = new THREE.PlaneGeometry(1,1),
                            t = document.createElement("canvas"),
                            t.width = 64,
                            t.height = 64,
                            e = t.getContext("2d"),
                            e.translate(t.width / 2, t.height / 2),
                            e.scale(t.width / 2, t.height / 2),
                            e.fillStyle = "hsla(181,50%,70%,1)",
                            e.moveTo(1, 0),
                            e.lineTo(0, -.7),
                            e.lineTo(0, -.2),
                            e.lineTo(-1, -.3),
                            e.lineTo(-1, .3),
                            e.lineTo(0, .2),
                            e.lineTo(0, .7),
                            e.lineTo(1, 0),
                            e.fill(),
                            i = new THREE.Texture(t),
                            i.needsUpdate = !0,
                            this.material = new THREE.MeshBasicMaterial({
                                transparent: !0,
                                map: i,
                                opacity: 0
                            }),
                            this.object = new THREE.Mesh(this.l0I1l,this.material),
                            this.parent.object.add(this.object)
                    }
                    ,
                    e.prototype.I1O0O = function(t) {
                        return this.O1IO0(),
                        this.I0l0O()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        if (null != this.material && (this.material.opacity *= .98),
                        null != this.object)
                            return this.object.visible = this.material.opacity > .01
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.Joystick = function(t) {
                    function e(t) {
                        this.lIIl1 = t,
                        e.O11II.constructor.call(this),
                        this.IOlO1 = !1,
                        this.angle = 0,
                        this.OO0O1 = .5,
                        this.pressed = !1,
                        this.posx = 0,
                        this.posy = 0,
                        this.jx = 0,
                        this.jy = 0
                    }
                    return extend(e, t),
                    e.prototype.I0I10 = function(t, e, i, s, l) {
                        this.px = t,
                        this.IO110 = e,
                        this.IO00I = i,
                        this.lI1ll = s,
                        this.level = l
                    }
                    ,
                    e.prototype.needsUpdate = function() {
                        return this.IOlO1
                    }
                    ,
                    e.prototype.set = function(t, e, i, s) {
                        if (this.posx = t,
                        this.posy = e,
                        this.jx = i,
                        this.jy = s,
                        this.pressed = !0,
                        this.O1IO0(),
                        null != this.material)
                            return this.material.opacity = 1
                    }
                    ,
                    e.prototype.setHue = function(t) {
                        this.hue = t
                    }
                    ,
                    e.prototype.I0l0O = function() {
                        var t, e, i, s;
                        if (null != this.object && this.object.visible) {
                            for (this.object.position.x = this.posx * this.parent.lI1ll,
                            this.object.position.y = this.posy * this.parent.lI1ll,
                            this.object.position.z = -99,
                            this.dot.position.x = this.jx * this.parent.lI1ll,
                            this.dot.position.y = this.jy * this.parent.lI1ll,
                            this.dot.position.z = -98,
                            s = Math.min(this.IO00I, this.lI1ll) * this.lIIl1.II1OO.control.joystickRatio(),
                            this.object.scale.x = s,
                            this.object.scale.y = -s,
                            this.object.scale.z = s,
                            this.dot.scale.x = .25 * s,
                            this.dot.scale.y = .25 * -s,
                            this.dot.scale.x = .25 * s,
                            i = this.parent,
                            t = 0,
                            e = 0; ; ) {
                                if (null == i)
                                    break;
                                t -= i.lOIII,
                                e -= i.lO0OI,
                                i = i.parent
                            }
                            return this.object.position.x += t,
                            this.object.position.y += e
                        }
                    }
                    ,
                    e.prototype.createCanvas = function(t) {
                        var e, i;
                        return e = document.createElement("canvas"),
                        e.width = 512,
                        e.height = 512,
                        i = e.getContext("2d"),
                        i.translate(e.width / 2, e.height / 2),
                        i.scale(e.width / 2, e.height / 2),
                        i.lineWidth = .016,
                        i.strokeStyle = "hsla(181,50%,80%,1)",
                        i.shadowBlur = 10,
                        i.shadowOpacity = 1,
                        i.shadowColor = "hsla(207,50%,100%)",
                        i.beginPath(),
                        i.arc(0, 0, .8, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                        i.stroke(),
                        i.strokeStyle = "hsla(207,50%,80%,.4)",
                        i.beginPath(),
                        i.arc(0, 0, .75, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                        i.stroke(),
                        i.strokeStyle = "hsla(181,50%,80%,.6)",
                        i.beginPath(),
                        i.arc(0, 0, .3, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                        i.stroke(),
                        t && (i.lineWidth = .05,
                        i.beginPath(),
                        i.arc(0, 0, .85, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                        i.stroke()),
                        e
                    }
                    ,
                    e.prototype.createDotTexture = function() {
                        var t, e, i, s;
                        return t = document.createElement("canvas"),
                        t.width = 128,
                        t.height = 128,
                        e = t.getContext("2d"),
                        e.translate(t.width / 2, t.height / 2),
                        e.scale(t.width / 2, t.height / 2),
                        i = e.createRadialGradient(0, 0, 0, 0, 0, 1),
                        i.addColorStop(0, "hsla(207,50%,80%,.5)"),
                        i.addColorStop(.7, "hsla(253,50%,80%,0)"),
                        i.addColorStop(.7, "hsla(207,50%,80%,1)"),
                        i.addColorStop(.8, "hsla(181,50%,80%,1)"),
                        i.addColorStop(.8, "hsla(253,50%,80%,.5)"),
                        i.addColorStop(1, "hsla(181,50%,80%,0)"),
                        e.fillStyle = i,
                        e.fillRect(-1, -1, 2, 2),
                        s = new THREE.Texture(t),
                        s.minFilter = s.magFilter = THREE.LinearFilter,
                        s.needsUpdate = !0,
                        s
                    }
                    ,
                    e.prototype.O1IO0 = function() {
                        var t;
                        if (null == this.object)
                            return this.l0I1l = new THREE.PlaneGeometry(1,1),
                            this.texture = new THREE.Texture(this.createCanvas(!1)),
                            this.texture.minFilter = this.texture.magFilter = THREE.LinearFilter,
                            this.texture.needsUpdate = !0,
                            this.texture_thrust = new THREE.Texture(this.createCanvas(!0)),
                            this.texture.minFilter = this.texture.magFilter = THREE.LinearFilter,
                            this.texture_thrust.needsUpdate = !0,
                            this.material = new THREE.MeshBasicMaterial({
                                transparent: !0,
                                map: this.texture,
                                blending: THREE.AdditiveBlending,
                                opacity: 1,
                                depthTest: !1,
                                depthWrite: !1
                            }),
                            this.object = new THREE.Mesh(this.l0I1l,this.material),
                            this.dot_material = new THREE.MeshBasicMaterial({
                                transparent: !0,
                                map: this.createDotTexture(),
                                blending: THREE.AdditiveBlending,
                                opacity: 1,
                                depthTest: !1,
                                depthWrite: !1
                            }),
                            t = new THREE.PlaneGeometry(1,1),
                            this.dot = new THREE.Mesh(t,this.dot_material),
                            this.parent.object.add(this.object),
                            this.parent.object.add(this.dot)
                    }
                    ,
                    e.prototype.I1O0O = function(t) {
                        return this.pressed && this.O1IO0(),
                        this.I0l0O()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        var t, e, i, s, l, n;
                        if (null == this.parent || null == this.parent.object || null != this.object || this.pressed || null == this.lIIl1.II1OO.control || (i = this.lIIl1.display.height,
                        n = this.lIIl1.II1OO.control.joystickRadius(),
                        t = this.lIIl1.II1OO.ll00I.Il0OO.angle,
                        t = -t * (180 * THREE.Math.DEG2RAD) / 180,
                        e = n / 2,
                        s = 1 * e * 4,
                        l = i - 1 * e * 4,
                        this.set(s / i, l / i, s / i, l / i)),
                        null != this.object && (this.object.visible = this.visible,
                        this.dot.visible = this.visible),
                        null != this.material)
                            return this.lIIl1.settings.check("joystick_thrust") && this.lIIl1.II1OO.ll00I.Il0OO.up ? this.material.map = this.texture_thrust : this.material.map = this.texture
                    }
                    ,
                    e
                }(OIOIO),
                this.InfoBar = function() {
                    function t(t) {
                        this.lIIl1 = t,
                        this.canvas = document.createElement("canvas"),
                        this.canvas.width = 512,
                        this.canvas.height = 64,
                        this.texture = new THREE.Texture(this.canvas),
                        this.texture.minFilter = THREE.LinearFilter,
                        this.l0I1l = new THREE.PlaneGeometry(1,1),
                        this.material = new THREE.MeshBasicMaterial({
                            map: this.texture,
                            transparent: !0,
                            depthTest: !1,
                            depthWrite: !1,
                            blending: THREE.AdditiveBlending
                        }),
                        this.data = {
                            name: ""
                        },
                        this.ll00l = new THREE.Mesh(this.l0I1l,this.material),
                        this.ll00l.scale.set(1, .125, 1),
                        this.ll00l.position.y = -.5875,
                        this.fps = 60,
                        this.players = 0,
                        this.IO101 = 0,
                        this.ping = 0,
                        this.refresh_time = 0
                    }
                    return t.prototype.setHue = function(t) {
                        if (t !== this.hue)
                            return this.hue = t,
                            this.repaint()
                    }
                    ,
                    t.prototype.I0l0O = function(t, e) {
                        return this.data = t,
                        this.hue = e,
                        this.repaint()
                    }
                    ,
                    t.prototype.repaint = function() {
                        var t, e, i;
                        return this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",

                        t = this.canvas.getContext("2d"),
                        t.clearRect(0, 0, this.canvas.width, this.canvas.height),
                        t.fillStyle = this.background,
                        t.fillRect(0, 0, this.canvas.width, this.canvas.height),
                        e = this.canvas.height / 4,
                        i = e / 2,
                        t.fillStyle = this.color,
                        t.beginPath(),
                        t.moveTo(0, 0),
                        t.lineTo(0, this.canvas.height),
                        t.lineTo(e, this.canvas.height),
                        t.lineTo(e, .7 * this.canvas.height),
                        t.lineTo(i, .5 * this.canvas.height),
                        t.lineTo(i, 0),
                        t.closePath(),
                        t.fill(),
                        t.beginPath(),
                        t.moveTo(this.canvas.width, 0),
                        t.lineTo(this.canvas.width, this.canvas.height),
                        t.lineTo(this.canvas.width - e, this.canvas.height),
                        t.lineTo(this.canvas.width - e, .7 * this.canvas.height),
                        t.lineTo(this.canvas.width - i, .5 * this.canvas.height),
                        t.lineTo(this.canvas.width - i, 0),
                        t.closePath(),
                        t.fill(),
                        t.fillStyle = this.color,
                        t.font = "20pt Play",
                        t.textAlign = "left",
                        t.textBaseline = "middle",
                        t.fillText(this.players + " on " + this.data.name, this.canvas.width / 8, this.canvas.height / 4),
                        this.IO101 >= 100 && t.fillText(this.IO101 + " total", this.canvas.width / 8, 3 * this.canvas.height / 4),
                        t.textAlign = "right",
                        t.fillText(this.fps + " FPS", 15 * this.canvas.width / 16, this.canvas.height / 4),
                        t.fillText("(" + this.lIIl1.region + ") ping " + this.ping + " ms", 15 * this.canvas.width / 16, 3 * this.canvas.height / 4),
                        t.font = "20pt FontAwesome",
                        t.fillText("ïƒ€", this.canvas.width / 10, this.canvas.height / 4),
                        t.fillText("ï‚¬", this.canvas.width / 10, .75 * this.canvas.height),
                        this.texture.needsUpdate = !0
                    }
                    ,
                    t.prototype.lIIOO = function() {
                        var t, e;
                        if (!((e = Date.now()) < this.refresh_time))
                            return t = !1,
                            this.lIIl1.display.fps !== this.fps && (this.fps = this.lIIl1.display.fps,
                            t = !0),
                            this.lIIl1.total_players !== this.IO101 && (this.IO101 = this.lIIl1.total_players,
                            t = !0),
                            this.lIIl1.system_players !== this.players && (this.players = this.lIIl1.system_players,
                            t = !0),
                            this.lIIl1.ping !== this.ping && (this.ping = this.lIIl1.ping,
                            t = !0),
                            t ? (this.refresh_time = e + 1e3,
                            this.lIIl1.display.addJob(0, function(t) {
                                return function() {
                                    return t.repaint()
                                }
                            }(this))) : void 0
                    }
                    ,
                    t
                }(),
                O0OOl = function() {
                    function t(t, e) {
                        this.lIIl1 = t,
                        this.welcome = null != e && e,
                        this.antialiasing = this.lIIl1.settings.check("antialias"),
                        this.I0OO0 = new THREE.WebGLRenderer({
                            antialias: this.antialiasing,
                            transparent: !1
                        }),
                        this.I0OO0.setSize(1280, 720),
                        this.I0OO0.autoClear = !1,
                        this.hideCursor(),
                        this.lIIl1.is_app && this.welcome ? this.screen = new AppScreen(this.lIIl1,this.welcome) : this.screen = new OOlO1(this.lIIl1,this.welcome),
                        this.screen.startControl(this.I0OO0.domElement),
                        this.IlO0I = this.lIIl1.settings.check("fullres") ? 1 : Math.sqrt(2),
                        this.pixelated = !1,
                        this.O0001 = 1,
                        this.fps_time = Date.now(),
                        this.fps_count = 0,
                        this.raming = 0,
                        this.frame_count = 0,
                        this.fadein_start = 0,
                        window.addEventListener("resize", function(t) {
                            return function() {
                                return t.resize()
                            }
                        }(this)),
                        this.resize(),
                        this.lIIl1.is_app && (this.screenshots = [],
                        this.lIIl1.screenshots = this.screenshots),
                        this.paused = !1,
                        this.jobs = []
                    }
                    return t.prototype.addJob = function(t, e) {
                        if (!(this.jobs.length > 15))
                            return this.jobs.push({
                                priority: t,
                                O0O11: e
                            })
                    }
                    ,
                    t.prototype.hideCursor = function() {
                        return this.cursor_shown = !1,
                        this.lIIl1.is_app && this.I0OO0.domElement.classList.remove("custom-cursor"),
                        this.I0OO0.domElement.style.cursor = "none"
                    }
                    ,
                    t.prototype.showCursor = function() {
                        return this.cursor_shown = !0,
                        this.lIIl1.is_app ? this.I0OO0.domElement.classList.add("custom-cursor") : this.I0OO0.domElement.style.cursor = "default"
                    }
                    ,
                    t.prototype.start = function() {
                        return document.getElementById("canvaswrapper").innerHTML = "",
                        document.getElementById("canvaswrapper").appendChild(this.I0OO0.domElement),
                        this.lOO0I || this.lOOI0(),
                        this.lOO0I = !0
                    }
                    ,
                    t.prototype.resize = function() {
                        return this.width = window.innerWidth,
                        this.height = window.innerHeight,
                        this.rotated = !1,
                        this.width < this.height && (this.rotated = !0),
                        this.welcome || (this.lIIl1.is_mobile_app ? this.width = Math.round(Math.min(18 * this.height / 9, this.width)) : this.width = Math.round(Math.min(16 * this.height / 9, this.width))),
                        this.I0OO0.setSize(this.width, this.height),
                        this.screen.setSize(this.width, this.height, this.O0001),
                        this.fixed = !1
                    }
                    ,
                    t.prototype.fixSize = function() {
                        var t, e, i, s, l, n;
                        if (i = this.I0OO0.context,
                        e = this.I0OO0.domElement,
                        null != i && null != e)
                            return this.fixed = !0,
                            s = window.devicePixelRatio || 1,
                            t = i.webkitBackingStorePixelRatio || i.mozBackingStorePixelRatio || i.msBackingStorePixelRatio || i.oBackingStorePixelRatio || i.backingStorePixelRatio || 1,
                            this.O0001 = s / t / this.IlO0I,
                            1 !== this.O0001 && (n = this.width,
                            l = this.height,
                            this.width = Math.round(this.O0001 * this.width),
                            this.height = Math.round(this.O0001 * this.height),
                            this.I0OO0.setSize(this.width, this.height),
                            this.screen.setSize(this.width, this.height, this.O0001),
                            e.style.width = Math.round(n) + "px",
                            e.style.height = Math.round(l) + "px",
                            this.pixelated) ? e.style["image-rendering"] = "pixelated" : void 0
                    }
                    ,
                    t.prototype.kill = function(t) {
                        if (null == t && (t = !0),
                        this.killed = !0,
                        t)
                            return document.getElementById("canvaswrapper").removeChild(this.I0OO0.domElement)
                    }
                    ,
                    t.prototype.showCapture = function(t, e) {
                        var i, s, l, n, a;
                        return null == e && (e = .7),
                        i = document.createElement("canvas"),
                        i.width = t.width / 5.1,
                        i.height = t.height / 5.1 * 1.2,
                        l = i.getContext("2d"),
                        n = l.createLinearGradient(0, 0, i.width, i.height),
                        n.addColorStop(0, "#FFF"),
                        n.addColorStop(1, "#CCC"),
                        l.fillStyle = n,
                        l.fillRect(0, 0, i.width, i.height),
                        a = .95 * i.width / t.width,
                        l.drawImage(t, .025 * i.width, .025 * i.width, t.width * a, t.height * a),
                        s = new OO0l1(i),
                        this.screen.l1llI.add(s, [.025, e, .2, .25]),
                        s.IOOOI.init({
                            opacity: 0,
                            OOl1l: .5,
                            O0IlI: .5,
                            rotation: .4,
                            k: .1,
                            d: .5
                        }),
                        s.IOOOI.push({
                            opacity: 1
                        }),
                        s.IOOOI.push({
                            lOIO1: -2,
                            rotation: -1
                        }),
                        setTimeout(function(t) {
                            return function() {
                                return t.screen.l1llI.remove(s)
                            }
                        }(this), 2e3)
                    }
                    ,
                    t.prototype.doJobs = function() {
                        var t;
                        if (this.jobs.length > 0)
                            for (this.jobs.sort(function(t, e) {
                                return e.priority - t.priority
                            }),
                            this.jobs.length,
                            t = this.jobs.splice(0, 1)[0],
                            t.O0O11(); this.jobs.length > 5; )
                                t = this.jobs.splice(0, 1)[0],
                                t.O0O11()
                    }
                    ,
                    t.prototype.lOOI0 = function() {
                        var t, e, i, s, l, n;
                        if (!this.killed) {
                            if (requestAnimationFrame(function(t) {
                                return function() {
                                    return t.lOOI0()
                                }
                            }(this)),
                            this.lIIl1.paused) {
                                if (this.paused)
                                    return;
                                this.paused = !0
                            } else
                                this.paused = !1;
                            if (this.frame_count++,
                            this.fixed || this.fixSize(),
                            0 === this.fadein_start && (this.fadein_start = Date.now()),
                            this.fadein_start > 0 && (s = Math.max(0, Math.min(1, (Date.now() - this.fadein_start) / 2e3)),
                            document.getElementById("canvaswrapper").style.opacity = s,
                            1 === s && (this.fadein_start = -1,
                            document.getElementById("canvaswrapper").style.removeProperty("opacity"))),
                            this.doJobs(),
                            this.lIIl1.settings.check("antialias") !== this.antialiasing && (this.antialiasing = this.lIIl1.settings.check("antialias"),
                            document.getElementById("canvaswrapper").removeChild(this.I0OO0.domElement),
                            this.I0OO0 = new THREE.WebGLRenderer({
                                antialias: this.antialiasing,
                                transparent: !1
                            }),
                            this.I0OO0.autoClear = !1,
                            document.getElementById("canvaswrapper").appendChild(this.I0OO0.domElement),
                            this.cursor_shown ? this.showCursor() : this.hideCursor(),
                            this.screen.startControl(this.I0OO0.domElement),
                            null != this.lIIl1.II1OO.control && this.lIIl1.II1OO.startControl(),
                            this.resize()),
                            this.lIIl1.settings.check("fullres") || 1 !== this.IlO0I ? this.lIIl1.settings.check("fullres") && 1 !== this.IlO0I && (this.IlO0I = 1,
                            this.resize()) : (this.IlO0I = Math.sqrt(2),
                            this.resize()),
                            this.make_screenshot && this.lIIl1.is_app && this.screenshot_time < Date.now())
                                for (this.make_screenshot = !1,
                                this.screen.render(this.I0OO0, !1),
                                n = {
                                    type: this.screenshot_type,
                                    value: this.screenshot_value
                                },
                                t = this.I0OO0.domElement,
                                l = document.createElement("canvas"),
                                l.width = t.width,
                                l.height = t.height,
                                e = l.getContext("2d"),
                                e.drawImage(t, 0, 0),
                                n.image = l,
                                "user" === n.type && this.showCapture(l),
                                this.screen.renderScreen(this.I0OO0),
                                l = document.createElement("canvas"),
                                l.width = t.width,
                                l.height = t.height,
                                e = l.getContext("2d"),
                                e.drawImage(t, 0, 0),
                                n.full_image = l,
                                this.screenshots.push(n),
                                this.screenshots.sort(function(t, e) {
                                    return t.value - e.value
                                }); this.screenshots.length > 9; )
                                    this.screenshots.splice(0, 1);
                            else
                                this.screen.render(this.I0OO0, !0);
                            return this.lIIl1.lIIOO(),
                            null != this.screen.l1llI.OOOl1 && this.screen.l1llI.OOOl1.Ol00O(this.lIIl1.II1OO.ll00I.status.x, this.lIIl1.II1OO.ll00I.status.y),
                            this.fps_count++,
                            this.fps_count >= 20 && Date.now() >= this.fps_time + 1e3 && (i = Date.now() - this.fps_time,
                            this.fps = Math.round(this.fps_count / (.001 * i)),
                            this.fps_count = 0,
                            this.fps_time = Date.now(),
                            this.fps < 45 ? this.raming++ : this.raming = 0,
                            this.raming >= 8 && (this.raming = 0,
                            this.lIIl1.settings.auto && (this.lIIl1.settings.set("antialias", !1),
                            this.lIIl1.settings.set("galaxies", !1)))),
                            this.make_screenshot && !this.lIIl1.is_app ? (this.make_screenshot = !1,
                            t = this.I0OO0.domElement,
                            l = document.createElement("canvas"),
                            l.width = t.width,
                            l.height = t.height,
                            e = l.getContext("2d"),
                            e.drawImage(t, 0, 0),
                            l.toBlob(function(t) {
                                var e;
                                return e = new Date,
                                saveAs(t, "starblast-" + e.getTime() + ".png")
                            }, "image/png", 1)) : void 0
                        }
                    }
                    ,
                    t
                }(),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.Figures = function(e) {
                    function i(t, e) {
                        var s, l, n, a;
                        for (this.lIIl1 = t,
                        this.size = null != e ? e : 100,
                        i.O11II.constructor.call(this),
                        this.IOlO1 = !1,
                        this.geometry = new THREE.BufferGeometry,
                        this.geometry.IO000 = new THREE.Box3(new THREE.Vector3(-2e4,-2e4,-2e4),new THREE.Vector3(2e4,2e4,2e4)),
                        this.geometry.boundingSphere = new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),
                        this.vertices = new Float32Array(3 * this.size),
                        this.time = new Float32Array(this.size),
                        this.figure = new Float32Array(this.size),
                        this.fill = new Float32Array(this.size),
                        this.OI0lI = new Float32Array(this.size),
                        this.opac = new Float32Array(this.size),
                        this.color = new Float32Array(3 * this.size),
                        this.speed = new Float32Array(this.size),
                        this.time = new Float32Array(this.size),
                        this.bar_size = 9,
                        this.display_size = 1 + this.bar_size + 3,
                        this.heart_index = 11,
                        this.level_index = 12,
                        this.shield_index = 14,
                        this.generator_index = this.shield_index + this.display_size,
                        this.crystal_index = this.generator_index + this.display_size,
                        this.start_index = this.crystal_index + this.display_size,
                        this.index = this.start_index,
                        this.Oll10 = Date.now(),
                        this.score = -1,
                        this.score_target = 0,
                        this.shield = 0,
                        this.generator = 0,
                        this.shield_max = 0,
                        this.generator_max = 0,
                        this.generator_depleted = !1,
                        this.l1II0 = 0,
                        this.lives = -1,
                        this.livesblink = !1,
                        this.lvl = 1,
                        this.last_shield_warning = 0,
                        s = l = 0; l <= 9; s = l += 1)
                            this.vertices[3 * s] = .02 * s + .02,
                            this.vertices[3 * s + 1] = .05,
                            this.vertices[3 * s + 2] = 1e3,
                            this.figure[s] = 0,
                            this.color[3 * s] = .8,
                            this.color[3 * s + 1] = .9,
                            this.color[3 * s + 2] = 1,
                            this.time[s] = 0,
                            this.OI0lI[s] = .025,
                            this.opac[s] = 1,
                            this.fill[s] = 1,
                            this.speed[s] = 0;
                        for (s = 10,
                        this.vertices[3 * s] = .5,
                        this.vertices[3 * s + 1] = .5,
                        this.vertices[3 * s + 2] = 1e3,
                        this.figure[s] = 14,
                        this.color[3 * s] = 1,
                        this.color[3 * s + 1] = 1,
                        this.color[3 * s + 2] = 1,
                        this.time[s] = 0,
                        this.OI0lI[s] = .025,
                        this.opac[s] = 1,
                        this.fill[s] = 1,
                        s = n = 11,
                        a = this.size - 1; n <= a; s = n += 1)
                            this.vertices[3 * s] = 0,
                            this.vertices[3 * s + 1] = 0,
                            this.vertices[3 * s + 2] = 1e3,
                            this.color[3 * s] = .8,
                            this.color[3 * s + 1] = .9,
                            this.color[3 * s + 2] = 1;
                        this.O0O00(),
                        this.initBar(this.shield_index, .12, .5, .9, 1, 13),
                        this.initBar(this.generator_index, .16, 1, .9, .5, 12),
                        this.initBar(this.crystal_index, .2, 1, .5, .5, 11),
                        this.setBar(this.shield_index, this.shield, 100),
                        this.setBar(this.generator_index, this.generator, 100),
                        this.setBar(this.crystal_index, this.l1II0, 100),
                        this.updateLives(),
                        this.updateLevel()
                    }
                    return extend(i, e),
                    i.prototype.hide = function() {
                        return this.IIOO1.visible = !1
                    }
                    ,
                    i.prototype.lO00I = function() {
                        return this.IIOO1.visible = !0
                    }
                    ,
                    i.prototype.initBar = function(t, e, i, s, l, n) {
                        var a, o, r, h, u;
                        for (a = 0,
                        r = h = t,
                        u = t + this.display_size - 1; h <= u; r = h += 1)
                            this.vertices[3 * r] = .01 + .015 * (a + 1),
                            this.vertices[3 * r + 1] = e,
                            this.vertices[3 * r + 2] = 0,
                            this.figure[r] = 0,
                            this.color[3 * r] = i,
                            this.color[3 * r + 1] = s,
                            this.color[3 * r + 2] = l,
                            this.time[r] = 0,
                            this.OI0lI[r] = .015,
                            this.opac[r] = 1,
                            this.fill[r] = 1,
                            this.speed[r] = 0,
                            0 === a ? this.figure[r] = n : a <= this.bar_size ? this.figure[r] = 16 : (o = a - this.bar_size,
                            o = 2 - o,
                            this.vertices[3 * r] += .003 * o,
                            this.figure[r] = 0),
                            a++;
                        return r = t,
                        this.vertices[3 * r] = .02,
                        this.OI0lI[r] = .02
                    }
                    ,
                    i.prototype.setBar = function(t, e, i) {
                        var s, l, n, a, o, r, h, u, d, I, c;
                        for (n = a = 0,
                        u = this.bar_size - 1; a <= u; n = a += 1)
                            l = t + 1 + n,
                            I = 1 / this.bar_size,
                            s = n * I,
                            c = e / i,
                            this.fill[l] = c < s ? 0 : Math.min(1, (c - s) / I);
                        for (h = e >= Math.pow(10, 2) ? 3 : e >= Math.pow(10, 1) ? 2 : 1,
                        l = o = 0,
                        d = h - 1; o <= d; l = o += 1)
                            n = t + 1 + this.bar_size + l,
                            this.figure[n] = Math.floor(e / Math.pow(10, h - 1 - l)) % 10,
                            this.vertices[3 * n + 2] = 0;
                        for (l = r = h; r <= 2; l = r += 1)
                            n = t + 1 + this.bar_size + l,
                            this.vertices[3 * n + 2] = 1e3;
                        this.geometry.getAttribute("fill").needsUpdate = !0,
                        this.geometry.getAttribute("position").needsUpdate = !0,
                        this.geometry.getAttribute("figure").needsUpdate = !0
                    }
                    ,
                    i.prototype.setBarColor = function(t, e, i, s) {
                        var l, n, a, o;
                        for (n = a = 0,
                        o = this.display_size - 1; a <= o; n = a += 1)
                            l = t + n,
                            this.color[3 * l] = e,
                            this.color[3 * l + 1] = i,
                            this.color[3 * l + 2] = s;
                        this.geometry.getAttribute("color").needsUpdate = !0
                    }
                    ,
                    i.prototype.updateLives = function() {
                        var t, e, i, s, l;
                        return e = 0 === this.lives ? ll1I1.hsvToRgbHex(0, .5, 1) : ll1I1.hsvToRgbHex(this.hue, .2, .9),
                        l = (e >> 16 & 255) / 255,
                        i = (e >> 8 & 255) / 255,
                        t = (255 & e) / 255,
                        s = this.heart_index,
                        this.color[3 * s] = l,
                        this.color[3 * s + 1] = i,
                        this.color[3 * s + 2] = t,
                        this.vertices[3 * s] = .02,
                        this.vertices[3 * s + 1] = .05,
                        this.vertices[3 * s + 2] = this.livesblink ? 1e3 : 0,
                        this.OI0lI[s] = .025,
                        this.figure[s] = 19 + this.lives,
                        this.fill[s] = 1,
                        this.opac[s] = 1,
                        this.geometry.getAttribute("position").needsUpdate = !0,
                        this.geometry.getAttribute("color").needsUpdate = !0
                    }
                    ,
                    i.prototype.updateLevel = function() {
                        var t;
                        return t = this.level_index,
                        this.vertices[3 * t] = .185,
                        this.vertices[3 * t + 1] = .05,
                        this.vertices[3 * t + 2] = 0,
                        this.OI0lI[t] = .02,
                        this.figure[t] = 17,
                        this.fill[t] = 1,
                        this.opac[t] = 1,
                        t = this.level_index + 1,
                        this.vertices[3 * t] = .2,
                        this.vertices[3 * t + 1] = .05,
                        this.vertices[3 * t + 2] = 0,
                        this.OI0lI[t] = .014,
                        this.figure[t] = this.lvl,
                        this.fill[t] = 1,
                        this.opac[t] = 1,
                        this.geometry.getAttribute("figure").needsUpdate = !0
                    }
                    ,
                    i.prototype.setHue = function(t) {
                        var e, i, s, l, n, a, o;
                        for (this.hue = t,
                        i = ll1I1.hsvToRgbHex(this.hue, .2, .9),
                        a = (i >> 16 & 255) / 255,
                        s = (i >> 8 & 255) / 255,
                        e = (255 & i) / 255,
                        l = n = 0,
                        o = this.shield_index - 1; n <= o; l = n += 1)
                            10 !== l && (this.color[3 * l] = a,
                            this.color[3 * l + 1] = s,
                            this.color[3 * l + 2] = e);
                        return this.geometry.getAttribute("color").needsUpdate = !0
                    }
                    ,
                    i.prototype.hideMouse = function() {
                        return this.vertices[32] = 1e3,
                        this.geometry.getAttribute("position").needsUpdate = !0
                    }
                    ,
                    i.prototype.bonus = function(t, e, i, s, l, n) {
                        var a, o, r, h, u, d;
                        for (null == s && (s = 16777215),
                        null == l && (l = 10),
                        null == n && (n = 1),
                        e -= this.lIIl1.II1OO.ll00I.status.x,
                        i -= this.lIIl1.II1OO.ll00I.status.y,
                        e < this.lIIl1.OIl0I && (e += this.lIIl1.size),
                        e > this.lIIl1.OIl0I && (e -= this.lIIl1.size),
                        i < this.lIIl1.OIl0I && (i += this.lIIl1.size),
                        i > this.lIIl1.OIl0I && (i -= this.lIIl1.size),
                        u = this.lIIl1.display.width / this.lIIl1.display.height,
                        e = .016 * e / u + .5,
                        i = .016 * -i + .5,
                        h = 1; t >= Math.pow(10, h); )
                            h++;
                        for (d = .011 * n,
                        a = -d * (h + 1) / 2,
                        this.vertices[3 * this.index] = e + a,
                        this.vertices[3 * this.index + 1] = i,
                        this.vertices[3 * this.index + 2] = 0,
                        this.figure[this.index] = l,
                        this.time[this.index] = this.material.uniforms.Ol1ll.value,
                        this.opac[this.index] = 1,
                        this.speed[this.index] = -1,
                        this.OI0lI[this.index] = .01 * n,
                        this.fill[this.index] = 1,
                        this.color[3 * this.index] = (s >> 16 & 255) / 255,
                        this.color[3 * this.index + 1] = (s >> 8 & 255) / 255,
                        this.color[3 * this.index + 2] = (255 & s) / 255,
                        this.index += 1,
                        this.index >= this.size && (this.index = this.start_index),
                        o = r = h - 1; r >= 0; o = r += -1)
                            this.figure[this.index] = Math.floor(t / Math.pow(10, o)) % 10,
                            this.vertices[3 * this.index] = e + a + (h - o) * d,
                            this.vertices[3 * this.index + 1] = i,
                            this.vertices[3 * this.index + 2] = 0,
                            this.time[this.index] = this.material.uniforms.Ol1ll.value,
                            this.opac[this.index] = 1,
                            this.speed[this.index] = -1,
                            this.OI0lI[this.index] = .015 * n,
                            this.fill[this.index] = 1,
                            this.color[3 * this.index] = (s >> 16 & 255) / 255,
                            this.color[3 * this.index + 1] = (s >> 8 & 255) / 255,
                            this.color[3 * this.index + 2] = (255 & s) / 255,
                            this.index += 1,
                            this.index >= this.size && (this.index = this.start_index);
                        return this.geometry.getAttribute("position").needsUpdate = !0,
                        this.geometry.getAttribute("figure").needsUpdate = !0,
                        this.geometry.getAttribute("time").needsUpdate = !0,
                        this.geometry.getAttribute("opac").needsUpdate = !0,
                        this.geometry.getAttribute("speed").needsUpdate = !0,
                        this.geometry.getAttribute("OI0lI").needsUpdate = !0,
                        this.geometry.getAttribute("speed").needsUpdate = !0,
                        this.geometry.getAttribute("fill").needsUpdate = !0,
                        this.geometry.getAttribute("color").needsUpdate = !0
                    }
                    ,
                    i.prototype.O0O00 = function() {
                        var t, e, i, s;
                        return s = "uniform float IO00I;\nuniform float lI1ll;\nuniform float size;\nuniform float Ol1ll ;\nattribute float OI0lI;\nattribute float fill ;\nattribute float figure;\nattribute vec3 color ;\nattribute float speed ;\nattribute float time ;\nvarying float toffset;\nvarying float opacity ;\nvarying vec3 vcol ;\nvarying float fil ;\nattribute float opac ;\n\nvoid main() {\n  toffset = figure;\n  opacity = opac;\n  vcol = color ;\n  fil = fill ;\n  gl_PointSize = OI0lI*size;\n\n  vec3 lIOIl = position ;\n  if (speed != 0.0)\n  {\n    float t = clamp((Ol1ll-time)/120.0,0.0,1.0);\n    opacity *= pow(1.0-t,.5) ;\n    gl_PointSize *= pow(1.0-t,.1) ;\n    lIOIl.y += (1.0-exp(-t))*.2*speed ;\n  }\n  vec4 mvPosition = modelViewMatrix * vec4(lIOIl*vec3(IO00I,lI1ll,1.0), 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n}",
                        t = "varying float toffset;\nvarying float opacity;\nvarying vec3 vcol ;\nvarying float fil ;\nuniform sampler2D texture;\n\nvoid main() {\n  gl_FragColor = texture2D(texture,vec2((gl_PointCoord.x+toffset)/32.0,1.0-gl_PointCoord.y))*vec4(vcol,opacity);\n  gl_FragColor.xyz *= .3+.7*pow(max(fil-gl_PointCoord.x,0.0),.1) ;\n}",
                        e = this.createTexture(),
                        i = {
                            texture: {
                                type: "t",
                                value: e
                            },
                            IO00I: {
                                type: "f",
                                value: this.IO00I
                            },
                            lI1ll: {
                                type: "f",
                                value: this.lI1ll
                            },
                            size: {
                                type: "f",
                                value: 1e3
                            },
                            Ol1ll: {
                                type: "f",
                                value: 0
                            }
                        },
                        this.material = new THREE.ShaderMaterial({
                            uniforms: i,
                            vertexShader: s,
                            fragmentShader: t,
                            transparent: !0,
                            depthWrite: !1,
                            depthTest: !1,
                            blending: THREE.AdditiveBlending
                        }),
                        this.geometry.addAttribute("position", new THREE.BufferAttribute(this.vertices,3)),
                        this.geometry.addAttribute("OI0lI", new THREE.BufferAttribute(this.OI0lI,1)),
                        this.geometry.addAttribute("opac", new THREE.BufferAttribute(this.opac,1)),
                        this.geometry.addAttribute("figure", new THREE.BufferAttribute(this.figure,1)),
                        this.geometry.addAttribute("color", new THREE.BufferAttribute(this.color,3)),
                        this.geometry.addAttribute("fill", new THREE.BufferAttribute(this.fill,1)),
                        this.geometry.addAttribute("speed", new THREE.BufferAttribute(this.speed,1)),
                        this.geometry.addAttribute("time", new THREE.BufferAttribute(this.time,1)),
                        this.IIOO1 = new THREE.Points(this.geometry,this.material),
                        this.IIOO1.position.z = 0
                    }
                    ,
                    i.prototype.createTexture = function() {
                        var e, i, s, l, n, a, o, r, h, u, d, I;
                        for (e = document.createElement("canvas"),
                        e.width = 2048,
                        e.height = 64,
                        i = e.getContext("2d"),
                        d = "0123456789",
                        i.font = "60pt Play",
                        i.fillStyle = "#FFF",
                        i.strokeStyle = "#000",
                        i.lineWidth = 2,
                        i.shadowBlur = 6,
                        i.shadowColor = "#888",
                        i.shadowOpacity = 1,
                        i.textAlign = "center",
                        i.textBaseline = "middle",
                        l = n = 0,
                        h = d.length - 1; 0 <= h ? n <= h : n >= h; l = 0 <= h ? ++n : --n)
                            i.fillText(d.substring(l, l + 1), 32 + 64 * l, 32);
                        for (d = ["7", "D", "(", "%", "+", "a"],
                        i.font = "38pt SBGlyphs",
                        l = a = 0,
                        u = d.length - 1; 0 <= u ? a <= u : a >= u; l = 0 <= u ? ++a : --a)
                            l === d.length - 1 ? (i.save(),
                            i.translate(32 + 64 * (l + 10), 32),
                            i.scale(.7, 1),
                            i.fillText(d[l], 0, 0),
                            i.restore()) : (i.fillText(d[l], 32 + 64 * (l + 10), 32),
                            l === d.length - 2 && i.strokeText(d[l], 32 + 64 * (l + 10), 32));
                        for (s = i.createLinearGradient(0, 0, 0, 64),
                        s.addColorStop(0, "#FFF"),
                        s.addColorStop(.6, "#FFF"),
                        s.addColorStop(.6, "#CCC"),
                        i.fillStyle = s,
                        i.shadowBlur = 2,
                        i.translate(1024, 0),
                        l = o = 0; o <= 2; l = o += 1)
                            i.beginPath(),
                            i.moveTo(2, 2),
                            i.lineTo(12, 2),
                            i.lineTo(12, 12),
                            i.lineTo(18, 22),
                            i.lineTo(18, 62),
                            i.lineTo(8, 62),
                            i.lineTo(8, 52),
                            i.lineTo(2, 42),
                            i.closePath(),
                            i.fill(),
                            i.translate(64 / 3, 0);
                        for (i.textBaseline = "middle",
                        i.font = "40pt Play",
                        i.fillStyle = "#FFF",
                        i.fillText(t("Lv"), 32, 32),
                        i.translate(64, 0),
                        l = r = 0; r <= 6; l = r += 1)
                            0 !== l ? (i.font = "38pt SBGlyphs",
                            i.fillStyle = "#FFF",
                            i.fillText("$", 32, 32),
                            i.globalCompositeOperation = "destination-out",
                            i.font = 0 === l ? "32pt Arial" : "22pt Play",
                            i.fillStyle = "rgba(0,0,0,.7)",
                            d = 0 === l ? "" : l - 1,
                            i.fillText(d, 32, 30),
                            i.globalCompositeOperation = "source-over",
                            i.translate(64, 0)) : i.translate(64, 0);
                        return I = new THREE.Texture(e),
                        I.minFilter = THREE.LinearFilter,
                        I.needsUpdate = !0,
                        I
                    }
                    ,
                    i.prototype.I0I10 = function(t, e, i, s, l) {
                        this.px = t,
                        this.IO110 = e,
                        this.IO00I = i,
                        this.lI1ll = s,
                        this.level = l
                    }
                    ,
                    i.prototype.needsUpdate = function() {
                        return this.IOlO1
                    }
                    ,
                    i.prototype.I0l0O = function() {}
                    ,
                    i.prototype.O1IO0 = function() {
                        return null == this.object && (this.object = this.IIOO1,
                        this.object.position.z = -100,
                        this.parent.object.add(this.object)),
                        this.object.visible = this.visible
                    }
                    ,
                    i.prototype.I1O0O = function(t) {
                        return this.O1IO0(),
                        this.I0l0O()
                    }
                    ,
                    i.prototype.I1I0O = function() {
                        var e, i, s, l, n, a, o, r, h, u, d;
                        if (null != this.material) {
                            if (this.material.uniforms.IO00I.value = this.IO00I,
                            this.material.uniforms.lI1ll.value = this.lI1ll,
                            this.material.uniforms.size.value = this.lIIl1.display.width,
                            this.material.uniforms.Ol1ll.value = this.lIIl1.II1OO.O0O0O.lIOOO,
                            this.score_target = Math.min(999999, this.lIIl1.ll00I.status.score),
                            this.lIIl1.ll00I.status.bestscore = Math.max(this.lIIl1.ll00I.status.score, this.lIIl1.ll00I.status.bestscore),
                            this.score !== this.score_target) {
                                for (Math.abs(this.score - this.score_target) < 1 ? this.score = this.score_target : this.score = .98 * this.score + .02 * this.score_target,
                                d = Math.round(this.score),
                                h = 1,
                                l = n = 0; n <= 9; l = n += 1)
                                    0 === l || d >= Math.pow(10, l) ? (this.vertices[3 * l + 2] = 0,
                                    this.figure[l] = Math.floor(d / Math.pow(10, l)) % 10,
                                    this.fill[l] = 1,
                                    h = l + 1) : l < 6 ? (this.vertices[3 * l + 2] = 0,
                                    this.figure[l] = 0,
                                    this.fill[l] = 0) : this.vertices[3 * l + 2] = 1e3;
                                for (h = Math.max(6, h),
                                s = .02 * h,
                                l = a = 0,
                                u = h - 1; a <= u; l = a += 1)
                                    this.vertices[3 * l] = .02 * (9 - l) + s - .15;
                                this.geometry.getAttribute("figure").needsUpdate = !0,
                                this.geometry.getAttribute("position").needsUpdate = !0,
                                this.geometry.getAttribute("fill").needsUpdate = !0
                            }
                            return this.shield === Math.floor(this.lIIl1.II1OO.ll00I.status.shield) && this.shield_max === this.lIIl1.II1OO.ll00I.instance.shield_capacity || (this.shield > 0 && 0 === Math.floor(this.lIIl1.II1OO.ll00I.status.shield) && this.lIIl1.ll00I.status.alive && this.lIIl1.II1OO.O0O0O.lIOOO - this.last_shield_warning > 300 && (this.lIIl1.message(t("Warning: Shield disabled"), "#8FF"),
                            this.last_shield_warning = this.lIIl1.II1OO.O0O0O.lIOOO),
                            this.shield = Math.floor(this.lIIl1.II1OO.ll00I.status.shield),
                            this.shield_max = this.lIIl1.II1OO.ll00I.instance.shield_capacity,
                            this.setBar(this.shield_index, this.shield, this.shield_max)),
                            this.OO0O0 !== this.lIIl1.II1OO.ll00I.status.OO0O0 && (r = this.lIIl1.ll00I.type.level,
                            this.OO0O0 < 5 * r && this.lIIl1.II1OO.ll00I.status.OO0O0 >= 5 * r && !this.lIIl1.ll00I.instance.allMaxed() && OOlI1.levelUpgrades(r) && this.lIIl1.mode.showUpgrades() && this.lIIl1.message(t("Upgrades unlocked"), "#F88", !0),
                            this.OO0O0 < 20 * r * r && this.lIIl1.II1OO.ll00I.status.OO0O0 >= 20 * r * r && this.lvl < 6 && this.lIIl1.mode.shipCanUpgrade() && this.lIIl1.message(t("Ship Upgrade"), "#FFF"),
                            this.OO0O0 = this.lIIl1.II1OO.ll00I.status.OO0O0,
                            this.setBar(this.crystal_index, this.OO0O0, this.lIIl1.II1OO.ll00I.instance.crystals_capacity)),
                            i = !1,
                            this.lIIl1.II1OO.ll00I.isPulseType() && (i = Math.floor(this.lIIl1.II1OO.ll00I.status.generator) < this.lIIl1.II1OO.ll00I.pulsePower(),
                            this.generator_depleted && this.lIIl1.II1OO.O0O0O.lIOOO < this.lIIl1.II1OO.ll00I.last_pulse_shot + 60 / this.lIIl1.II1OO.ll00I.pulseRate() && (i = !0)),
                            this.generator_depleted !== i && (this.generator_depleted = i,
                            i ? this.setBarColor(this.generator_index, .5, .45, .25) : (this.lIIl1.ll00I.Il0OO.O1I0O || this.lIIl1.I0OI0.beep(2, .25),
                            this.setBarColor(this.generator_index, 1, .9, .5))),
                            this.generator === Math.floor(this.lIIl1.II1OO.ll00I.status.generator) && this.generator_max === this.lIIl1.II1OO.ll00I.instance.generator_capacity || (this.generator = Math.floor(this.lIIl1.II1OO.ll00I.status.generator),
                            this.generator_max = Math.max(this.generator, this.lIIl1.II1OO.ll00I.instance.generator_capacity),
                            this.setBar(this.generator_index, this.generator, this.generator_max)),
                            this.lvl !== this.lIIl1.II1OO.ll00I.type.level && (this.lvl = this.lIIl1.II1OO.ll00I.type.level,
                            this.updateLevel()),
                            o = this.lIIl1.II1OO.ll00I.status.lives - 1,
                            this.lvl === Math.floor(this.lIIl1.mode.options.starting_ship / 100) && this.lIIl1.mode.infinite_base_lives && (o = this.lIIl1.II1OO.O0O0O.survival ? 0 : -1),
                            this.lIIl1.II1OO.O0O0O.survival ? (o = 0,
                            e = Date.now() / 500 % 1 < .5) : e = !1,
                            this.lives !== o || e !== this.livesblink ? (this.lives = o,
                            this.livesblink = e,
                            this.updateLives()) : void 0
                        }
                    }
                    ,
                    i
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.Cursor = function(t) {
                    function e(t) {
                        this.lIIl1 = t,
                        e.O11II.constructor.call(this),
                        this.IOlO1 = !0,
                        this.visible = !0,
                        this.levelmod = -100
                    }
                    return extend(e, t),
                    e.prototype.I0I10 = function(t, e, i, s, l) {
                        this.px = t,
                        this.IO110 = e,
                        this.IO00I = i,
                        this.lI1ll = s,
                        this.level = l
                    }
                    ,
                    e.prototype.needsUpdate = function() {
                        return this.IOlO1
                    }
                    ,
                    e.prototype.set = function(t, e) {
                        this.posx = t,
                        this.posy = e
                    }
                    ,
                    e.prototype.I0l0O = function() {
                        var t;
                        if (null != this.object)
                            return this.object.visible = this.visible,
                            this.object.position.x = this.posx,
                            this.object.position.y = this.posy,
                            this.object.position.z = -1100,
                            this.object.renderOrder = 999,
                            t = Math.min(this.IO00I, this.lI1ll),
                            this.object.scale.x = t,
                            this.object.scale.y = -t,
                            this.object.scale.z = t
                    }
                    ,
                    e.prototype.O1IO0 = function() {
                        var t, e, i;
                        if (null == this.object)
                            return t = document.createElement("canvas"),
                            t.width = 64,
                            t.height = 64,
                            e = t.getContext("2d"),
                            e.translate(t.width / 2, t.height / 2),
                            e.font = "50pt FontAwesome",
                            e.shadowBlur = 5,
                            e.shadowOpacity = 1,
                            e.shadowColor = "#000",
                            e.fillStyle = "#EEE",
                            e.textAlign = "center",
                            e.textBaseline = "middle",
                            e.fillText("ï›", 0, 0),
                            i = new THREE.Texture(t),
                            i.needsUpdate = !0,
                            i.minFilter = THREE.LinearFilter,
                            this.material = new THREE.SpriteMaterial({
                                map: i,
                                transparent: !0,
                                blending: THREE.NormalBlending,
                                depthWrite: !1,
                                depthTest: !1
                            }),
                            this.object = new THREE.Sprite(this.material),
                            this.parent.object.add(this.object)
                    }
                    ,
                    e.prototype.I1O0O = function(t) {
                        return this.O1IO0(),
                        this.I0l0O()
                    }
                    ,
                    e.prototype.I1I0O = function() {}
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.OO01I = function(e) {
                    function i(e, s, l) {
                        var n, a, o, r;
                        this.screen = e,
                        this.lIIl1 = s,
                        this.welcome = l,
                        i.O11II.constructor.call(this),
                        this.II1OO = this.lIIl1.II1OO,
                        this.survival = !1,
                        this.welcome && null != this.lIIl1.ship_ad_code && (o = OOlI1.types_by_code[this.lIIl1.ship_ad_code],
                        this.add(new ShipAd(this.lIIl1,this.lIIl1.ship_ad_code), [0, -.1, .2, .4]),
                        a = new l1I00(t("NEW SHIP!")),
                        this.add(a, [.01, .175, .18, .025]),
                        a.background = null,
                        a.text_shadow = {
                            opacity: 1,
                            blur: 30,
                            color: "#8FF"
                        },
                        a = new l1I00(o.name + " - " + t("Level") + " " + o.level),
                        this.add(a, [.01, .2, .18, .025]),
                        a.background = null,
                        a.text_shadow = {
                            opacity: 1,
                            blur: 30,
                            color: "#8FF"
                        }),
                        this.welcome || (this.lIIl1.is_mobile_app && ("survival" !== this.lIIl1.mode.id && "invasion" !== this.lIIl1.mode.id || this.showTooltips()),
                        this.lIIl1.mode.show_weaponsbar && (this.weapons_bar = new WeaponsBar(this.lIIl1),
                        this.lIIl1.is_mobile_app ? this.lIIl1.is_tablet ? this.add(this.weapons_bar, [.8, .3, .2, .25]) : this.add(this.weapons_bar, [.8, .2, .2, .25]) : this.add(this.weapons_bar, [0, .36, .05, .45])),
                        this.OOOl1 = new lOl1I(this.lIIl1),
                        this.lIIl1.is_mobile_app ? this.welcome || this.add(this.OOOl1, [.25, .1, .5, .8]) : this.welcome || this.add(this.OOOl1, [.8, .5, .2, .5]),
                        this.lIIl1.is_mobile_app && (this.fire_buttons = new FireButtons(this.lIIl1),
                        this.lIIl1.is_tablet ? this.add(this.fire_buttons, [.8, .6, .2, .35]) : this.add(this.fire_buttons, [.8, .5, .2, .45])),
                        this.cursor = new Cursor,
                        this.add(this.cursor, [-1, -1, .03, .03]),
                        this.lIIl1.is_touch_device && (this.arrow = new I000l(this.lIIl1),
                        this.welcome || this.add(this.arrow, [.5, .5, .05, .05]),
                        this.joystick = new Joystick(this.lIIl1),
                        this.welcome || this.add(this.joystick, [0, 0, .4, .4])),
                        this.figures = new Figures(this.lIIl1),
                        this.welcome || this.add(this.figures, [0, 0, 1, 1]),
                        this.specupgrades = new Ol0O1(this.lIIl1),
                        this.lIIl1.is_mobile_app ? this.add(this.specupgrades, [.245, .9, .51, .1]) : this.add(this.specupgrades, [0, .92, .8, .08]),
                        this.shipupgrades = new Ill0O(this.lIIl1),
                        this.add(this.shipupgrades, [.25, 0, .5, .1]),
                        this.lIIl1.is_mobile_app ? (this.buttons_panel = new MobileButtonsPanel(this.lIIl1),
                        this.fullscreen_button = this.buttons_panel.fullscreen_button,
                        this.add(this.buttons_panel, [.8, 0, .2, .1]),
                        this.game_menu = new GameMenu(this.lIIl1),
                        this.add(this.game_menu, [.8, 0, .2, 1]),
                        this.gamepad_helper = new GamepadHelper(this.lIIl1)) : this.lIIl1.is_app ? (this.fullscreen_button = new GameButton(this.lIIl1,"options","ïƒ‰","Esc",function(t) {
                            return function() {
                                return t.toggleOptions()
                            }
                        }(this)),
                        this.game_menu = new GameMenu(this.lIIl1),
                        this.add(this.game_menu, [.8, 0, .2, 1]),
                        this.gamepad_helper = new GamepadHelper(this.lIIl1)) : (this.fullscreen_button = new GameButton(this.lIIl1,"options","ïƒ‰","Esc",function(t) {
                            return function() {
                                return t.toggleOptions()
                            }
                        }(this)),
                        this.game_menu = new GameMenu(this.lIIl1),
                        this.add(this.game_menu, [.8, 0, .2, 1])),
                        this.lIIl1.is_mobile_app || (this.add(this.fullscreen_button, [.945, 0, .055, .1 * .2 * 16 / 10 - .002]),
                        r = .055,
                        n = .1 * .2 * 16 / 10 - .002,
                        this.fullscreen_button.force_ratio = 16 / 9 * r / n,
                        this.fullscreen_button.align_top = !0),
                        this.radar_shown = !0,
                        this.lIIl1.addKeyListener("R".charCodeAt(0), {
                            keyPressed: function(t) {
                                return function() {
                                    return t.radar_shown = !t.radar_shown,
                                    t.OOOl1.visible = t.radar_shown
                                }
                            }(this),
                            keyReleased: function(t) {
                                return function() {}
                            }()
                        }),
                        this.chatpanel = new ChatPanel(this.lIIl1),
                        this.add(this.chatpanel, [0, .5, .25, .4]),
                        "yes" === localStorage.getItem("dissmissed_info_" + this.lIIl1.mode.id) || this.lIIl1.is_app || null != this.lIIl1.mode.tips_test && texists(this.lIIl1.mode.tips_test) && "tutorial" !== this.lIIl1.mode.id && (this.mode_info = new ModeInfo(this.lIIl1),
                        this.add(this.mode_info, [.05, .5, .19, .45]))),
                        CanvasRenderingContext2D.prototype.fillRoundRect = CanvasRenderingContext2D.prototype.fillRect,
                        this.messages = new Messages(this.lIIl1,this)
                    }
                    return extend(i, e),
                    i.prototype.OIOOl = function(t) {
                        return this.II1OO.lOOI0(t)
                    }
                    ,
                    i.prototype.l01OO = function(t) {
                        var e, i;
                        return i = new O1101(t.seed),
                        e = 120 + i.ll1Il(240),
                        null != this.OOOl1 && this.OOOl1.l01OO(t, e),
                        this.setHue(e)
                    }
                    ,
                    i.prototype.setHue = function(t) {
                        if (this.hue = t,
                        null != this.figures && this.figures.setHue(t / 360),
                        null != this.fullscreen_button && this.fullscreen_button.setHue(t),
                        null != this.shipupgrades && this.shipupgrades.updateHue(t),
                        null != this.chatpanel && this.chatpanel.updateHue(t),
                        null != this.roomlink && this.roomlink.setHue(t),
                        null != this.mode_info && this.mode_info.setHue(t),
                        null != this.OOOl1 && this.OOOl1.setHue(t),
                        null != this.rcs && this.rcs.setHue(t),
                        null != this.game_menu && this.game_menu.setHue(t),
                        null != this.weapons_bar && this.weapons_bar.setHue(t),
                        null != this.fire_buttons && this.fire_buttons.setHue(t),
                        null != this.joystick && this.joystick.setHue(t),
                        null != this.buttons_panel)
                            return this.buttons_panel.setHue(t)
                    }
                    ,
                    i.prototype.hide = function() {
                        return this.hidden = !0,
                        this.OOOl1.visible = !1,
                        this.figures.visible = !1,
                        this.specupgrades.visible = !1,
                        this.shipupgrades.visible = !1,
                        this.fullscreen_button.visible = !1,
                        null != this.survival_info && (this.survival_info.visible = !1),
                        this.chatpanel.visible = !1,
                        null != this.roomlink && (this.roomlink.visible = !1),
                        null != this.mode_info && (this.mode_info.visible = !1),
                        null != this.rcs && (this.rcs.visible = !1),
                        null != this.weapons_bar && (this.weapons_bar.visible = !1),
                        null != this.joystick && (this.joystick.visible = !1),
                        null != this.fire_buttons && (this.fire_buttons.visible = !1),
                        null != this.buttons_panel && (this.buttons_panel.visible = !1),
                        null != this.weapon_store && this.weapon_store.hide(),
                        this.lIIl1.mode.hideUI(),
                        null != this.cursor && (this.cursor.visible = !1),
                        null != this.game_menu && this.game_menu.shown && this.game_menu.hide(),
                        this
                    }
                    ,
                    i.prototype.lO00I = function() {
                        if (this.hidden = !1,
                        this.lIIl1.mode.showUI(),
                        this.OOOl1.visible = this.radar_shown,
                        this.figures.visible = !0,
                        this.specupgrades.visible = !0,
                        this.shipupgrades.visible = !0,
                        this.fullscreen_button.visible = !0,
                        null != this.survival_info && (this.survival_info.visible = !0),
                        this.chatpanel.visible = !0,
                        null != this.roomlink && (this.roomlink.visible = !0),
                        null != this.mode_info && (this.mode_info.visible = !0),
                        null != this.rcs && (this.rcs.visible = !0),
                        null != this.weapons_bar && (this.weapons_bar.visible = !0),
                        null != this.cursor && (this.cursor.visible = !0),
                        null != this.joystick && (this.joystick.visible = !0),
                        null != this.fire_buttons && (this.fire_buttons.visible = !0),
                        null != this.buttons_panel && (this.buttons_panel.visible = !0),
                        null != this.game_menu && this.game_menu.shown)
                            return this.game_menu.hide()
                    }
                    ,
                    i.prototype.I1I0O = function() {
                        var e, s, l;
                        if (i.O11II.I1I0O.call(this),
                        this.messages.I0l0O(),
                        this.welcome && this.lIIl1.settings.check("gamepad_control") && !this.lIIl1.is_app && (e = navigator.getGamepads()[0]) && e.buttons.length > 3 && (null == this.padstartbutton ? this.padstartbutton = e.buttons[0].pressed || e.buttons[1].pressed || e.buttons[2].pressed || e.buttons[3].pressed : (e.buttons[0].pressed || e.buttons[1].pressed || e.buttons[2].pressed || e.buttons[3].pressed) !== this.padstartbutton && (this.padstartbutton = e.buttons[0].pressed || e.buttons[1].pressed || e.buttons[2].pressed || e.buttons[3].pressed,
                        this.padstartbutton && this.lIIl1.I01IO.startGame())),
                        null != this.lIIl1.mode && this.lIIl1.mode.options.rcs_toggle && null == this.rcs && (this.rcs = new RCS(this.lIIl1,this.fullscreen_button.hue),
                        this.lIIl1.is_mobile_app ? this.lIIl1.is_tablet ? this.add(this.rcs, [.02, .5, .08, .12]) : this.add(this.rcs, [.02, .34, .08, .12]) : this.add(this.rcs, [0, .23, .2, .05])),
                        this.survival !== this.lIIl1.II1OO.O0O0O.survival ? (this.survival = this.lIIl1.II1OO.O0O0O.survival,
                        this.radiation_com = 0,
                        this.survival && (this.survival_info = new IOIIl(this.lIIl1),
                        this.add(this.survival_info, [0, .29, .2, .12]),
                        this.lIIl1.I0OI0.alert(),
                        null != this.roomlink && this.remove(this.roomlink))) : null != this.survival_info && (l = (this.lIIl1.II1OO.O0O0O.lIOOO - this.lIIl1.II1OO.O0O0O.survival_start) / OOO10.OI00l,
                        s = Math.max(0, Math.min(100, Math.round(100 * (1 - l)))),
                        this.survival_info.set(this.lIIl1.llI1O.alive_ships, s),
                        this.radiation_com < 1 && l > .02 && (this.radiation_com = 1,
                        this.lIIl1.message(t("Warning: Repulsive gravity field detected"), "#F62"))),
                        null != this.gamepad_helper)
                            return this.gamepad_helper.I1I0O()
                    }
                    ,
                    i.prototype.toggleOptions = function() {
                        if (!(null == this.game_menu || this.game_menu.settings_shown && this.game_menu.shown))
                            return this.game_menu.shown ? (this.game_menu.hide(),
                            null != this.fire_buttons && (this.fire_buttons.visible = !0),
                            this.lIIl1.is_mobile_app || (this.fullscreen_button.icon = "ïƒ‰",
                            this.fullscreen_button.IOlO1 = !0,
                            this.hidden) ? void 0 : (this.radar_shown && (this.OOOl1.visible = !0),
                            this.lIIl1.mode.showScorePanel())) : (this.lIIl1.is_mobile_app || (this.fullscreen_button.icon = "ï€",
                            this.fullscreen_button.IOlO1 = !0,
                            this.OOOl1.visible = !1,
                            this.lIIl1.mode.hideScorePanel()),
                            null != this.fire_buttons && (this.fire_buttons.visible = !1),
                            this.game_menu.lO00I())
                    }
                    ,
                    i.prototype.shipUpgradesNavigation = function() {
                        if (null != this.gamepad_helper)
                            return this.gamepad_helper.shipUpgradesNavigation()
                    }
                    ,
                    i.prototype.statsUpgradesNavigation = function() {
                        if (null != this.gamepad_helper)
                            return this.gamepad_helper.statsUpgradesNavigation()
                    }
                    ,
                    i.prototype.showWeaponStore = function(t) {
                        if (this.lIIl1.mode.show_weaponsbar && (!this.lIIl1.mode.restricted_weapons_store || t))
                            return null == this.weapon_store && (this.weapon_store = new WeaponStore(this.lIIl1),
                            this.lIIl1.is_mobile_app ? this.add(this.weapon_store, [.05, .05, .9, .9]) : this.add(this.weapon_store, [.25, .25, .5, .5])),
                            this.weapon_store.lO00I(),
                            this.lIIl1.is_mobile_app && null != this.cursor ? this.cursor.visible = !1 : void 0
                    }
                    ,
                    i.prototype.hideWeaponStore = function() {
                        if (null != this.weapon_store && this.weapon_store.hide(),
                        this.lIIl1.is_mobile_app && null != this.cursor)
                            return this.cursor.visible = !0
                    }
                    ,
                    i.prototype.toggleWeaponStore = function() {
                        return null == this.weapon_store ? this.showWeaponStore() : this.weapon_store.shown ? this.hideWeaponStore() : this.showWeaponStore()
                    }
                    ,
                    i.prototype.showTooltips = function() {
                        if (this.lIIl1.is_mobile_app && !this.tooltips_shown)
                            return this.tooltips_shown = !0,
                            this.tooltips = new Tooltips(this.lIIl1),
                            this.add(this.tooltips, [0, 0, 1, 1])
                    }
                    ,
                    i
                }(l001O),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                OOlO1 = function(t) {
                    function e(t, i) {
                        this.lIIl1 = t,
                        this.welcome = null != i && i,
                        e.O11II.constructor.call(this),
                        this.l1llI = new OO01I(this,this.lIIl1,this.welcome),
                        this.add(this.l1llI, [0, 0, 1, 1], [0, 0, 1, 1])
                    }
                    return extend(e, t),
                    e
                }(OO011),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.Message = function(t) {
                    function e(t, i, s, l, n) {
                        this.parent = t,
                        this.text = i,
                        this.color = s,
                        this.bottom = l,
                        null == n && (n = !1),
                        e.O11II.constructor.call(this),
                        n ? (this.force_ratio = 8,
                        this.IOOOI.init({
                            opacity: .5,
                            OOl1l: 4,
                            O0IlI: 4
                        }),
                        this.IOOOI.push({
                            d: .5,
                            k: .08,
                            f: .3,
                            OOl1l: 1,
                            O0IlI: 1
                        }),
                        this.IOOOI.push({
                            d: 1.5,
                            k: .001,
                            f: .1,
                            OOl1l: .75,
                            O0IlI: .75,
                            l0OIO: this.bottom ? 1 : -1,
                            opacity: .5
                        }),
                        this.IOOOI.push({
                            d: 1,
                            k: .01,
                            f: .1,
                            OOl1l: .5,
                            O0IlI: .5,
                            l0OIO: this.bottom ? 1.5 : -1.5,
                            opacity: 0
                        })) : (this.force_ratio = 16,
                        this.IOOOI.push({
                            d: 2,
                            k: .001,
                            f: .1,
                            OOl1l: .75,
                            O0IlI: .75,
                            l0OIO: this.bottom ? 1 : -1,
                            opacity: .5
                        }),
                        this.IOOOI.push({
                            d: 1,
                            k: .01,
                            f: .1,
                            OOl1l: .5,
                            O0IlI: .5,
                            l0OIO: this.bottom ? 1.5 : -1.5,
                            opacity: 0
                        })),
                        this.creation = Date.now()
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e;
                        for (t.save(),
                        t.translate(this.px, this.IO110),
                        t.strokeStyle = "#000",
                        t.lineWidth = .05 * this.lI1ll,
                        t.fillStyle = this.color,
                        t.textAlign = "center",
                        t.textBaseline = "middle",
                        e = Math.round(this.lI1ll / 1.6); ; ) {
                            if (t.font = e + "pt Play",
                            t.measureText(this.text).width < .99 * this.IO00I || e <= 5)
                                break;
                            e -= 1
                        }
                        t.strokeText(this.text, this.IO00I / 2, this.lI1ll / 2),
                        t.fillText(this.text, this.IO00I / 2, this.lI1ll / 2),
                        t.restore()
                    }
                    ,
                    e
                }(OIOIO),
                this.Messages = function() {
                    function t(t, e) {
                        this.lIIl1 = t,
                        this.panel = e,
                        this.messages = []
                    }
                    return t.prototype.message = function(t, e, i, s) {
                        var l, n;
                        return null == e && (e = "#FFF"),
                        null == s && (s = !1),
                        n = new Message(this,t,e,i,s),
                        l = s ? .2 : .06,
                        i ? this.panel.add(n, [.3, .8, .4, l]) : this.panel.add(n, [.3, .1 + .05 * (1 + this.messages.length), .4, l]),
                        this.messages.push(n)
                    }
                    ,
                    t.prototype.I0l0O = function() {
                        var t, e, i, s;
                        for (s = Date.now(),
                        t = e = this.messages.length - 1; e >= 0; t = e += -1)
                            i = this.messages[t],
                            i.creation + 5e3 < s && (this.panel.remove(i),
                            this.messages.splice(t, 1))
                    }
                    ,
                    t
                }(),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.IOIIl = function(e) {
                    function i(t) {
                        this.lIIl1 = t,
                        i.O11II.constructor.call(this),
                        this.survivors = 0,
                        this.shield_regen = 100,
                        this.blending = THREE.AdditiveBlending,
                        this.force_ratio = 4,
                        this.IOOOI.init({
                            OOl1l: 1,
                            O0IlI: 1,
                            lOIO1: 2,
                            opacity: 0
                        }),
                        this.IOOOI.push({
                            d: 2,
                            k: .02,
                            f: .3,
                            OOl1l: 2,
                            O0IlI: 2,
                            lOIO1: 2
                        }),
                        this.IOOOI.push({
                            d: 2,
                            k: .02,
                            f: .3
                        }),
                        this.creation_date = Date.now()
                    }
                    return extend(i, e),
                    i.prototype.set = function(t, e) {
                        if (!(Date.now() - this.creation_date < 6e3))
                            return t !== this.survivors && (this.survivors = t,
                            this.IOlO1 = !0),
                            e !== this.shield_regen ? (this.shield_regen = e,
                            this.IOlO1 = !0) : void 0
                    }
                    ,
                    i.prototype.IOO11 = function(e) {
                        var i;
                        if (e.save(),
                        e.translate(this.px, this.IO110),
                        e.fillStyle = "#F88",
                        e.textAlign = "center",
                        e.textBaseline = "middle",
                        0 === this.survivors) {
                            for (i = Math.round(this.lI1ll / 3); ; ) {
                                if (e.font = i + "pt Play",
                                i < 5 || e.measureText(t("Survival Mode!")).width < this.IO00I)
                                    break;
                                i -= 1
                            }
                            e.fillText(t("Survival Mode!"), this.IO00I / 2, this.lI1ll / 2)
                        } else
                            this.shield_regen < 99 ? (i = Math.round(this.lI1ll / 3),
                            e.font = i + "pt Play",
                            e.fillText(t("Survivors:") + " " + this.survivors, this.IO00I / 2, .2 * this.lI1ll)) : (i = Math.round(this.lI1ll / 3),
                            e.font = i + "pt Play",
                            e.fillText(t("Survivors:") + " " + this.survivors, this.IO00I / 2, this.lI1ll / 2));
                        e.restore()
                    }
                    ,
                    i
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.RCS = function(t) {
                    function e(t, i) {
                        this.lIIl1 = t,
                        this.hue = i,
                        e.O11II.constructor.call(this, this),
                        this.blending = THREE.AdditiveBlending,
                        this.status = !0,
                        this.lIIl1.is_mobile_app || (this.force_ratio = 4.9,
                        this.rcsimage = this.createRCSImage()),
                        this.using_gamepad = !1,
                        this.levelmod = 100
                    }
                    return extend(e, t),
                    e.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e.prototype.IOO11 = function(t) {
                        var e, i;
                        return null != this.material && (this.material.depthTest = !0,
                        this.material.depthWrite = !1),
                        this.lIIl1.is_mobile_app ? this.drawComponentMobile(t) : (this.status ? t.globalAlpha = 1 : t.globalAlpha = .5,
                        this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",

                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.textAlign = "left",
                        t.textBaseline = "middle",
                        e = Math.round(this.lI1ll / 3),
                        t.font = e + "pt FontAwesome",
                        i = this.lI1ll / 4,
                        t.fillStyle = this.medium,
                        t.beginPath(),
                        t.moveTo(0, 0),
                        t.lineTo(this.IO00I - i, 0),
                        t.lineTo(this.IO00I, i),
                        t.lineTo(this.IO00I, this.lI1ll),
                        t.lineTo(i, this.lI1ll),
                        t.lineTo(0, this.lI1ll - i),
                        t.closePath(),
                        t.fill(),
                        t.fillStyle = this.color,
                        t.globalAlpha = 1,
                        this.status ? t.drawImage(this.shipicon, this.IO00I / 2, 0, this.lI1ll, this.lI1ll) : t.drawImage(this.rcsimage, this.IO00I / 2 - .5 * this.lI1ll, 0, 2 * this.lI1ll, this.lI1ll),
                        t.globalAlpha = this.status ? 1 : .5,
                        t.font = e + "pt Play",
                        this.status ? t.fillText("RCS: ON", .25 * this.lI1ll, this.lI1ll / 2) : t.fillText("RCS: OFF", .25 * this.lI1ll, this.lI1ll / 2),
                        this.using_gamepad ? Gamepad.drawButton("LT", t, this.IO00I - this.lI1ll / 4 - .4 * this.lI1ll, this.lI1ll / 2, .6 * e, this.hue) : (t.textAlign = "center",
                        t.font = Math.round(.6 * e) + "pt Play",
                        t.fillText("CTRL", this.IO00I - this.lI1ll / 4 - .4 * this.lI1ll, this.lI1ll / 2),
                        t.strokeStyle = this.color,
                        t.strokeRect(this.IO00I - this.lI1ll / 4 - .8 * this.lI1ll, .3 * this.lI1ll, .8 * this.lI1ll, .4 * this.lI1ll)),
                        t.restore())
                    }
                    ,
                    e.prototype.drawComponentMobile = function(t) {
                        var e;
                        return this.color = "hsla(181,70%,80%,1)",
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.textAlign = "center",
                        t.textBaseline = "middle",
                        e = Math.round(.75 * Math.min(this.IO00I, this.lI1ll)),
                        t.font = e + "pt SBGlyphs",
                        t.fillStyle = this.color,
                        t.shadowBlur = e / 20,
                        t.shadowOpacity = 1,
                        t.shadowColor = this.color,
                        t.fillText(this.status ? "w" : "v", .5 * this.IO00I, .5 * this.lI1ll),
                        t.restore()
                    }
                    ,
                    e.prototype.OOl1O = function() {
                        return this.lIIl1.is_mobile_app ? (this.lIIl1.II1OO.ll00I.Il0OO.glide = !this.lIIl1.II1OO.ll00I.Il0OO.glide,
                        this.lIIl1.II1OO.ll00I.Il001()) : !this.lIIl1.settings.check("buttons_disabled") && (document.onkeydown({
                            keyCode: 17
                        }),
                        !0)
                    }
                    ,
                    e.prototype.IOlOI = function() {
                        return this.lIIl1.is_mobile_app || (this.lIIl1.II1OO.control.control_pressed = !1),
                        !0
                    }
                    ,
                    e.prototype.repaint = function() {
                        return this.IOlO1 = !0
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        if (this.status !== !this.lIIl1.ll00I.status.glide && (this.status = !this.lIIl1.ll00I.status.glide,
                        this.repaint()),
                        this.lIIl1.using_gamepad !== this.using_gamepad)
                            return this.using_gamepad = this.lIIl1.using_gamepad,
                            this.repaint()
                    }
                    ,
                    e.prototype.createRCSImage = function() {
                        var t, e, i, s, l, n, a;
                        for (t = document.createElement("canvas"),
                        this.shipicon = new I1000(lIO0O.getDefaultShip(),0).getIcon(128),
                        t.width = 128,
                        t.height = 64,
                        e = t.getContext("2d"),
                        n = 1.2 * t.height,
                        e.translate(t.height / 2, t.height / 2),
                        a = (t.width - t.height) / 20,
                        i = s = 1; s <= 10; i = s += 1)
                            t.height / 2,
                            l = -180 * THREE.Math.DEG2RAD * .12 * i / 10,
                            e.globalCompositeOperation = "destination-out",
                            e.globalAlpha = 1,
                            e.rotate(l),
                            e.drawImage(this.shipicon, -n / 2, -n / 2, n, n),
                            e.rotate(-l),
                            e.translate(a, 0),
                            e.rotate(l),
                            e.globalCompositeOperation = "source-over",
                            e.globalAlpha = Math.pow(i / 10, 2),
                            e.drawImage(this.shipicon, -n / 2, -n / 2, n, n),
                            e.rotate(-l),
                            e.translate(a, 0);
                        return t
                    }
                    ,
                    e.staticRCSImage = function(t) {
                        return new e(t,0).createRCSImage()
                    }
                    ,
                    e
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.RoomLinkButton = function(e) {
                    function i(t) {
                        this.lIIl1 = t,
                        i.O11II.constructor.call(this, this),
                        this.hue = 0,
                        this.force_ratio = 4,
                        this.lIIl1.is_app || (this.IOOOI.init({
                            OOl1l: .5,
                            O0IlI: .5,
                            lOIO1: -2,
                            opacity: 0
                        }),
                        this.IOOOI.push({
                            d: 5,
                            k: .02,
                            f: .3,
                            OOl1l: 2.5,
                            O0IlI: 2.5,
                            lOIO1: -3,
                            opacity: 0
                        }),
                        this.IOOOI.push({
                            d: 2,
                            k: .02,
                            f: .15
                        })),
                        this.copied = !1,
                        this.systemid = null
                    }
                    return extend(i, e),
                    i.prototype.IOO11 = function(e) {
                        var i, s, l;
                        return this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",

                        e.save(),
                        e.translate(this.px, this.IO110),
                        e.clearRect(0, 0, this.IO00I, this.lI1ll),
                        e.textAlign = "center",
                        e.textBaseline = "middle",
                        s = Math.round(this.lI1ll / 4),
                        e.font = s + "pt Play",
                        e.fillStyle = this.background,
                        OpenChatButton.roundRect(e, 2, 2, this.IO00I - 4, this.lI1ll - 4, this.lI1ll / 12),
                        e.fill(),
                        e.lineWidth = 2,
                        e.strokeStyle = this.color,
                        e.fillStyle = this.color,
                        this.copied ? e.fillText(t("Copied!"), this.IO00I / 2, this.lI1ll / 2) : (e.fillText(t("Copy Room Link"), this.IO00I / 2, .22 * this.lI1ll),
                        l = .9 * this.IO00I,
                        i = .4 * this.lI1ll,
                        e.strokeStyle = this.medium,
                        null != this.lIIl1.private_address ? (e.font = Math.round(.6 * s) + "pt Play",
                        e.fillText("starblast.io#" + this.lIIl1.private_address, this.IO00I / 2, .7 * this.lI1ll),
                        l = this.IO00I,
                        e.strokeRect(this.IO00I / 2 - l / 2, .7 * this.lI1ll - i / 2, l, i)) : (e.fillText("starblast.io#" + this.systemid, this.IO00I / 2, .7 * this.lI1ll),
                        e.strokeRect(this.IO00I / 2 - l / 2, .7 * this.lI1ll - i / 2, l, i))),
                        e.restore()
                    }
                    ,
                    i.prototype.IO1ll = function() {
                        return this.lIIl1.I01IO.copyRoomLink(),
                        this.copied = !0,
                        this.IOlO1 = !0,
                        this.IOOOI.push({
                            d: 1,
                            k: .02,
                            f: .3
                        }),
                        this.IOOOI.push({
                            OOl1l: .5,
                            O0IlI: .5,
                            lOIO1: -2,
                            opacity: 0,
                            d: 2,
                            k: .02,
                            f: .3
                        }),
                        setTimeout(function(t) {
                            return function() {
                                return t.parent.remove(t)
                            }
                        }(this), 4e3)
                    }
                    ,
                    i.prototype.I1I0O = function() {
                        if (this.lIIl1.systemid !== this.systemid)
                            return this.systemid = this.lIIl1.systemid,
                            this.IOlO1 = !0
                    }
                    ,
                    i.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    i
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.ModeInfo = function(e) {
                    function i(t) {
                        this.lIIl1 = t,
                        i.O11II.constructor.call(this, this),
                        this.hue = this.lIIl1.hue,
                        this.blending = THREE.AdditiveBlending,
                        this.IOOOI.init({
                            OOl1l: .5,
                            O0IlI: .5,
                            lOIO1: -2,
                            opacity: 0
                        }),
                        this.IOOOI.push({
                            d: 1,
                            k: .02,
                            f: .3,
                            lOIO1: -2,
                            opacity: 0
                        }),
                        this.IOOOI.push({
                            d: 2,
                            k: .02,
                            f: .3
                        }),
                        this.copied = !1,
                        this.systemid = null,
                        this.closed = !1
                    }
                    return extend(i, e),
                    i.prototype.IOO11 = function(e) {
                        var i, s, l, n, a, o, r, h, u, d, I, c, p;
                        for (this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",

                        e.save(),
                        e.translate(this.px, this.IO110),
                        e.clearRect(0, 0, this.IO00I, this.lI1ll),
                        r = Math.round(this.IO00I / 20),
                        e.fillStyle = this.background,
                        e.fillRect(0, 0, this.IO00I, this.lI1ll),
                        e.fillStyle = this.medium,
                        e.fillRect(0, 0, this.IO00I, 3 * r),
                        e.textBaseline = "middle",
                        e.textAlign = "right",
                        e.fillStyle = this.color,
                        e.font = Math.round(1.2 * r) + "pt FontAwesome",
                        e.fillText("ïš", this.IO00I - r, 1.5 * r),
                        e.textAlign = "left",
                        e.font = r + "pt Play",
                        e.fillText(t(this.lIIl1.mode.name), r, 1.5 * r),
                        n = 4,
                        c = this.IO00I - 2 * r,
                        h = e.measureText(" ").width,
                        i = e.measureText("â€¢ ").width,
                        a = this.lIIl1.mode.tips,
                        s = 0,
                        l = a.length; s < l; s++) {
                            for (u = a[s],
                            u = "â€¢ " + u,
                            o = u.split(" "),
                            p = 0; ; ) {
                                if (0 === o.length)
                                    break;
                                I = o.splice(0, 1)[0],
                                d = e.measureText(I).width,
                                p + d > c && p > i && (p = i,
                                n += 1),
                                e.fillText(I, p + r, n * r * 1.4),
                                p += d + h
                            }
                            n += 2
                        }
                        return e.fillRect(.25 * this.IO00I, .85 * this.lI1ll, .5 * this.IO00I, .1 * this.lI1ll),
                        e.fillStyle = "#000",
                        e.textAlign = "center",
                        e.fillText(t("OK"), .5 * this.IO00I, .9 * this.lI1ll),
                        e.restore()
                    }
                    ,
                    i.prototype.close = function() {
                        if (!this.closed)
                            return this.closed = !0,
                            this.IOOOI.push({
                                d: .25,
                                k: .02,
                                f: .3
                            }),
                            this.IOOOI.push({
                                OOl1l: .5,
                                O0IlI: .5,
                                lOIO1: -2,
                                opacity: 0,
                                d: 2,
                                k: .02,
                                f: .3
                            }),
                            setTimeout(function(t) {
                                return function() {
                                    return t.parent.remove(t)
                                }
                            }(this), 4e3)
                    }
                    ,
                    i.prototype.IO1ll = function() {
                        return this.close(),
                        localStorage.setItem("dissmissed_info_" + this.lIIl1.mode.id, "yes")
                    }
                    ,
                    i.prototype.I1I0O = function() {}
                    ,
                    i.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    i
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.ChatPanel = function(e) {
                    function i(e) {
                        var s, l, n, a, o, r, h, u, d, I, c;
                        if (this.lIIl1 = e,
                        i.O11II.constructor.call(this),
                        this.buttons = [],
                        this.open_button = new OpenChatButton(this.lIIl1,t("TALK"),"ï‚†","C",function(t) {
                            return function() {
                                return t.toggleChat()
                            }
                        }(this)),
                        this.add(this.open_button, [0, .8, .2, .2]),
                        this.lIIl1.vocabulary = {},
                        null != this.lIIl1.mode) {
                            for (h = this.lIIl1.mode.vocabulary,
                            n = 0,
                            o = h.length; n < o; n++)
                                l = h[n],
                                this.buttons.push(new ChatButton(this.lIIl1,t(l.text),l.icon,l.key,function(t) {
                                    return function(e) {
                                        return t.typed(e)
                                    }
                                }(this))),
                                this.lIIl1.vocabulary[l.key] = {
                                    icon: l.icon,
                                    text: t(l.text)
                                };
                            0 === this.lIIl1.mode.vocabulary.length && (this.open_button.visible = !1,
                            this.open_button.enabled = !1)
                        }
                        for (d = 1,
                        u = this.buttons,
                        l = a = 0,
                        r = u.length; a < r; l = ++a)
                            s = u[l],
                            I = l % 4,
                            c = Math.floor(l / 4),
                            this.add(s, [(I + 1) * d / 5 + .01, .25 * c + .01, d / 5 - .02, .23]);
                        this.shown = !1,
                        this.close_time = 0,
                        this.phrase = ""
                    }
                    return extend(i, e),
                    i.prototype.gamepadChat = function(t, e) {
                        var i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f;
                        if (t) {
                            if (this.close_time = Date.now() + 6e3,
                            !this.shown) {
                                for (this.O11l1 = this.Ill11 = [.25, .1, .5, .8],
                                n = .2,
                                this.lIIl1.is_mobile_app && (this.O11l1 = this.Ill11 = [.25, .05, .5, .9],
                                n = .125),
                                O = this.buttons,
                                r = h = 0,
                                I = O.length; h < I; r = ++h)
                                    s = O[r],
                                    i = 180 * THREE.Math.DEG2RAD * 2 * r / this.buttons.length,
                                    s.Ill11 = s.O11l1 = [.5 + .4 * Math.cos(i) - n / 2, .5 - .4 * Math.sin(i) - n / 2, n, n],
                                    s.IOOOI.init({
                                        OOl1l: .1,
                                        O0IlI: .1,
                                        opacity: 0
                                    }),
                                    this.lIIl1.is_mobile_app ? s.IOOOI.set({
                                        OOl1l: 1,
                                        O0IlI: 1
                                    }) : s.IOOOI.set({
                                        OOl1l: .5,
                                        O0IlI: .5
                                    });
                                this.lO00I()
                            }
                            for (l = null,
                            o = 360,
                            m = this.buttons,
                            r = u = 0,
                            c = m.length; u < c; r = ++u)
                                s = m[r],
                                i = 360 * r / this.buttons.length,
                                a = e - i,
                                a < -180 && (a += 360),
                                a > 180 && (a -= 360),
                                (a = Math.abs(a)) < o && (l = s,
                                o = a);
                            for (f = this.buttons,
                            r = d = 0,
                            p = f.length; d < p; r = ++d)
                                s = f[r],
                                s !== l || this.lIIl1.is_mobile_app ? this.lIIl1.is_mobile_app ? (s.setSelected(!1),
                                s.IOOOI.set({
                                    OOl1l: 1,
                                    O0IlI: 1
                                })) : (s.setSelected(!1),
                                s.IOOOI.set({
                                    OOl1l: .5,
                                    O0IlI: .5
                                })) : (s.IOOOI.set(),
                                s.setSelected(!0),
                                this.gamepad_selected = s)
                        } else
                            this.shown && this.hide()
                    }
                    ,
                    i.prototype.gamepadChatClick = function() {
                        if (null != this.gamepad_selected)
                            return this.gamepad_selected.IO1ll()
                    }
                    ,
                    i.prototype.updateHue = function(t) {
                        var e, i, s, l;
                        for (l = this.buttons,
                        i = 0,
                        s = l.length; i < s; i++)
                            e = l[i],
                            e.setHue(t);
                        return this.open_button.setHue(t)
                    }
                    ,
                    i.prototype.toggleChat = function() {
                        return this.shown ? this.hide() : (this.lO00I(),
                        this.close_time = Date.now() + 6e3)
                    }
                    ,
                    i.prototype.typed = function(t) {
                        if (this.shown || this.lO00I(),
                        this.close_time = Date.now() + 6e3,
                        this.phrase += t,
                        this.lIIl1.llI1O.say(this.phrase),
                        this.phrase.length >= 4 && this.hide(),
                        Math.random() < .01)
                            return this.lIIl1.sendGAEvent("chat_evt", t)
                    }
                    ,
                    i.prototype.lO00I = function() {
                        var t, e, i, s, l;
                        if (!this.shown) {
                            for (this.shown = !0,
                            this.phrase = "",
                            this.open_button.hide(),
                            l = this.buttons,
                            e = i = 0,
                            s = l.length; i < s; e = ++i)
                                t = l[e],
                                t.lO00I();
                            if (null != this.lIIl1.display.screen.l1llI.mode_info)
                                return this.lIIl1.display.screen.l1llI.mode_info.close()
                        }
                    }
                    ,
                    i.prototype.hide = function() {
                        var t, e, i, s;
                        if (this.shown)
                            for (this.phrase = "",
                            this.shown = !1,
                            this.lIIl1.using_gamepad || this.lIIl1.is_mobile_app || this.open_button.lO00I(),
                            s = this.buttons,
                            e = 0,
                            i = s.length; e < i; e++)
                                t = s[e],
                                t.hide()
                    }
                    ,
                    i.prototype.I1I0O = function() {
                        if (i.O11II.I1I0O.call(this),
                        this.shown && Date.now() > this.close_time && this.hide(),
                        this.lIIl1.using_gamepad || this.lIIl1.is_mobile_app)
                            return this.open_button.visible = !1
                    }
                    ,
                    i
                }(l001O),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.ChatButton = function(t) {
                    function e(t, i, s, l, n) {
                        var a, o, r;
                        for (this.lIIl1 = t,
                        this.name = i,
                        this.icon = s,
                        this.key = l,
                        this.O0O11 = n,
                        e.O11II.constructor.call(this, this),
                        this.blending = THREE.AdditiveBlending,
                        this.hue = 180,
                        this.force_ratio = .9,
                        this.IOOOI.init({
                            lOIO1: -6
                        }),
                        a = o = 0,
                        r = this.key.length - 1; o <= r; a = o += 1)
                            this.lIIl1.addKeyListener(this.key.charCodeAt(a), this);
                        this.shown = !1,
                        this.selected = !1
                    }
                    return extend(e, t),
                    e.prototype.setSelected = function(t) {
                        if (t !== this.selected)
                            return this.selected = t,
                            this.IOlO1 = !0
                    }
                    ,
                    e.prototype.IOO11 = function(t) {
                        var i, s;
                        this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",

                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.background,
                        e.bubble(t, .02 * this.lI1ll, .02 * this.lI1ll, this.IO00I - .04 * this.lI1ll, .96 * this.lI1ll, .1 * this.lI1ll),
                        t.fill(),
                        this.selected && (t.strokeStyle = this.color,
                        t.lineWidth = .04 * this.lI1ll,
                        t.stroke()),
                        i = Math.round(this.lI1ll / 8),
                        t.font = i + "pt Play",
                        t.textBaseline = "middle",
                        t.textAlign = "center",
                        t.fillStyle = this.color,
                        t.fillText(this.name, this.IO00I / 2, .12 * this.lI1ll),
                        i = Math.round(this.lI1ll / 3),
                        t.font = i + "pt SBGlyphs",
                        "GG" === this.icon && (t.font = i + "pt Play"),
                        t.textBaseline = "middle",
                        t.textAlign = "center",
                        t.fillStyle = this.color,
                        t.fillText(this.icon, this.IO00I / 2, .45 * this.lI1ll),
                        this.lIIl1.is_mobile || this.lIIl1.is_mobile_app || this.using_gamepad || (i = Math.round(this.lI1ll / 8),
                        t.font = i + "pt Play",
                        t.fillText(this.key, .8 * this.IO00I, .7 * this.lI1ll),
                        t.strokeStyle = this.color,
                        s = Math.max(2, this.key.length) * this.IO00I / 8,
                        t.strokeRect(.8 * this.IO00I - s / 2, .7 * this.lI1ll - .1 * this.lI1ll, s, .2 * this.lI1ll)),
                        t.restore()
                    }
                    ,
                    e.bubble = function(t, e, i, s, l, n) {
                        return s < 2 * n && (n = s / 2),
                        l < 2 * n && (n = l / 2),
                        t.beginPath(),
                        t.moveTo(e + n, i),
                        t.arcTo(e + s, i, e + s, i + l - n, n),
                        t.arcTo(e + s, i + l - n, e, i + l - n, n),
                        t.lineTo(e + s / 2 + n, i + l - n),
                        t.lineTo(e + s / 2, i + l),
                        t.lineTo(e + s / 2, i + l - n),
                        t.arcTo(e, i + l - n, e, i, n),
                        t.arcTo(e, i, e + s, i, n),
                        t.closePath()
                    }
                    ,
                    e.prototype.lO00I = function() {
                        if (this.shown = !0,
                        this.visible = !0,
                        !this.using_gamepad && !this.lIIl1.is_mobile_app)
                            return this.IOOOI.set({
                                lOIO1: 0,
                                d: 1,
                                k: .02,
                                f: .2
                            })
                    }
                    ,
                    e.prototype.hide = function() {
                        return this.shown = !1,
                        this.using_gamepad || this.lIIl1.is_mobile_app ? this.IOOOI.set({
                            OOl1l: .1,
                            O0IlI: .1,
                            opacity: 0
                        }) : this.IOOOI.push({
                            lOIO1: -6,
                            d: 1,
                            k: .02,
                            f: .2
                        }),
                        setTimeout(function(t) {
                            return function() {
                                if (!t.shown)
                                    return t.visible = !1
                            }
                        }(this), 1e3)
                    }
                    ,
                    e.prototype.IO1ll = function() {
                        if (null != this.O0O11 && this.O0O11(this.key),
                        this.lIIl1.is_mobile_app)
                            return this.IOOOI.set({
                                OOl1l: 1,
                                O0IlI: 1
                            })
                    }
                    ,
                    e.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e.prototype.OOl1O = function(t, i) {
                        return null == t ? e.O11II.OOl1O.call(this, t, i) : this.lIIl1.settings.check("buttons_disabled") ? void 0 : e.O11II.OOl1O.call(this, t, i)
                    }
                    ,
                    e.prototype.keyPressed = function() {
                        if (null != this.lIIl1.mode && 0 === this.lIIl1.mode.options.strafe || this.lIIl1.display.screen.l1llI.chatpanel.shown)
                            return this.OOl1O()
                    }
                    ,
                    e.prototype.keyReleased = function() {
                        if (null != this.lIIl1.mode && 0 === this.lIIl1.mode.options.strafe || this.lIIl1.display.screen.l1llI.chatpanel.shown)
                            return this.IOlOI()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        if (this.using_gamepad !== this.lIIl1.using_gamepad)
                            return this.using_gamepad = this.lIIl1.using_gamepad,
                            this.IOlO1 = !0
                    }
                    ,
                    e
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.OpenChatButton = function(t) {
                    function e(t, i, s, l, n) {
                        var a, o, r;
                        for (this.lIIl1 = t,
                        this.name = i,
                        this.icon = s,
                        this.key = l,
                        this.O0O11 = n,
                        e.O11II.constructor.call(this, this),
                        this.blending = THREE.AdditiveBlending,
                        this.hue = 180,
                        this.force_ratio = 1,
                        this.IOOOI.init({
                            lOIO1: -1
                        }),
                        a = o = 0,
                        r = this.key.length - 1; o <= r; a = o += 1)
                            this.lIIl1.addKeyListener(this.key.charCodeAt(a), this);
                        this.lIIl1.addKeyListener(13, this),
                        this.lO00I()
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var i, s, l;
                        this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",

                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.background,
                        i = .1 * this.lI1ll,
                        e.roundRect(t, -i, 0, this.IO00I + i, this.lI1ll, i),
                        t.fill(),
                        s = Math.round(this.lI1ll / 8),
                        t.font = s + "pt Play",
                        t.textBaseline = "middle",
                        t.textAlign = "center",
                        t.fillStyle = this.color,
                        t.fillText(this.name, this.IO00I / 2, .12 * this.lI1ll),
                        s = Math.round(this.lI1ll / 3),
                        t.font = s + "pt FontAwesome",
                        t.textBaseline = "middle",
                        t.textAlign = "center",
                        t.fillStyle = this.color,
                        t.fillText(this.icon, this.IO00I / 2, .45 * this.lI1ll),
                        this.lIIl1.is_mobile || (s = Math.round(this.lI1ll / 8),
                        t.font = s + "pt Play",
                        t.fillText(this.key, .5 * this.IO00I, .8 * this.lI1ll),
                        t.strokeStyle = this.color,
                        l = Math.max(2, this.key.length) * this.IO00I / 8,
                        t.strokeRect(.5 * this.IO00I - l / 2, .8 * this.lI1ll - .1 * this.lI1ll, l, .2 * this.lI1ll)),
                        t.restore()
                    }
                    ,
                    e.roundRect = function(t, e, i, s, l, n) {
                        return s < 2 * n && (n = s / 2),
                        l < 2 * n && (n = l / 2),
                        t.beginPath(),
                        t.moveTo(e + n, i),
                        t.arcTo(e + s, i, e + s, i + l, n),
                        t.arcTo(e + s, i + l, e, i + l, n),
                        t.arcTo(e, i + l, e, i, n),
                        t.arcTo(e, i, e + s, i, n),
                        t.closePath()
                    }
                    ,
                    e.prototype.lO00I = function() {
                        return this.IOOOI.set({
                            lOIO1: 0,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    e.prototype.hide = function() {
                        return this.IOOOI.set({
                            lOIO1: -1,
                            d: 1,
                            k: .02,
                            f: .2
                        })
                    }
                    ,
                    e.prototype.IO1ll = function() {
                        if (null != this.O0O11)
                            return this.O0O11()
                    }
                    ,
                    e.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e.prototype.OOl1O = function(t, i) {
                        return null == t ? e.O11II.OOl1O.call(this, t, i) : this.lIIl1.settings.check("buttons_disabled") ? void 0 : e.O11II.OOl1O.call(this, t, i)
                    }
                    ,
                    e.prototype.keyPressed = function() {
                        return this.enabled = !0,
                        this.OOl1O()
                    }
                    ,
                    e.prototype.keyReleased = function() {
                        return this.IOlOI(),
                        this.enabled = !1
                    }
                    ,
                    e
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.WeaponsBar = function(t) {
                    function e(t) {
                        this.lIIl1 = t,
                        e.O11II.constructor.call(this),
                        this.selected = 0,
                        this.hue = 0,
                        this.blending = THREE.AdditiveBlending,
                        this.using_gamepad = !1,
                        this.store_allowed = !1,
                        this.ship_level = 1,
                        this.setEnabled(!1),
                        this.cooling = [!1, !1, !1, !1, !1, !1]
                    }
                    return extend(e, t),
                    e.prototype.setEnabled = function(t) {
                        if (t !== this.enabled)
                            return this.enabled = t,
                            this.enabled ? this.IOOOI.set({
                                lOIO1: 0
                            }) : this.IOOOI.set({
                                lOIO1: -1.1
                            })
                    }
                    ,
                    e.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.repaint()
                    }
                    ,
                    e.prototype.getNumSlots = function() {
                        return Math.min(6, this.lIIl1.II1OO.ll00I.type.level)
                    }
                    ,
                    e.prototype.IOO11 = function(t) {
                        var e, i, s, l, n, a, o, r, h, u, d, I, c, p, O;
                        if (this.lIIl1.weapons) {
                            for (this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",

                            r = Math.min(6, this.ship_level),
                            n = this.lI1ll / 8,
                            i = n / 4,
                            O = .7 * this.IO00I,
                            t.save(),
                            t.translate(this.px, this.IO110),
                            t.clearRect(0, 0, this.IO00I, this.lI1ll),
                            t.fillStyle = this.medium,
                            t.beginPath(),
                            t.moveTo(0, 0),
                            t.lineTo(O - i, 0),
                            t.lineTo(O, i),
                            t.lineTo(O, n * (r + 2) - i),
                            t.lineTo(O - i, n * (r + 2)),
                            t.lineTo(0, n * (r + 2)),
                            t.closePath(),
                            t.fill(),
                            this.signature = this.lIIl1.weapons.signature,
                            n = this.lI1ll / 8,
                            o = .03 * this.IO00I,
                            s = l = 0,
                            h = r - 1; l <= h; s = l += 1)
                                p = this.lIIl1.weapons.weapons[s],
                                null != p ? (t.fillStyle = "rgba(0,0,0,.5)",
                                t.fillRect(o, (s + 1) * n, O - 2 * o, n - o),
                                d = Math.min(O - 2 * o, n - 2 * o),
                                e = p.type.glyph,
                                t.fillStyle = "#FFF",
                                t.font = Math.round(.7 * d) + "pt SBGlyphs",
                                t.textAlign = "center",
                                t.textBaseline = "middle",
                                p.next_shot <= this.lIIl1.II1OO.O0O0O.lIOOO ? (t.globalAlpha = .8,
                                t.fillText(e, O / 2, (s + 1.5) * n),
                                t.globalAlpha = 1,
                                this.cooling[s] = !1) : (t.globalAlpha = .3,
                                t.fillText(e, O / 2, (s + 1.5) * n),
                                t.globalAlpha = 1,
                                this.cooling[s] = !0),
                                p.type.O1I0O ? (d = Math.floor(d / 5),
                                t.fillStyle = this.color,
                                t.textAlign = "center",
                                t.textBaseline = "middle",
                                t.font = d + "pt Play",
                                t.fillText(p.ammo, .85 * O, (s + 1.8) * n)) : (t.fillStyle = this.color,
                                u = p.ammo / 255,
                                t.fillRect(o, (s + 1.9) * n, (O - 2 * o) * u, .1 * n - o))) : (t.fillStyle = "rgba(0,0,0,.2)",
                                t.fillRect(o, (s + 1) * n, O - 2 * o, n - o));
                            this.store_allowed && (a = 2 * o,
                            c = Math.sqrt(a),
                            t.fillStyle = this.color,
                            t.beginPath(),
                            t.moveTo(a, n * (r + 1) + o),
                            t.lineTo(O - a, n * (r + 1) + o),
                            t.lineTo(O - a, n * (r + 1.75) - c),
                            t.lineTo(O - c - i, n * (r + 2) - a),
                            t.lineTo(a, n * (r + 2) - a),
                            t.closePath(),
                            t.fill(),
                            d = Math.floor(.12 * this.IO00I),
                            t.font = d + "pt Play",
                            t.textAlign = "center",
                            t.textBaseline = "middle",
                            t.fillStyle = "rgba(0,0,0,.8)",
                            t.font = d + "pt FontAwesome",
                            t.fillText("ï§", .2 * O, n * (r + 1.5)),
                            this.using_gamepad ? Gamepad.drawButton("X", t, .5 * O, n * (r + 1.5), .12 * this.IO00I, this.hue) : (I = .1 * this.IO00I,
                            d = Math.floor(.12 * this.IO00I),
                            t.font = d + "pt Play",
                            t.textAlign = "center",
                            t.textBaseline = "middle",
                            t.fillStyle = "#000",
                            t.fillText("W", .5 * O, n * (r + 1.5)),
                            t.strokeStyle = "#000",
                            t.strokeRect(.5 * O - I, n * (r + 1.5) - I, 2 * I, 2 * I))),
                            this.countSelectableWeapons() >= 1 && (I = .1 * this.IO00I,
                            d = Math.floor(.12 * this.IO00I),
                            this.lIIl1.using_gamepad ? Gamepad.drawButton("B", t, .5 * O, .5 * n, d, this.hue, !0) : (t.font = d + "pt Play",
                            t.textAlign = "center",
                            t.textBaseline = "middle",
                            t.fillStyle = this.color,
                            t.fillRect(.5 * O - 1.25 * I, .5 * n - I, 2 * I * 1.25, 2 * I),
                            t.fillStyle = "rgba(0,0,0,.8)",
                            t.fillText("Alt", .5 * O, .5 * n)),
                            t.fillStyle = this.color,
                            t.font = d + "pt FontAwesome",
                            t.fillText("ïƒ§", .2 * O, .5 * n),
                            this.selected >= 0 && (t.fillStyle = this.color,
                            t.beginPath(),
                            t.moveTo(.65 * this.IO00I, n * (this.selected + 1)),
                            t.lineTo(.9 * this.IO00I, n * (this.selected + 1)),
                            t.lineTo(this.IO00I, n * (this.selected + 1) + I),
                            t.lineTo(this.IO00I, n * (this.selected + 2) - I),
                            t.lineTo(.9 * this.IO00I, n * (this.selected + 2)),
                            t.lineTo(.65 * this.IO00I, n * (this.selected + 2)),
                            t.lineTo(.7 * this.IO00I, n * (this.selected + 2) - I),
                            t.lineTo(.7 * this.IO00I, n * (this.selected + 1.5) + I),
                            t.lineTo(.6 * this.IO00I, n * (this.selected + 1.5)),
                            t.lineTo(.7 * this.IO00I, n * (this.selected + 1.5) - I),
                            t.lineTo(.7 * this.IO00I, n * (this.selected + 1) + I),
                            t.closePath(),
                            t.fill()),
                            this.countSelectableWeapons() > 1 && (this.using_gamepad ? Gamepad.drawButton("Y", t, .85 * this.IO00I, n * (this.selected + 1.5), .12 * this.IO00I, this.hue) : (d = Math.floor(.12 * this.IO00I),
                            t.font = d + "pt Play",
                            t.textAlign = "center",
                            t.textBaseline = "middle",
                            t.fillStyle = "#000",
                            t.fillText("â‡§", .85 * this.IO00I, n * (this.selected + 1.5) + .1 * I),
                            t.strokeStyle = "#000",
                            t.strokeRect(.75 * this.IO00I, n * (this.selected + 1.5) - I, 2 * I, 2 * I)),
                            t.textAlign = "center",
                            t.textBaseline = "middle",
                            t.fillStyle = "#000",
                            t.font = d + "pt FontAwesome",
                            t.fillText("ïƒ˜", .85 * this.IO00I, n * (this.selected + 1.2)),
                            t.fillText("ïƒ—", .85 * this.IO00I, n * (this.selected + 1.8)))),
                            t.restore()
                        }
                    }
                    ,
                    e.prototype.countSelectableWeapons = function() {
                        var t, e, i, s, l;
                        for (s = 0,
                        i = this.lIIl1.weapons.weapons,
                        t = 0,
                        e = i.length; t < e; t++)
                            l = i[t],
                            l.type.O1I0O && s++;
                        return s
                    }
                    ,
                    e.prototype.toggleStore = function() {
                        return this.store_allowed ? this.lIIl1.display.screen.l1llI.toggleWeaponStore() : null != this.lIIl1.display.screen.l1llI.weapon_store && this.lIIl1.display.screen.l1llI.weapon_store.shown ? this.lIIl1.display.screen.l1llI.hideWeaponStore() : void 0
                    }
                    ,
                    e.prototype.OOl1O = function(t, e) {
                        if (!this.lIIl1.settings.check("buttons_disabled"))
                            if (-1 === (e = Math.floor((e - this.IO110) / (this.lI1ll / 8)) - 1))
                                this.O1I0O();
                            else if (e === this.getNumSlots())
                                this.toggleStore();
                            else if (e >= 0 && e < this.lIIl1.weapons.weapons.length && this.lIIl1.weapons.weapons[e].type.O1I0O && e !== this.selected)
                                return this.selected = e,
                                this.repaint(),
                                !0;
                        return !0
                    }
                    ,
                    e.prototype.IlI10 = function(t, e) {}
                    ,
                    e.prototype.repaint = function() {
                        return this.IOlO1 = !0
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        var t, i, s, l, n, a, o, r, h, u, d, I;
                        for (e.O11II.I1I0O.call(this),
                        this.signature !== this.lIIl1.weapons.signature && (this.signature = this.lIIl1.weapons.signature,
                        this.repaint(),
                        this.fixSelection()),
                        this.ship_level !== this.lIIl1.II1OO.ll00I.type.level && (this.ship_level = this.lIIl1.II1OO.ll00I.type.level,
                        this.repaint()),
                        this.lIIl1.using_gamepad !== this.using_gamepad && (this.using_gamepad = this.lIIl1.using_gamepad,
                        this.repaint()),
                        h = this.lIIl1.weapons.weapons,
                        s = l = 0,
                        a = h.length; l < a; s = ++l)
                            I = h[s],
                            this.cooling[s] && I.next_shot <= this.lIIl1.II1OO.O0O0O.lIOOO && (this.cooling[s] = !1,
                            this.repaint(),
                            this.lIIl1.I0OI0.beep(2, .25));
                        for (d = !this.lIIl1.mode.restricted_weapons_store,
                        d !== this.store_allowed && (this.store_allowed = d,
                        this.repaint()),
                        r = 1e7,
                        u = WEAPON_TYPES.types,
                        n = 0,
                        o = u.length; n < o; n++)
                            I = u[n],
                            r = Math.min(I.price, r);
                        t = d,
                        i = t || this.lIIl1.weapons.weapons.length > 0,
                        this.setEnabled(i)
                    }
                    ,
                    e.prototype.shiftSelection = function() {
                        var t, e;
                        for (t = 0,
                        e = this.lIIl1.weapons.weapons.length - 1; t <= e; t += 1)
                            if (this.selected = (this.selected + 1) % this.lIIl1.weapons.weapons.length,
                            this.lIIl1.weapons.weapons[this.selected].type.O1I0O)
                                return void this.repaint();
                        -1 !== this.selected && (this.selected = -1,
                        this.repaint())
                    }
                    ,
                    e.prototype.selectUp = function() {
                        var t, e;
                        for (t = 0,
                        e = this.lIIl1.weapons.weapons.length - 1; t <= e; t += 1)
                            if (this.selected = (this.selected - 1 + this.lIIl1.weapons.weapons.length) % this.lIIl1.weapons.weapons.length,
                            this.lIIl1.weapons.weapons[this.selected].type.O1I0O)
                                return void this.repaint();
                        -1 !== this.selected && (this.selected = -1,
                        this.repaint())
                    }
                    ,
                    e.prototype.selectDown = function() {
                        return this.shiftSelection()
                    }
                    ,
                    e.prototype.fixSelection = function() {
                        return this.selected < 0 ? this.shiftSelection() : this.selected >= this.lIIl1.weapons.weapons.length ? (this.selected = -1,
                        this.shiftSelection()) : this.lIIl1.weapons.weapons[this.selected].type.O1I0O ? void 0 : this.shiftSelection()
                    }
                    ,
                    e.prototype.O1I0O = function() {
                        this.selected >= 0 && this.selected < this.lIIl1.weapons.weapons.length && !this.lIIl1.II1OO.ll00I.status.guided && this.lIIl1.weapons.weapons[this.selected].type.O1I0O && this.lIIl1.llI1O.OO0ll(this.selected, this.lIIl1.weapons.weapons[this.selected].code)
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.WeaponStore = function(t) {
                    function e(t) {
                        var i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g;
                        for (this.lIIl1 = t,
                        e.O11II.constructor.call(this),
                        this.levelmod = 10,
                        this.hue = this.lIIl1.display.screen.l1llI.hue,
                        this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",
                        c = .01,
                        I = 16 * c / 9,
                        this.title = new WeaponStoreTitle(this),
                        this.add(this.title, [0, 0, 1, .075]),
                        this.exit_button = new WeaponStoreExitButton(this),
                        this.add(this.exit_button, [.8, .9, .2, .1]),
                        this.ship_view = new WeaponStoreShipView(this),
                        this.add(this.ship_view, [c, .075 + I + .15 + I, .3 - 2 * c, .5 - (.075 + I + .15 + I)]),
                        this.transfer_button = new TransferButton(this),
                        this.add(this.transfer_button, [c, .075 + I, .3 - 2 * c, .15]),
                        m = .5,
                        O = .08,
                        this.lIIl1.mode.options.healing_enabled && (this.healing_button = new HealingButton(this),
                        this.add(this.healing_button, [c, .5, .3 - 2 * c, .1]),
                        m = .6,
                        O = .06),
                        s = l = 0; l <= 5; s = l += 1)
                            this.add(new RemoveWeaponButton(this,s), [c, m + I + s * O, .3 - 2 * c, O - I / 2]);
                        for (f = 0,
                        g = 0,
                        this.buy_buttons = [],
                        u = WEAPON_TYPES.types,
                        n = 0,
                        o = u.length; n < o; n++)
                            p = u[n],
                            null != p.price && p.price > 0 && this.buy_buttons.push(new BuyWeaponButton(this,p));
                        for (this.buy_buttons.sort(function(t, e) {
                            return t.weapon.price - e.weapon.price
                        }),
                        d = this.buy_buttons,
                        a = 0,
                        r = d.length; a < r; a++)
                            i = d[a],
                            .01,
                            h = I,
                            this.add(i, [.3 + c + f / 4 * (.7 - c), .075 + I + g / 3 * .7, .175 - c, .7 / 3 - h]),
                            (f += 1) >= 4 && (f = 0,
                            g += 1);
                        this.background_component = new WeaponStoreBackground(this),
                        this.background_component.levelmod = 1,
                        this.add(this.background_component, [0, 0, 1, 1]),
                        this.lIIl1.mode.restricted_weapons_store && (this.countdown = new StoreCountDown(this),
                        this.add(this.countdown, [.7, .9, .1, .1])),
                        this.shown = !1,
                        this.visible = !1,
                        this.block_ship_control = !0
                    }
                    return extend(e, t),
                    e.prototype.lO00I = function() {
                        var t, e, i, s;
                        if (!this.shown)
                            for (this.shown = !0,
                            this.lIIl1.II1OO.control.setNavigationListener(this),
                            this.visible = !0,
                            this.transfer_button.transferring = !1,
                            null != this.countdown && this.countdown.lI01O(),
                            this.IOOOI.init({
                                OOl1l: .5,
                                O0IlI: .5,
                                lOIO1: .5,
                                l0OIO: .5
                            }),
                            this.IOOOI.set({
                                OOl1l: 1
                            }),
                            s = this.children,
                            e = 0,
                            i = s.length; e < i; e++)
                                t = s[e],
                                t.enabled = !0,
                                t.IOOOI.init({
                                    opacity: 0,
                                    OOl1l: .5,
                                    O0IlI: .5
                                }),
                                t.IOOOI.set({
                                    opacity: 1
                                })
                    }
                    ,
                    e.prototype.hide = function() {
                        var t, e, i, s;
                        if (this.shown) {
                            for (this.shown = !1,
                            this.lIIl1.is_mobile_app && null != this.lIIl1.display.screen.l1llI.cursor && (this.lIIl1.display.screen.l1llI.cursor.visible = !0),
                            this.lIIl1.II1OO.control.setNavigationListener(null),
                            this.lIIl1.mode.undock(),
                            this.IOOOI.set({
                                OOl1l: .5,
                                O0IlI: .5,
                                lOIO1: .5,
                                l0OIO: .5
                            }),
                            s = this.children,
                            e = 0,
                            i = s.length; e < i; e++)
                                t = s[e],
                                t.enabled = !1,
                                t.IOOOI.set({
                                    opacity: 0,
                                    OOl1l: .5,
                                    O0IlI: .5
                                });
                            if (setTimeout(function(t) {
                                return function() {
                                    if (!t.shown)
                                        return t.visible = !1
                                }
                            }(this), 1e3),
                            this.transfer_button.transferring)
                                return this.transfer_button.transferring = !1,
                                this.setTransferring(!1)
                        }
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        return e.O11II.I1I0O.call(this)
                    }
                    ,
                    e.prototype.toggle = function() {
                        return this.shown ? this.hide() : this.lO00I()
                    }
                    ,
                    e.prototype.I1l00 = function(t) {
                        this.lIIl1.llI1O.I1l00(t.code)
                    }
                    ,
                    e.prototype.removeWeapon = function(t) {
                        if (null != this.lIIl1.weapons.weapons[t])
                            return this.lIIl1.llI1O.removeWeapon(t)
                    }
                    ,
                    e.prototype.setTransferring = function(t) {
                        return t ? this.lIIl1.II1OO.ll00I.status.OO0O0 > 0 ? this.lIIl1.llI1O.startTransfer() : void 0 : this.lIIl1.llI1O.endTransfer()
                    }
                    ,
                    e.prototype.gamepadNavigation = function(t) {
                        switch (t) {
                        case "cancel":
                        case "interrupted":
                        case "menu":
                            return this.hide(),
                            !0
                        }
                        return !1
                    }
                    ,
                    e
                }(l001O),
                WeaponStorePlaceholder = function(t) {
                    function e(t) {
                        this.store = t,
                        e.O11II.constructor.call(this)
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        return t.save(),
                        t.translate(this.px, this.IO110),
                        t.fillStyle = "rgba(255,255,255,.5)",
                        t.fillRect(0, 0, this.IO00I, this.lI1ll),
                        t.restore()
                    }
                    ,
                    e
                }(OIOIO),
                WeaponStoreBackground = function(t) {
                    function e(t) {
                        this.store = t,
                        e.O11II.constructor.call(this)
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e, i;
                        return t.save(),
                        t.translate(this.px, this.IO110),
                        e = t.createLinearGradient(0, 0, this.IO00I, this.lI1ll),
                        e.addColorStop(0, this.store.background),
                        e.addColorStop(1, "#000"),
                        t.fillStyle = e,
                        i = .025 * this.lI1ll,
                        t.beginPath(),
                        t.moveTo(i, 0),
                        t.lineTo(this.IO00I, 0),
                        t.lineTo(this.IO00I, this.lI1ll - i),
                        t.lineTo(this.IO00I - i, this.lI1ll),
                        t.lineTo(0, this.lI1ll),
                        t.lineTo(0, i),
                        t.closePath(),
                        t.fill(),
                        e = t.createLinearGradient(0, 0, this.IO00I, this.lI1ll),
                        e.addColorStop(0, this.store.medium),
                        e.addColorStop(1, this.store.background),
                        t.fillStyle = e,
                        t.beginPath(),
                        t.moveTo(.3 * this.IO00I, 0),
                        t.lineTo(this.IO00I, 0),
                        t.lineTo(this.IO00I, this.lI1ll - i),
                        t.lineTo(this.IO00I - i, this.lI1ll),
                        t.lineTo(.3 * this.IO00I, this.lI1ll),
                        t.lineTo(.3 * this.IO00I, i),
                        t.closePath(),
                        t.fill(),
                        t.restore()
                    }
                    ,
                    e
                }(OIOIO),
                WeaponStoreTitle = function(t) {
                    function e(t) {
                        this.store = t,
                        e.O11II.constructor.call(this),
                        this.credits = 0
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e;
                        return t.save(),
                        t.translate(this.px, this.IO110),
                        t.fillStyle = this.store.color,
                        e = this.lI1ll / 4,
                        t.beginPath(),
                        t.moveTo(e, 0),
                        t.lineTo(this.IO00I, 0),
                        t.lineTo(this.IO00I, this.lI1ll),
                        t.lineTo(0, this.lI1ll),
                        t.lineTo(0, e),
                        t.closePath(),
                        t.fill(),
                        t.font = Math.round(this.lI1ll / 3) + "pt Play",
                        t.textAlign = "left",
                        t.textBaseline = "middle",
                        t.fillStyle = "rgba(0,0,0,.8)",
                        t.fillText(this.store.lIIl1.mode.getWeaponStoreName(), 2 * e, this.lI1ll / 2),
                        t.font = Math.round(this.lI1ll / 3) + "pt FontAwesome",
                        t.textAlign = "right",
                        t.fillText("ïŠƒ", this.IO00I - 2 * e, this.lI1ll / 2),
                        t.font = Math.round(this.lI1ll / 3) + "pt Play",
                        t.fillText(this.credits, this.IO00I - 2 * e - 2 * this.lI1ll / 3, this.lI1ll / 2),
                        t.restore()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        if (this.credits !== this.store.lIIl1.weapons.credits)
                            return this.credits = this.store.lIIl1.weapons.credits,
                            this.IOlO1 = !0
                    }
                    ,
                    e
                }(OIOIO),
                WeaponStoreExitButton = function(e) {
                    function i(t) {
                        this.store = t,
                        i.O11II.constructor.call(this, {
                            pressed: function(t) {
                                return function() {
                                    return t.store.hide(),
                                    !1
                                }
                            }(this)
                        })
                    }
                    return extend(i, e),
                    i.prototype.IOO11 = function(e) {
                        var i;
                        return e.save(),
                        e.translate(this.px, this.IO110),
                        e.fillStyle = this.store.color,
                        i = this.lI1ll / 4,
                        e.beginPath(),
                        e.moveTo(i, 0),
                        e.lineTo(this.IO00I, 0),
                        e.lineTo(this.IO00I, this.lI1ll - i),
                        e.lineTo(this.IO00I - i, this.lI1ll),
                        e.lineTo(0, this.lI1ll),
                        e.lineTo(0, i),
                        e.closePath(),
                        e.fill(),
                        e.font = Math.round(this.lI1ll / 4) + "pt Play",
                        e.textAlign = "center",
                        e.textBaseline = "middle",
                        e.fillStyle = "rgba(0,0,0,.8)",
                        e.fillText(t("EXIT"), this.IO00I / 2, this.lI1ll / 2),
                        e.restore()
                    }
                    ,
                    i
                }(l0O1l),
                BuyWeaponButton = function(e) {
                    function i(t, e) {
                        this.store = t,
                        this.weapon = e,
                        i.O11II.constructor.call(this, {
                            pressed: function(t) {
                                return function() {
                                    return t.store.I1l00(t.weapon),
                                    !0
                                }
                            }(this)
                        }),
                        this.can_buy = !1
                    }
                    return extend(i, e),
                    i.prototype.IOO11 = function(e) {
                        var i, s, l;
                        return i = this.can_buy ? 1 : .25,
                        e.save(),
                        e.globalAlpha = i,
                        e.translate(this.px, this.IO110),
                        e.clearRect(0, 0, this.IO00I, this.lI1ll),
                        e.fillStyle = "rgba(0,0,0,.5)",
                        e.fillRect(0, 0, this.IO00I, this.lI1ll),
                        l = .7 * Math.min(this.IO00I, this.lI1ll),
                        e.globalAlpha = .8 * i,
                        s = this.weapon.glyph,
                        e.fillStyle = "#FFF",
                        e.font = Math.round(.7 * l) + "pt SBGlyphs",
                        e.textAlign = "center",
                        e.textBaseline = "middle",
                        e.fillText(s, this.IO00I / 2, this.lI1ll / 2),
                        e.globalAlpha = i,
                        e.fillStyle = this.store.color,
                        e.font = Math.round(this.lI1ll / 10) + "pt Play",
                        e.textAlign = "center",
                        e.textBaseline = "middle",
                        e.fillText(t(this.weapon.name), this.IO00I / 2, .1 * this.lI1ll),
                        this.weapon.O1I0O && e.fillText("x" + this.weapon.ammo, .15 * this.IO00I, .9 * this.lI1ll),
                        e.beginPath(),
                        e.moveTo(.55 * this.IO00I, this.lI1ll),
                        e.lineTo(.6 * this.IO00I, .8 * this.lI1ll),
                        e.lineTo(this.IO00I, .8 * this.lI1ll),
                        e.lineTo(this.IO00I, this.lI1ll),
                        e.closePath(),
                        e.fill(),
                        e.fillStyle = "#000",
                        e.fillText(this.weapon.price, .8 * this.IO00I, .9 * this.lI1ll),
                        e.restore()
                    }
                    ,
                    i.prototype.I1I0O = function() {
                        var t;
                        if (t = this.store.lIIl1.weapons.credits >= this.weapon.price && this.store.lIIl1.weapons.weapons.length < this.store.lIIl1.II1OO.ll00I.type.level,
                        t = t && !this.store.lIIl1.mode.options.disable_weapons_purchase,
                        this.can_buy !== t)
                            return this.can_buy = t,
                            this.IOlO1 = !0,
                            this.enabled = this.can_buy
                    }
                    ,
                    i
                }(l0O1l),
                TransferButton = function(t) {
                    function e(t) {
                        this.store = t,
                        e.O11II.constructor.call(this, {
                            pressed: function(t) {
                                return function() {
                                    if (t.store.shown)
                                        return t.transferring = !t.transferring,
                                        t.store.setTransferring(t.transferring),
                                        !0
                                }
                            }(this)
                        }),
                        this.transferring = !1,
                        this.next_up = 0,
                        this.credits = 0,
                        this.OO0O0 = 0
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e, i;
                        return t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = "rgba(0,0,0,.5)",
                        t.fillRect(0, 0, this.IO00I, this.lI1ll),
                        t.globalAlpha = this.enabled ? 1 : .25,
                        e = Math.round(this.lI1ll / 4),
                        i = Math.round(this.lI1ll / 8),
                        t.fillStyle = "rgba(255,255,255,.9)",
                        t.font = e + "pt FontAwesome",
                        t.textAlign = "center",
                        t.textBaseline = "middle",
                        t.fillText("ïˆ™", .25 * this.IO00I, this.lI1ll / 2),
                        t.fillText("ï¡", .5 * this.IO00I, this.lI1ll / 2),
                        t.fillText("ïŠƒ", .75 * this.IO00I, this.lI1ll / 2),
                        t.font = i + "pt Play",
                        t.fillText(this.OO0O0, .25 * this.IO00I, .8 * this.lI1ll),
                        t.fillText(this.credits, .75 * this.IO00I, .8 * this.lI1ll),
                        t.restore()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        if (e.O11II.I1I0O.call(this),
                        this.credits === this.store.lIIl1.weapons.credits && this.OO0O0 === this.store.lIIl1.II1OO.ll00I.status.OO0O0 || (this.credits = this.store.lIIl1.weapons.credits,
                        this.OO0O0 = this.store.lIIl1.II1OO.ll00I.status.OO0O0,
                        this.IOlO1 = !0),
                        this.enabled = this.OO0O0 > 0,
                        this.transferring && this.OO0O0 <= 0 && (this.transferring = !1),
                        this.enabled && !this.transferring && Date.now() > this.next_up && !this.IOOOI.isRunning())
                            return this.next_up = Date.now() + 500,
                            this.IOOOI.set({
                                OOl1l: 1.025,
                                O0IlI: 1.05,
                                d: .15,
                                k: .1,
                                f: .3
                            }),
                            this.IOOOI.push({
                                lOIO1: 0,
                                d: .35
                            })
                    }
                    ,
                    e
                }(l0O1l),
                StoreCountDown = function(t) {
                    function e(t) {
                        this.store = t,
                        e.O11II.constructor.call(this),
                        this.II0O1 = 60,
                        this.end = Date.now() + 6e4
                    }
                    return extend(e, t),
                    e.prototype.lI01O = function() {
                        return this.end = Date.now() + 6e4
                    }
                    ,
                    e.prototype.IOO11 = function(t) {
                        return t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.store.color,
                        t.font = Math.round(this.lI1ll / 2) + "pt Play",
                        t.textAlign = "center",
                        t.textBaseline = "middle",
                        t.fillText(this.II0O1, this.IO00I / 2, this.lI1ll / 2),
                        t.restore()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        var t;
                        if (e.O11II.I1I0O.call(this),
                        (t = Math.round(Math.max(0, Math.min(60, (this.end - Date.now()) / 1e3)))) !== this.II0O1)
                            return this.II0O1 = t,
                            this.IOlO1 = !0,
                            this.IOOOI.set({
                                OOl1l: 1.05,
                                O0IlI: 1.1,
                                d: .15,
                                k: .1,
                                f: .3
                            }),
                            this.IOOOI.push({
                                lOIO1: 0,
                                d: .85
                            })
                    }
                    ,
                    e
                }(OIOIO),
                WeaponStoreShipView = function(t) {
                    function e(t, i) {
                        this.store = t,
                        this.weapon = i,
                        e.O11II.constructor.call(this),
                        this.type = 101
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e, i, s;
                        return s = new I1000(this.store.lIIl1.mode.lIO0O.ships_by_code[this.type],0),
                        e = s.II00I(256),
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = "rgba(0,0,0,.5)",
                        t.fillRect(0, 0, this.IO00I, this.lI1ll),
                        i = Math.min(this.IO00I, this.lI1ll),
                        t.drawImage(e, this.IO00I / 2 - i / 2, this.lI1ll / 2 - i / 2, i, i),
                        t.restore()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        if (this.type !== this.store.lIIl1.II1OO.ll00I.type.code)
                            return this.type = this.store.lIIl1.II1OO.ll00I.type.code,
                            this.IOlO1 = !0
                    }
                    ,
                    e
                }(OIOIO),
                RemoveWeaponButton = function(t) {
                    function e(t, i) {
                        this.store = t,
                        this.weapon_index = i,
                        e.O11II.constructor.call(this, {
                            pressed: function(t) {
                                return function() {
                                    return t.store.removeWeapon(t.weapon_index),
                                    !0
                                }
                            }(this)
                        }),
                        this.lIIl1 = this.store.lIIl1,
                        this.can_delete = !1,
                        this.weapon_code = 0,
                        this.weapon_ammo = 0
                    }
                    return extend(e, t),
                    e.prototype.IOO11 = function(t) {
                        var e, i, s;
                        return t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        s = this.lIIl1.weapons.weapons[this.weapon_index],
                        this.can_delete && null != s && (t.fillStyle = "rgba(0,0,0,.5)",
                        t.fillRect(0, 0, this.IO00I, this.lI1ll),
                        i = this.lI1ll,
                        t.globalAlpha = .7,
                        e = s.type.glyph,
                        t.font = Math.round(.7 * i) + "pt SBGlyphs",
                        t.fillStyle = "#FFF",
                        t.textAlign = "center",
                        t.textBaseline = "middle",
                        t.fillText(e, this.lI1ll / 2, this.lI1ll / 2),
                        t.globalAlpha = 1,
                        t.fillStyle = this.store.color,
                        t.font = Math.round(this.lI1ll / 2) + "pt FontAwesome",
                        t.textAlign = "center",
                        t.textBaseline = "middle",
                        t.fillText("ï‡¸", this.IO00I - this.lI1ll / 2, this.lI1ll / 2),
                        s.type.O1I0O && (t.font = Math.round(this.lI1ll / 3) + "pt Play",
                        t.textAlign = "left",
                        t.textBaseline = "middle",
                        t.fillText("x" + s.ammo, 2 * this.lI1ll, this.lI1ll / 2))),
                        t.restore()
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        var t, e;
                        if (e = this.lIIl1.weapons.weapons[this.weapon_index],
                        t = null != e,
                        t !== this.can_delete && (this.can_delete = t,
                        this.IOlO1 = !0),
                        null != e && (e.ammo,
                        this.weapon_code !== e.code || this.weapon_ammo !== e.ammo))
                            return this.weapon_code = e.code,
                            this.weapon_ammo = e.ammo,
                            this.IOlO1 = !0
                    }
                    ,
                    e
                }(l0O1l),
                HealingButton = function(e) {
                    function i(t) {
                        this.store = t,
                        i.O11II.constructor.call(this, {
                            pressed: function(t) {
                                return function() {
                                    return t.store.lIIl1.llI1O.toggleHealing(),
                                    !0
                                }
                            }(this)
                        }),
                        this.healing = !1,
                        this.next_up = 0,
                        this.credits = 0,
                        this.OO0O0 = 0
                    }
                    return extend(i, e),
                    i.prototype.IOO11 = function(e) {
                        var i, s;
                        return e.save(),
                        e.translate(this.px, this.IO110),
                        e.clearRect(0, 0, this.IO00I, this.lI1ll),
                        e.fillStyle = "rgba(0,0,0,.25)",
                        e.fillRect(0, 0, this.IO00I, this.lI1ll),
                        i = Math.round(this.lI1ll / 2),
                        s = Math.round(this.lI1ll / 6),
                        e.font = i + "pt FontAwesome",
                        e.textAlign = "center",
                        e.textBaseline = "middle",
                        e.fillStyle = this.healing ? "rgba(255,255,255,1)" : "rgba(255,255,255,.2)",
                        e.fillText("ïƒ¾", this.IO00I - i, .6 * this.lI1ll),
                        e.fillStyle = this.healing ? "rgba(255,255,255,.2)" : "rgba(255,255,255,1)",
                        e.fillText("ïƒ§", i, .6 * this.lI1ll),
                        e.font = s + "pt Play",
                        e.fillStyle = "rgba(255,255,255,.8)",
                        e.fillText(t("Lasers Operation").toUpperCase(), .5 * this.IO00I, .15 * this.lI1ll),
                        e.font = this.healing ? Math.round(1.3 * s) + "pt Play" : Math.round(1.5 * s) + "pt Play",
                        e.fillStyle = this.healing ? "rgba(255,255,255,.2)" : "rgba(255,255,255,1)",
                        e.fillText(t("Offensive").toUpperCase(), .5 * this.IO00I, .5 * this.lI1ll),
                        e.fillStyle = this.healing ? "rgba(255,255,255,1)" : "rgba(255,255,255,.2)",
                        e.font = this.healing ? Math.round(1.5 * s) + "pt Play" : Math.round(1.3 * s) + "pt Play",
                        e.fillText(t("Healing").toUpperCase(), .5 * this.IO00I, .8 * this.lI1ll),
                        e.restore()
                    }
                    ,
                    i.prototype.I1I0O = function() {
                        if (i.O11II.I1I0O.call(this),
                        this.healing !== this.store.lIIl1.II1OO.ll00I.status.healing)
                            return this.healing = this.store.lIIl1.II1OO.ll00I.status.healing,
                            this.IOlO1 = !0
                    }
                    ,
                    i
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.GameMenu = function(e) {
                    function i(t) {
                        this.lIIl1 = t,
                        i.O11II.constructor.call(this),
                        this.background = new GameMenuBackground(this.lIIl1),
                        this.add(this.background, [0, 0, 1, 1]),
                        this.hue = 0,
                        this.visible = !1,
                        this.shown = !1,
                        this.ship_tree = new ShipTree(this.lIIl1),
                        this.add(this.ship_tree, [.025, .65, .95, .34]),
                        this.ship_tree.visible = "deathmatch" !== this.lIIl1.mode.id,
                        this.game_stats = new GameStats(this.lIIl1),
                        this.add(this.game_stats, [0, .4, 1, .1]),
                        this.quit_menu_shown = !1
                    }
                    return extend(i, e),
                    i.prototype.createMainMenu = function() {
                        var e, i, s, l;
                        if (null != this.buttons)
                            for (l = this.buttons,
                            i = 0,
                            s = l.length; i < s; i++)
                                e = l[i],
                                this.remove(e);
                        return this.buttons = [],
                        this.button_index = 0,
                        this.lIIl1.is_mobile_app ? (this.resume = new MobileMenuButton(this.lIIl1,this,t("RESUME"),"Â²","resume"),
                        this.settings = new MobileMenuButton(this.lIIl1,this,t("SETTINGS"),"x","settings"),
                        this.quit = new MobileMenuButton(this.lIIl1,this,t("Quit to Menu").toUpperCase(),"Â³","quit"),
                        this.addButton(this.settings),
                        this.addButton(this.quit)) : this.lIIl1.is_app ? (this.resume = new MenuButton(this.lIIl1,this,t("RESUME"),"resume"),
                        this.roomlink = new MenuButton(this.lIIl1,this,t("Copy Room Link").toUpperCase(),"roomlink"),
                        this.settings = new MenuButton(this.lIIl1,this,t("SETTINGS"),"settings"),
                        this.quit = new MenuButton(this.lIIl1,this,t("QUIT"),"quit"),
                        this.addButton(this.resume),
                        this.addButton(this.roomlink),
                        this.addButton(this.settings),
                        this.addButton(this.quit)) : (this.resume = new MenuButton(this.lIIl1,this,t("RESUME"),"resume"),
                        this.I001I = new MenuButton(this.lIIl1,this,t("FULLSCREEN"),"I001I"),
                        this.roomlink = new MenuButton(this.lIIl1,this,t("Copy Room Link").toUpperCase(),"roomlink"),
                        this.addButton(this.resume),
                        this.addButton(this.I001I),
                        this.addButton(this.roomlink)),
                        this.selected_index = 0,
                        this.updateSelection()
                    }
                    ,
                    i.prototype.createQuitMenu = function() {
                        var e, i, s, l;
                        if (null != this.buttons)
                            for (l = this.buttons,
                            i = 0,
                            s = l.length; i < s; i++)
                                e = l[i],
                                this.remove(e);
                        return this.buttons = [],
                        this.button_index = 0,
                        this.quit_cancel = new MenuButton(this.lIIl1,this,t("Cancel").toUpperCase(),"quit_cancel"),
                        this.quit_to_menu = new MenuButton(this.lIIl1,this,t("Quit to Menu").toUpperCase(),"quit_to_menu"),
                        this.quit_game = new MenuButton(this.lIIl1,this,t("Quit Game").toUpperCase(),"quit_game"),
                        this.addButton(this.quit_cancel),
                        this.addButton(this.quit_to_menu),
                        this.addButton(this.quit_game),
                        this.selected_index = 0,
                        this.updateSelection(),
                        this.quit_menu_shown = !0
                    }
                    ,
                    i.prototype.addButton = function(t) {
                        var e;
                        return t.setHue(this.hue),
                        this.buttons.push(t),
                        e = this.lIIl1.is_mobile_app ? .16 : .06,
                        this.add(t, [.05, .05 + this.button_index++ * e, .9, e - .01]),
                        t.IOOOI.init({
                            opacity: 0,
                            OOl1l: .8,
                            O0IlI: .8
                        }),
                        t.IOlO1 = !0,
                        t.IOOOI.set({
                            d: 1
                        })
                    }
                    ,
                    i.prototype.updateSelection = function() {
                        var t, e, i, s, l;
                        for (l = this.buttons,
                        e = i = 0,
                        s = l.length; i < s; e = ++i)
                            t = l[e],
                            t.O1l10 = e === this.selected_index && (this.lIIl1.using_gamepad || !this.lIIl1.is_mobile_app)
                    }
                    ,
                    i.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.background.setHue(this.hue)
                    }
                    ,
                    i.prototype.lO00I = function() {
                        if (!this.shown && (this.createMainMenu(),
                        this.selected_index = 0,
                        this.updateSelection(),
                        this.shown = !0,
                        this.visible = !0,
                        this.IOOOI.init({
                            lOIO1: 1.1
                        }),
                        this.IOOOI.set({
                            lOIO1: 0
                        }),
                        null != this.lIIl1.II1OO.control.gamepad))
                            return this.lIIl1.II1OO.control.setNavigationListener(this)
                    }
                    ,
                    i.prototype.hide = function() {
                        if (this.shown && (this.shown = !1,
                        this.IOOOI.set({
                            lOIO1: 1.1
                        }),
                        this.IOOOI.Ol10I(function(t) {
                            return function() {
                                if (!t.shown)
                                    return t.visible = !1
                            }
                        }(this)),
                        null != this.lIIl1.II1OO.control.gamepad))
                            return this.lIIl1.II1OO.control.setNavigationListener(null)
                    }
                    ,
                    i.prototype.IO1ll = function(e) {
                        switch (e) {
                        case "quit":
                            return this.lIIl1.is_mobile_app ? (window.onbeforeunload = null,
                            document.location.hash = "",
                            document.location.reload()) : (this.quit_menu_shown = !0,
                            this.createQuitMenu());
                        case "quit_to_menu":
                            return window.onbeforeunload = null,
                            document.location.hash = "",
                            document.location.reload();
                        case "quit_game":
                            if (null != window.parent)
                                return window.parent.postMessage("quit", "*");
                            break;
                        case "quit_cancel":
                            return this.quit_menu_shown = !1,
                            this.createMainMenu();
                        case "roomlink":
                            return this.roomlink.II011(t("Copied!").toUpperCase()),
                            this.lIIl1.I01IO.copyRoomLink(),
                            setTimeout(function(t) {
                                return function() {
                                    var e;
                                    return e = null != t.lIIl1.private_address ? "starblast.io#" + t.lIIl1.private_address : "starblast.io#" + t.lIIl1.systemid,
                                    t.roomlink.II011(e)
                                }
                            }(this), 1e3);
                        case "settings":
                            return this.lIIl1.I01IO.showSettings(),
                            this.settings_shown = !0,
                            this.lIIl1.I01IO.modal_close_callback = function(t) {
                                return function() {
                                    return t.settings_shown = !1
                                }
                            }(this);
                        case "resume":
                            return this.lIIl1.display.screen.l1llI.toggleOptions();
                        case "I001I":
                            return this.lIIl1.I01IO.toggleFullScreen(),
                            this.lIIl1.display.screen.l1llI.toggleOptions()
                        }
                    }
                    ,
                    i.prototype.gamepadNavigation = function(t) {
                        if (this.settings_shown)
                            return this.lIIl1.I01IO.gamepadNavigation(t),
                            !0;
                        if ("menu" === t)
                            return this.lIIl1.display.screen.l1llI.toggleOptions(),
                            !0;
                        if (this.shown)
                            switch (t) {
                            case "up":
                                return this.selected_index = (this.selected_index - 1 + this.buttons.length) % this.buttons.length,
                                this.updateSelection(),
                                !0;
                            case "OIIII":
                                return this.selected_index = (this.selected_index + 1) % this.buttons.length,
                                this.updateSelection(),
                                !0;
                            case "cancel":
                                return this.quit_menu_shown ? (this.createMainMenu(),
                                this.quit_menu_shown = !1) : this.lIIl1.display.screen.l1llI.toggleOptions(),
                                !0;
                            case "ok":
                                return this.selected_index < this.buttons.length && this.buttons[this.selected_index].IO1ll(),
                                !0
                            }
                        return !1
                    }
                    ,
                    i
                }(l001O),
                this.GameMenuBackground = function(e) {
                    function i(t) {
                        this.lIIl1 = t,
                        i.O11II.constructor.call(this),
                        this.hue = 0,
                        this.blending = THREE.AdditiveBlending
                    }
                    return extend(i, e),
                    i.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    i.prototype.IOO11 = function(e) {
                        var i;
                        return this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",
                        e.save(),
                        e.translate(this.px, this.IO110),
                        i = Math.round(20 * this.IO00I / 512),
                        e.font = i + "pt Play",
                        e.textBaseline = "middle",
                        e.textAlign = "left",
                        e.fillStyle = this.color,
                        e.beginPath(),
                        e.moveTo(0, .025 * this.IO00I),
                        e.lineTo(0, .1 * this.IO00I),
                        e.lineTo(this.IO00I, .1 * this.IO00I),
                        this.lIIl1.is_mobile_app ? e.lineTo(this.IO00I, 0) : (e.lineTo(this.IO00I, .09 * this.IO00I),
                        e.lineTo(.75 * this.IO00I, .09 * this.IO00I),
                        e.lineTo(.72 * this.IO00I, 0)),
                        e.lineTo(.025 * this.IO00I, 0),
                        e.closePath(),
                        e.fill(),
                        e.fillStyle = this.medium,
                        e.fillRect(0, .1 * this.IO00I, this.IO00I, .02 * this.IO00I),
                        e.fillStyle = this.background,
                        e.fillRect(0, .12 * this.IO00I, this.IO00I, this.lI1ll - .12 * this.IO00I),
                        e.fillStyle = this.color,
                        e.fillStyle = "#000",
                        e.fillText(t("Options"), .05 * this.IO00I, .05 * this.IO00I),
                        e.restore()
                    }
                    ,
                    i
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.GameStats = function(t) {
                    function e(t) {
                        this.lIIl1 = t,
                        e.O11II.constructor.call(this),
                        this.credits = new GameStat("9","CREDITS",0),
                        this.add(this.credits, [.05, 0, .9, .25]),
                        this.credits.visible = !1,
                        this.kills = new GameStat("[","KILLS",0),
                        this.add(this.kills, [.05, .25, .9, .25]),
                        this.deaths = new GameStat("I","DEATHS",0),
                        this.add(this.deaths, [.05, .5, .9, .25]),
                        this.contribution = new GameStat("D","CONTRIBUTION",0),
                        this.add(this.contribution, [.05, .75, .9, .25]),
                        this.contribution.visible = !1
                    }
                    return extend(e, t),
                    e.prototype.I1I0O = function() {
                        if (e.O11II.I1I0O.call(this),
                        this.credits.setValue(this.lIIl1.weapons.credits),
                        this.kills.setValue(this.lIIl1.ll00I.status.kills),
                        this.deaths.setValue(this.lIIl1.ll00I.status.deaths),
                        this.contribution.setValue(this.lIIl1.ll00I.status.contribution),
                        this.lIIl1.ll00I.status.contribution > 0 && (this.contribution.visible = !0),
                        this.lIIl1.weapons.credits > 0)
                            return this.credits.visible = !0
                    }
                    ,
                    e
                }(l001O),
                this.GameStat = function(t) {
                    function e(t, i, s) {
                        this.icon = t,
                        this.name = i,
                        this.value = s,
                        e.O11II.constructor.call(this)
                    }
                    return extend(e, t),
                    e.prototype.setValue = function(t) {
                        if (t !== this.value)
                            return this.value = t,
                            this.IOlO1 = !0
                    }
                    ,
                    e.prototype.IOO11 = function(t) {
                        return this.color = "rgba(255,255,255,.7)",
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.color,
                        t.textAlign = "left",
                        t.textBaseline = "middle",
                        t.font = Math.round(this.lI1ll / 2) + "pt SBGlyphs",
                        t.fillText(this.icon, 0, this.lI1ll / 2),
                        t.font = Math.round(this.lI1ll / 2) + "pt Play",
                        t.fillText(this.name, this.lI1ll, this.lI1ll / 2),
                        t.textAlign = "right",
                        t.fillText(this.value, this.IO00I, this.lI1ll / 2),
                        t.restore()
                    }
                    ,
                    e
                }(OIOIO),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.MenuButton = function(t) {
                    function e(t, i, s, l) {
                        this.lIIl1 = t,
                        this.menu = i,
                        this.name = s,
                        this.id = l,
                        e.O11II.constructor.call(this, this),
                        this.hue = 0,
                        this.blending = THREE.AdditiveBlending,
                        this.O1l10 = !1,
                        this.blinkon = !1
                    }
                    return extend(e, t),
                    e.prototype.II011 = function(t) {
                        return this.name = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e.prototype.IOO11 = function(t) {
                        var e;
                        for (this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.medium,
                        t.fillRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.color,
                        t.textAlign = "center",
                        t.textBaseline = "middle",
                        e = Math.round(this.lI1ll / 3); ; ) {
                            if (t.font = e + "pt Play",
                            t.measureText(this.name).width < .8 * this.IO00I)
                                break;
                            e -= 1
                        }
                        return t.fillText(this.name, this.IO00I / 2, this.lI1ll / 2),
                        this.blinkon && (t.font = e + "pt FontAwesome",
                        t.fillText("ïƒš", this.lI1ll / 2, this.lI1ll / 2)),
                        t.restore()
                    }
                    ,
                    e.prototype.IO1ll = function() {
                        return this.menu.IO1ll(this.id)
                    }
                    ,
                    e.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        var t;
                        if (e.O11II.I1I0O.call(this),
                        (t = !!this.O1l10 && Date.now() % 600 < 300) !== this.blinkon)
                            return this.blinkon = t,
                            this.IOlO1 = !0
                    }
                    ,
                    e
                }(l0O1l),
                this.MobileMenuButton = function(t) {
                    function e(t, i, s, l, n) {
                        this.lIIl1 = t,
                        this.menu = i,
                        this.name = s,
                        this.icon = l,
                        this.id = n,
                        e.O11II.constructor.call(this, this),
                        this.hue = 0,
                        this.blending = THREE.AdditiveBlending,
                        this.O1l10 = !1,
                        this.blinkon = !1
                    }
                    return extend(e, t),
                    e.prototype.II011 = function(t) {
                        return this.name = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e.prototype.IOO11 = function(t) {
                        var e;
                        for (this.background = "hsla(253,70%,30%,.15)",
                            this.medium = "hsla(207,70%,40%,.25)",
                            this.color = "hsla(181, 100%, 50%, 1)",
                        t.save(),
                        t.translate(this.px, this.IO110),
                        t.clearRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.medium,
                        t.fillRect(0, 0, this.IO00I, this.lI1ll),
                        t.fillStyle = this.color,
                        t.textAlign = "center",
                        t.textBaseline = "middle",
                        e = Math.round(this.lI1ll / 9); ; ) {
                            if (t.font = e + "pt Play",
                            t.measureText(this.name).width < .8 * this.IO00I)
                                break;
                            e -= 1
                        }
                        return t.fillText(this.name, this.IO00I / 2, .875 * this.lI1ll),
                        t.font = 2.5 * e + "pt SBGlyphs",
                        t.fillText(this.icon, this.IO00I / 2, .375 * this.lI1ll),
                        this.blinkon && (t.font = e + "pt FontAwesome",
                        t.fillText("ïƒš", this.lI1ll / 2, this.lI1ll / 2)),
                        t.restore()
                    }
                    ,
                    e.prototype.IO1ll = function() {
                        return this.menu.IO1ll(this.id)
                    }
                    ,
                    e.prototype.setHue = function(t) {
                        return this.hue = t,
                        this.IOlO1 = !0
                    }
                    ,
                    e.prototype.I1I0O = function() {
                        var t;
                        if (e.O11II.I1I0O.call(this),
                        (t = !!this.O1l10 && Date.now() % 600 < 300) !== this.blinkon)
                            return this.blinkon = t,
                            this.IOlO1 = !0
                    }
                    ,
                    e
                }(l0O1l),
                extend = function(t, e) {
                    function i() {
                        this.constructor = t
                    }
                    for (var s in e)
                        hasProp.call(e, s) && (t[s] = e[s]);
                    return i.prototype = e.prototype,
                    t.prototype = new i,
                    t.O11II = e.prototype,
                    t
                }
                ,
                hasProp = {}.hasOwnProperty,
                this.ShipTree = function(t) {
                    function e(t) {
                        this.lIIl1 = t,
                        e.O11II.constructor.call(this),
                        this.blending = THREE.AdditiveBlending,
                        this.used_ships = [],
                        this.last_ship = 0,
                        this.ship_types = OOlI1
                    }
                    return extend(e, t),
                    e.prototype.I1I0O = function() {
                        if (e.O11II.I1I0O.call(this),
                        this.lIIl1.ll00I.type.code !== this.last_ship && null != OOlI1.types_by_code[this.lIIl1.ll00I.type.code])
                            return this.last_ship = this.lIIl1.ll00I.type.code,
                            this.used_ships.push(this.last_ship),
                            this.IOlO1 = !0
                    }
                    ,
                    e.prototype.addShipType = function(t) {
                        var e, i, s, l;
                        if (null == this.ship_types.types_by_code[t.code])
                            for (this.ship_types.add(t),
                            s = OOlI1.next(t),
                            e = 0,
                            i = s.length; e < i; e++)
                                l = s[e],
                                this.addShipType(l)
                    }
                    ,
                    e.prototype.createShipTypes = function(t) {
                        var e;
                        return this.ship_types = new OOOO1,
                        e = OOlI1.types_by_code[t],
                        this.addShipType(e)
                    }
                    ,
                    e.prototype.IOO11 = function(t) {
                        var e, i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g, y, v, b, w, x, k, E, _, z, M, T, S, R, P, A, H, C, D, j, G, B;
                        if ("battleroyale" !== this.lIIl1.mode.id && 0 !== this.used_ships.length) {
                            for (t.save(),
                            t.translate(this.px, this.IO110),
                            t.fillStyle = "#111",
                            this.ships = [],
                            this.ships_by_code = {},
                            y = this.ship_types.levels.length - 1,
                            p = this.lI1ll / y,
                            m = 0,
                            l = n = 1,
                            E = y; n <= E; l = n += 1)
                                if (null != this.ship_types.levels[l])
                                    for (m = Math.max(m, this.ship_types.levels[l].length),
                                    _ = this.ship_types.levels[l],
                                    a = 0,
                                    r = _.length; a < r; a++)
                                        j = _[a],
                                        C = {
                                            code: j.code,
                                            reachable: !1
                                        },
                                        this.ships.push(C),
                                        this.ships_by_code[j.code] = C;
                            for (l = o = 0,
                            z = y - 1; o <= z; l = o += 1)
                                t.fillRect(0, 1 + l * p, this.IO00I, p - 2);
                            for (e = Math.min(p, this.IO00I / m),
                            D = .7 * e,
                            this.lIIl1.is_mobile_app && (D = .9 * e),
                            l = O = 0,
                            M = y - 1; O <= M; l = O += 1)
                                if (null != this.ship_types.levels[l + 1])
                                    for (s = this.lI1ll - p / 2 - l * p,
                                    b = this.IO00I / 2 - (this.ship_types.levels[l + 1].length - 1) * e / 2,
                                    T = this.ship_types.levels[l + 1],
                                    B = f = 0,
                                    h = T.length; f < h; B = ++f)
                                        G = T[B],
                                        this.ships_by_code[G.code].x = b + B * e,
                                        this.ships_by_code[G.code].y = s,
                                        this.ships_by_code[G.code].size = D;
                            for (H = function(t) {
                                return function(e) {
                                    var i, s, l;
                                    if (null != t.ships_by_code[e])
                                        for (t.ships_by_code[e].reachable = !0,
                                        s = t.ship_types.next(t.ship_types.types_by_code[e]),
                                        l = 0,
                                        i = s.length; l < i; l++)
                                            j = s[l],
                                            H(j.code)
                                }
                            }(this),
                            this.last_ship > 0 && H(this.last_ship),
                            S = this.used_ships,
                            v = 0,
                            u = S.length; v < u; v++)
                                i = S[v],
                                null != this.ships_by_code[i] && (this.ships_by_code[i].reachable = !0);
                            for (R = this.ships,
                            w = 0,
                            d = R.length; w < d; w++)
                                for (C = R[w],
                                g = this.ship_types.next(this.ship_types.types_by_code[C.code]),
                                x = 0,
                                I = g.length; x < I; x++)
                                    G = g[x],
                                    A = this.ships_by_code[G.code],
                                    this.used_ships.indexOf(G.code) >= 0 && this.used_ships.indexOf(C.code) >= 0 ? (t.strokeStyle = "#FFF",
                                    t.lineWidth = 5) : A.reachable && C.reachable ? (t.strokeStyle = "#333",
                                    t.lineWidth = 3) : (t.strokeStyle = "#000",
                                    t.lineWidth = 3),
                                    t.beginPath(),
                                    t.moveTo(C.x, C.y),
                                    t.lineTo(A.x, A.y),
                                    t.stroke();
                            for (P = this.ships,
                            k = 0,
                            c = P.length; k < c; k++)
                                C = P[k],
                                this.drawShip(C.code, t, C.x, C.y, C.size, C.reachable);
                            return t.restore()
                        }
                    }
                    ,
                    e.prototype.drawShip = function(t, e, i, s, l, n) {
                        var a;
                        return a = I1000.getShipIcon(t),
                        e.fillStyle = "#333",
                        e.beginPath(),
                        e.arc(i, s, l / 2, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                        e.closePath(),
                        e.fill(),
                        this.used_ships.indexOf(t) >= 0 ? (e.strokeStyle = "#FFF",
                        e.lineWidth = 3,
                        e.stroke()) : n ? (e.strokeStyle = "#666",
                        e.lineWidth = 2) : (e.strokeStyle = "#000",
                        e.lineWidth = 2,
                        e.stroke()),
                        this.lIIl1.is_mobile_app || (l *= .8),
                        this.used_ships.indexOf(t) >= 0 ? e.drawImage(a, i - l / 2, s - l / 2, l, l) : n ? (e.globalAlpha = .75,
                        e.drawImage(a, i - l / 2, s - l / 2, l, l),
                        e.globalAlpha = 1) : (e.globalCompositeOperation = "destination-out",
                        e.drawImage(a, i - l / 2, s - l / 2, l, l),
                        e.globalCompositeOperation = "source-over")
                    }
                    ,
                    e
                }(OIOIO),
                this.Explosions = function() {
                    function t(t, e) {
                        var i, s, l;
                        for (this.II1OO = t,
                        this.size = null != e ? e : 2e3,
                        this.geometry = new THREE.BufferGeometry,
                        this.geometry.IO000 = new THREE.Box3(new THREE.Vector3(-2e4,-2e4,-2e4),new THREE.Vector3(2e4,2e4,2e4)),
                        this.geometry.boundingSphere = new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),
                        this.vertices = new Float32Array(3 * this.size),
                        this.time = new Float32Array(this.size),
                        this.speed = new Float32Array(3 * this.size),
                        this.OI0lI = new Float32Array(this.size),
                        this.opac = new Float32Array(this.size),
                        this.I0I01 = new OO0Ol,
                        this.index = 0,
                        this.Oll10 = Date.now(),
                        i = s = 0,
                        l = this.size - 1; s <= l; i = s += 1)
                            this.vertices[3 * i] = 0,
                            this.vertices[3 * i + 1] = 900,
                            this.vertices[3 * i + 2] = 0,
                            this.speed[3 * i] = 0,
                            this.speed[3 * i + 1] = 0,
                            this.speed[3 * i + 2] = 0,
                            this.time[i] = 0,
                            this.OI0lI[i] = 10,
                            this.opac[i] = 1;
                        this.O0O00(),
                        this.IOl1I = new THREE.PointLight(16736256,0,100,.5),
                        this.IOl1I.position.set(0, 0, 2)
                    }
                    return t.prototype.explode = function(t, e, i, s, l) {
                        var n, a, o, r, h, u, d, I, c, p, O, m, f, g;
                        if (null == s && (s = 1),
                        null == l && (l = 0),
                        s = Math.min(25, s),
                        null != this.II1OO.IOI11 && (o = Math.abs(this.II1OO.IOI11.position.x - t),
                        r = Math.abs(this.II1OO.IOI11.position.y - e),
                        o = Math.min(o, this.II1OO.lIIl1.size - o),
                        r = Math.min(r, this.II1OO.lIIl1.size - r),
                        !(o > 32 * (2 + .1 * s) || r > 18 * (2 + .1 * s)))) {
                            for (s > 2 * this.IOl1I.intensity && (this.IOl1I.position.set(t, e, 2),
                            this.IOl1I.intensity = s),
                            d = Math.min(this.size, Math.round(25 * Math.pow(s, 2))),
                            c = .6 * s * this.II1OO.height / 1e3 / this.II1OO.O0O0O.IOI11.zoom,
                            p = 5 * s,
                            u = 1e3 * Math.random(),
                            h = 0,
                            I = d; h <= I; h += 1)
                                this.vertices[3 * this.index] = t + 1 * (Math.random() - .5),
                                this.vertices[3 * this.index + 1] = e + 1 * (Math.random() - .5),
                                this.vertices[3 * this.index + 2] = l,
                                a = 2 * Math.random() * (180 * THREE.Math.DEG2RAD),
                                m = Math.cos(a),
                                f = Math.sin(a),
                                O = Math.pow(Math.random(), .5) * p * Math.pow(this.I0I01.llIII(u + 3 * m, 3 * f, 3), 2) * 2,
                                m *= O,
                                f *= O,
                                g = 5 * O * Math.random(),
                                null !== i && (n = 4 * (Math.random() - 0),
                                m += O * n * Math.cos(i),
                                f += O * n * Math.sin(i)),
                                this.speed[3 * this.index] = m,
                                this.speed[3 * this.index + 1] = f,
                                this.speed[3 * this.index + 2] = g,
                                this.time[this.index] = this.material.uniforms.Ol1ll.value + (1 + 5 * Math.random()) / 60,
                                this.OI0lI[this.index] = (10 + 10 * Math.random()) * c,
                                this.opac[this.index] = 1,
                                this.index = (this.index + 1 + Math.floor(3 * Math.random())) % this.size;
                            this.II1OO.lIIl1.settings.check("explolight") && (this.vertices[3 * this.index] = t,
                            this.vertices[3 * this.index + 1] = e,
                            this.vertices[3 * this.index + 2] = 0,
                            this.speed[3 * this.index] = 0,
                            this.speed[3 * this.index + 1] = 0,
                            this.speed[3 * this.index + 2] = 0,
                            this.time[this.index] = this.material.uniforms.Ol1ll.value + 1 / 60,
                            this.OI0lI[this.index] = Math.min(250 * c, this.II1OO.height / 3),
                            this.opac[this.index] = .25,
                            this.index = (this.index + 1 + Math.floor(3 * Math.random())) % this.size),
                            this.updateBuffers(!0)
                        }
                    }
                    ,
                    t.prototype.blast = function(t, e, i, s) {
                        var l, n, a, o, r, h, u, d, I, c, p, O, m, f;
                        if (null == i && (i = 1),
                        null == s && (s = 0),
                        i = Math.min(25, i),
                        null != this.II1OO.IOI11 && (n = Math.abs(this.II1OO.IOI11.position.x - t),
                        a = Math.abs(this.II1OO.IOI11.position.y - e),
                        n = Math.min(n, this.II1OO.lIIl1.size - n),
                        a = Math.min(a, this.II1OO.lIIl1.size - a),
                        !(n > 32 * (2 + .1 * i) || a > 18 * (2 + .1 * i)))) {
                            for (i > 2 * this.IOl1I.intensity && (this.IOl1I.position.set(t, e, 2),
                            this.IOl1I.intensity = i),
                            h = Math.min(this.size, Math.round(25 * Math.pow(i, 2))),
                            I = .6 * i * this.II1OO.height / 1e3 / this.II1OO.O0O0O.IOI11.zoom,
                            c = 5 * i,
                            r = 1e3 * Math.random(),
                            o = 0,
                            u = h; o <= u; o += 1)
                                this.vertices[3 * this.index] = t + 1 * (Math.random() - .5),
                                this.vertices[3 * this.index + 1] = e + 1 * (Math.random() - .5),
                                this.vertices[3 * this.index + 2] = s,
                                l = 2 * Math.random() * (180 * THREE.Math.DEG2RAD),
                                O = Math.cos(l),
                                m = Math.sin(l),
                                d = Math.random(),
                                d < .1 ? (m = 0,
                                O = Math.random() < .5 ? 1 : -1,
                                p = Math.pow(Math.random(), 1) * c * 4,
                                this.OI0lI[this.index] = (10 + 10 * Math.random()) * I,
                                f = 0) : d < .6 ? (p = Math.pow(Math.random(), .01) * c * 2,
                                this.OI0lI[this.index] = (10 + 10 * Math.random()) * I,
                                f = 0) : (this.OI0lI[this.index] = (10 + 10 * Math.random()) * I,
                                p = Math.pow(Math.random(), .5) * c * Math.pow(this.I0I01.llIII(r + 3 * O, 3 * m, 3), 2) * 2,
                                f = 5 * p * Math.random()),
                                O *= p,
                                m *= p,
                                this.speed[3 * this.index] = O,
                                this.speed[3 * this.index + 1] = m,
                                this.speed[3 * this.index + 2] = f,
                                this.time[this.index] = this.material.uniforms.Ol1ll.value + (1 + 5 * Math.random()) / 60,
                                this.opac[this.index] = 1,
                                this.index = (this.index + 1 + Math.floor(3 * Math.random())) % this.size;
                            this.II1OO.lIIl1.settings.check("explolight") && (this.vertices[3 * this.index] = t,
                            this.vertices[3 * this.index + 1] = e,
                            this.vertices[3 * this.index + 2] = 0,
                            this.speed[3 * this.index] = 0,
                            this.speed[3 * this.index + 1] = 0,
                            this.speed[3 * this.index + 2] = 0,
                            this.time[this.index] = this.material.uniforms.Ol1ll.value + 1 / 60,
                            this.OI0lI[this.index] = Math.min(250 * I, this.II1OO.height / 3),
                            this.opac[this.index] = .25,
                            this.index = (this.index + 1 + Math.floor(3 * Math.random())) % this.size),
                            this.updateBuffers(!0)
                        }
                    }
                    ,
                    t.prototype.buffersNeedUpdate = function() {
                        this.buffers_need_update || (this.buffers_need_update = !0,
                        this.II1OO.lIIl1.display.addJob(1, function(t) {
                            return function() {
                                return t.updateBuffers()
                            }
                        }(this)))
                    }
                    ,
                    t.prototype.updateBuffers = function(t) {
                        if (null == t && (t = !1),
                        t || this.buffers_need_update)
                            return this.geometry.getAttribute("position").needsUpdate = !0,
                            this.geometry.getAttribute("speed").needsUpdate = !0,
                            this.geometry.getAttribute("time").needsUpdate = !0,
                            this.geometry.getAttribute("OI0lI").needsUpdate = !0,
                            this.geometry.getAttribute("opac").needsUpdate = !0,
                            this.buffers_need_update = !1
                    }
                    ,
                    t.prototype.I0l0O = function(t) {
                        return t = Date.now(),
                        this.material.uniforms.Ol1ll.value = (t - this.Oll10) / 1e3,
                        this.IOl1I.intensity *= .98,
                        this.IOl1I.visible = this.II1OO.lIIl1.settings.check("explolight"),
                        this.IOl1I.position.x = this.II1OO.IOI11.position.x + Math.fmod(this.IOl1I.position.x - this.II1OO.IOI11.position.x + this.II1OO.lIIl1.OIl0I, this.II1OO.lIIl1.size) - this.II1OO.lIIl1.OIl0I,
                        this.IOl1I.position.y = this.II1OO.IOI11.position.y + Math.fmod(this.IOl1I.position.y - this.II1OO.IOI11.position.y + this.II1OO.lIIl1.OIl0I, this.II1OO.lIIl1.size) - this.II1OO.lIIl1.OIl0I
                    }
                    ,
                    t.prototype.O0O00 = function() {
                        var t, e, i, s;
                        return s = "attribute vec3 speed;\nattribute float OI0lI;\nattribute float time;\nuniform float Ol1ll;\nvarying float toffset;\nvarying float opacity ;\nattribute float opac ;\nuniform float system_size;\n\nvoid main() {\n  float t = max(0.0,Ol1ll-time)*pow(opac,.5) ;\n  toffset = floor(t*32.0/1.0);\n  float t2 = 1.0-exp(-t*2.0) ;\n  vec4 mvPosition = modelViewMatrix * vec4(position+speed*t2, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = OI0lI*max(0.0,1.0-t);\n  opacity = clamp(gl_PointSize,0.0,1.0)*opac;\n}",
                        t = "varying float toffset;\nvarying float opacity;\nuniform sampler2D texture;\n\nvoid main() {\n  gl_FragColor = texture2D(texture,(gl_PointCoord+vec2(toffset,0.0))/vec2(32.0,1.0));\n//  gl_FragColor = texture2D(texture,vec2((gl_PointCoord.x+toffset)/32.0,gl_PointCoord.y));\n  gl_FragColor.w *= opacity;\n//  float len = length(gl_PointCoord-vec2(.5,.5))*2.0;\n\n//  gl_FragColor = vec4(1.0,1.0,1.0,(1.0-len)*opacity);\n}",
                        e = this.createTexture(),
                        i = {
                            texture: {
                                type: "t",
                                value: e
                            },
                            Ol1ll: {
                                type: "f",
                                value: (Date.now() - this.Oll10) / 1e3
                            },
                            system_size: {
                                type: "f",
                                value: this.II1OO.lIIl1.size
                            }
                        },
                        this.material = new THREE.ShaderMaterial({
                            uniforms: i,
                            vertexShader: s,
                            fragmentShader: t,
                            transparent: !0,
                            depthWrite: !1,
                            depthTest: !1,
                            blending: THREE.AdditiveBlending
                        }),
                        this.geometry.addAttribute("position", new THREE.BufferAttribute(this.vertices,3)),
                        this.geometry.addAttribute("time", new THREE.BufferAttribute(this.time,1)),
                        this.geometry.addAttribute("speed", new THREE.BufferAttribute(this.speed,3)),
                        this.geometry.addAttribute("OI0lI", new THREE.BufferAttribute(this.OI0lI,1)),
                        this.geometry.addAttribute("opac", new THREE.BufferAttribute(this.opac,1)),
                        this.IIOO1 = new THREE.Points(this.geometry,this.material),
                        this.IIOO1.position.z = 0
                    }
                    ,
                    t.prototype.createTextureTest = function() {
                        var t, e, i, s, l, n, a, o, r, h, u, d, I, c, p, O, m;
                        for (t = document.createElement("canvas"),
                        t.width = 1024,
                        t.height = 1024,
                        e = t.getContext("2d"),
                        c = new OO0Ol,
                        s = e.getImageData(0, 0, 32, 32),
                        O = h = 0; h <= 31; O = h += 1)
                            for (m = u = 0; u <= 31; m = u += 1) {
                                for (o = d = 0; d <= 31; o = d += 1)
                                    for (r = I = 0; I <= 31; r = I += 1)
                                        l = (o - 15.5) / 15.5,
                                        n = (r - 15.5) / 15.5,
                                        i = Math.max(0, 1 - (l * l + n * n)),
                                        i = Math.pow(i, 2) * (1 - 1.2 * c.l10I1(10 * m + 2 * l, 2 * n, O / 32 * 4, 6)),
                                        s.data[4 * (32 * r + o)] = 255,
                                        s.data[4 * (32 * r + o) + 1] = 255,
                                        s.data[4 * (32 * r + o) + 2] = 255,
                                        s.data[4 * (32 * r + o) + 3] = 255 * i;
                                e.putImageData(s, 32 * O, 32 * m)
                            }
                        return e.globalCompositeOperation = "source-in",
                        a = e.createLinearGradient(0, 0, 1024, 0),
                        a.addColorStop(0, "#F82"),
                        a.addColorStop(.2, "#400"),
                        a.addColorStop(.5, "#333"),
                        a.addColorStop(1, "#000"),
                        e.fillStyle = a,
                        e.fillRect(0, 0, 1024, 1024),
                        p = new THREE.Texture(t),
                        p.minFilter = THREE.LinearFilter,
                        p.wrapS = p.wrapT = THREE.RepeatWrapping,
                        p.needsUpdate = !0,
                        p
                    }
                    ,
                    t.prototype.createTexture = function() {
                        var t, e, i, s, l, n;
                        for (t = document.createElement("canvas"),
                        t.width = 1024,
                        t.height = 32,
                        e = t.getContext("2d"),
                        e.scale(t.width / 32, t.height),
                        e.translate(.5, .5),
                        s = l = 0; l <= 31; s = l += 1)
                            i = e.createRadialGradient(s, 0, 0, s, 0, .5),
                            i.addColorStop(0, "rgba(255,255,255,1)"),
                            i.addColorStop(1, "rgba(255,128,16,0)"),
                            e.fillStyle = i,
                            e.beginPath(),
                            e.arc(s, 0, .5, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                            e.fill();
                        return e.globalCompositeOperation = "source-in",
                        i = e.createLinearGradient(0, 0, 32, 0),
                        i.addColorStop(0, "#F82"),
                        i.addColorStop(.2, "#400"),
                        i.addColorStop(.5, "#333"),
                        i.addColorStop(1, "#000"),
                        e.fillStyle = i,
                        e.fillRect(-.5, -.5, 32, 1),
                        n = new THREE.Texture(t),
                        n.minFilter = THREE.LinearFilter,
                        n.wrapS = n.wrapT = THREE.RepeatWrapping,
                        n.needsUpdate = !0,
                        n
                    }
                    ,
                    t
                }(),
                this.II1l0 = function() {
                    function t() {}
                    return t.createTexture = function() {
                        var e, i, s, l, n, a, o, r;
                        for (e = document.createElement("canvas"),
                        e.width = 2048,
                        e.height = 1024,
                        this.shapes = [],
                        this.shapes.push(t.shape1()),
                        this.shapes.push(t.shape2()),
                        this.shapes.push(t.shape3()),
                        this.shapes.push(t.shape4()),
                        this.shapes.push(t.shape5()),
                        this.shapes.push(t.shape6()),
                        this.shapes.push(t.shape7()),
                        i = e.getContext("2d"),
                        i.translate(0, e.height),
                        i.scale(e.width / 8, -e.width / 8),
                        i.translate(.5, .5),
                        i.scale(.5, .5),
                        l = [.5, .1, .04, .1, .5],
                        o = this.shapes,
                        s = n = 0,
                        a = o.length; n < a; s = ++n)
                            r = o[s],
                            i.save(),
                            i.translate(s % 5 * 3, 3 * Math.floor(s / 5)),
                            this.drawGradient(i, l[s], s),
                            this.drawLaser(i, r),
                            i.restore();
                        return e
                    }
                    ,
                    t.drawGradient = function(t, e, i) {
                        var s;
                        if (null == e && (e = .5),
                        null == i && (i = 0),
                        s = t.createRadialGradient(0, 0, 0, 0, 0, 1),
                        s.addColorStop(0, "hsla(181,100%,100%," + e + ")"),
                        s.addColorStop(1, "hsla(181,100%,100%,0)"),
                        t.fillStyle = s,
                        t.fillRect(-1, -1, 2, 2),
                        1 === i)
                            return t.fillStyle = "#000",
                            t.fillRect(-1, -.025, 2, .05)
                    }
                    ,
                    t.getShape = function(t) {
                        switch (t) {
                        case 3:
                            return this.shape4();
                        case 1:
                            return this.shape2();
                        case 2:
                            return this.shape3();
                        default:
                            return this.shape1()
                        }
                    }
                    ,
                    t.shape1 = function() {
                        var t, e, i, s, l, n;
                        for (s = [],
                        e = i = 0; i <= 20; e = i += 1)
                            t = e / 20 * (180 * THREE.Math.DEG2RAD) * 2,
                            l = Math.cos(t),
                            n = Math.sin(t),
                            l = l < 0 ? -Math.sqrt(-l) : Math.sqrt(l),
                            n = n < 0 ? -Math.sqrt(-n) : Math.sqrt(n),
                            s.push([l, n / 3]);
                        return [s]
                    }
                    ,
                    t.shape2 = function() {
                        var t, e, i, s, l, n, a, o;
                        for ([],
                        l = [],
                        e = i = 0; i <= 20; e = i += 1)
                            t = e / 20 * (180 * THREE.Math.DEG2RAD) * 2,
                            a = Math.cos(t),
                            o = Math.sin(t),
                            a = a < 0 ? -Math.sqrt(-a) : Math.sqrt(a),
                            o = o < 0 ? -1 : Math.sqrt(o),
                            l.push([1.4 * a, .2 + o / 10]);
                        for (n = [],
                        e = s = 0; s <= 20; e = s += 1)
                            t = e / 20 * (180 * THREE.Math.DEG2RAD) * 2,
                            a = Math.cos(t),
                            o = Math.sin(t),
                            a = a < 0 ? -Math.sqrt(-a) : Math.sqrt(a),
                            o = o < 0 ? -Math.sqrt(-o) : 1,
                            n.push([1.4 * a, o / 10 - .2]);
                        return [l, n]
                    }
                    ,
                    t.shape3 = function() {
                        return [[[2, 0], [1, .1], [.55, .8], [.35, -.1], [.05, .8], [-.25, -.1], [-.55, .8], [-1, .1], [-2, 0], [-1, -.1], [-.85, -.8], [-.55, .1], [-.25, -.8], [.05, .1], [.35, -.8], [.55, .1], [.75, -.8], [1, -.1], [2, 0]]]
                    }
                    ,
                    t.shape4 = function() {
                        return [[[1.4, -.6], [1.1, -.6], [1.1, .6], [1.4, .6]], [[.55, -.6], [.25, -.6], [.25, .6], [.55, .6]], [[-.55, -.6], [-.25, -.6], [-.25, .6], [-.55, .6]], [[-1.4, -.6], [-1.1, -.6], [-1.1, .6], [-1.4, .6]]]
                    }
                    ,
                    t.shape5 = function() {
                        var t, e, i, s, l, n, a, o;
                        for (n = [],
                        t = [0, 70, 90, 110, 180, 250, 270, 290, 360],
                        s = [1, 1, .7, 1, 1, 1, .7, 1, 1],
                        e = i = 0,
                        l = s.length - 1; i <= l; e = i += 1)
                            a = Math.cos(t[e] * (180 * THREE.Math.DEG2RAD) / 180) * s[e],
                            o = Math.sin(t[e] * (180 * THREE.Math.DEG2RAD) / 180) * s[e],
                            n.push([a, o / 2]);
                        return [n]
                    }
                    ,
                    t.shape6 = function() {
                        return [[[2, .4], [2, -.4], [-2, -.4], [-2, .4]], [[.4, 2], [.4, -2], [-.4, -2], [-.4, 2]]]
                    }
                    ,
                    t.shape7 = function() {
                        var t, e, i, s, l, n;
                        for (s = [],
                        e = i = 0; i <= 20; e = i += 1)
                            t = e / 20 * (180 * THREE.Math.DEG2RAD) * 2,
                            l = Math.cos(t),
                            n = Math.sin(t),
                            s.push([l, n]);
                        return [s]
                    }
                    ,
                    t.drawLaser = function(t, e) {
                        var i, s, l, n, a, o, r, h;
                        for (i = t.createRadialGradient(0, 0, 0, 0, 0, .3),
                        i.addColorStop(0, "rgba(255,255,255,1)"),
                        i.addColorStop(1, "rgba(255,255,255,.5)"),
                        t.fillStyle = i,
                        r = [],
                        s = 0,
                        n = e.length; s < n; s++) {
                            for (h = e[s],
                            t.beginPath(),
                            l = 0,
                            a = h.length; l < a; l++)
                                o = h[l],
                                t.lineTo(.3 * o[0], .3 * o[1]);
                            t.closePath(),
                            r.push(t.fill())
                        }
                        return r
                    }
                    ,
                    t
                }(),
                this.Laserticles = function() {
                    function t(t, e) {
                        var i, s, l;
                        for (this.II1OO = t,
                        this.size = null != e ? e : 2e3,
                        this.geometry = new THREE.BufferGeometry,
                        this.geometry.IO000 = new THREE.Box3(new THREE.Vector3(-2e4,-2e4,-2e4),new THREE.Vector3(2e4,2e4,2e4)),
                        this.geometry.boundingSphere = new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),
                        this.vertices = new Float32Array(3 * this.size),
                        this.time = new Float32Array(this.size),
                        this.speed = new Float32Array(2 * this.size),
                        this.speedratio = new Float32Array(this.size),
                        this.angle = new Float32Array(this.size),
                        this.color = new Float32Array(3 * this.size),
                        this.OI0lI = new Float32Array(this.size),
                        this.type = new Float32Array(this.size),
                        this.opac = new Float32Array(this.size),
                        this.OIl0O = new Float32Array(this.size),
                        this.core_size = 500,
                        this.trail_size = this.size - this.core_size,
                        this.index = this.core_size,
                        this.core_index = 0,
                        this.Oll10 = Date.now(),
                        i = s = 0,
                        l = this.size - 1; s <= l; i = s += 1)
                            this.vertices[3 * i] = 0,
                            this.vertices[3 * i + 1] = 0,
                            this.vertices[3 * i + 2] = 1e3,
                            this.OI0lI[i] = 1,
                            this.opac[i] = 0;
                        this.O0O00(),
                        this.lasers = []
                    }
                    return t.prototype.O1I0O = function(t) {
                        var e, i, s, l, n, a, o, r, h, u, d, I;
                        switch (t.core_index = this.core_index,
                        t.index = this.index,
                        this.vertices[3 * this.core_index] = t.x,
                        this.vertices[3 * this.core_index + 1] = t.y,
                        this.vertices[3 * this.core_index + 2] = t.z,
                        d = (t.lO10l >> 16 & 255) / 255,
                        l = (t.lO10l >> 8 & 255) / 255,
                        e = (255 & t.lO10l) / 255,
                        this.color[3 * this.core_index] = d,
                        this.color[3 * this.core_index + 1] = l,
                        this.color[3 * this.core_index + 2] = e,
                        this.speed[2 * this.core_index] = t.l0OlO,
                        this.speed[2 * this.core_index + 1] = t.lIl0I,
                        this.angle[this.core_index] = t.angle,
                        this.time[this.core_index] = t.lOl00,
                        this.speedratio[this.core_index] = t.speed / 100,
                        this.OI0lI[this.core_index] = 60 * this.II1OO.height / 1e3 * Math.pow(t.damage / 10, .75) / this.II1OO.O0O0O.IOI11.zoom,
                        this.opac[this.core_index] = .1,
                        this.OIl0O[this.core_index] = t.OIl0O / 60,
                        this.type[this.core_index] = t.type,
                        this.core_index = (this.core_index + 1) % this.core_size,
                        i = Math.cos(t.angle),
                        I = Math.sin(t.angle),
                        t.type) {
                        case 1:
                            for (n = a = 1; a <= 9; n = a += 1)
                                this.vertices[3 * this.index] = t.x,
                                this.vertices[3 * this.index + 1] = t.y,
                                this.vertices[3 * this.index + 2] = t.z,
                                this.color[3 * this.index] = d,
                                this.color[3 * this.index + 1] = l,
                                this.color[3 * this.index + 2] = e,
                                this.speed[2 * this.index] = t.l0OlO,
                                this.speed[2 * this.index + 1] = t.lIl0I,
                                this.angle[this.index] = t.angle + 0 * (Math.random() - .5),
                                this.time[this.index] = t.lOl00,
                                this.opac[this.index] = .5,
                                this.OIl0O[this.index] = t.OIl0O / 60,
                                this.type[this.index] = t.type,
                                this.speedratio[this.index] = t.speed / 100 * (1 - n / 100),
                                this.OI0lI[this.index] = 60 * this.II1OO.height / 1e3 * Math.pow(t.damage / 10, .75) / this.II1OO.O0O0O.IOI11.zoom,
                                this.index = (this.index - this.core_size + 1) % this.trail_size + this.core_size;
                            break;
                        case 2:
                            for (n = o = 1; o <= 9; n = o += 1)
                                this.vertices[3 * this.index] = t.x,
                                this.vertices[3 * this.index + 1] = t.y,
                                this.vertices[3 * this.index + 2] = t.z,
                                this.color[3 * this.index] = d,
                                this.color[3 * this.index + 1] = l,
                                this.color[3 * this.index + 2] = e,
                                this.speed[2 * this.index] = t.l0OlO,
                                this.speed[2 * this.index + 1] = t.lIl0I,
                                this.angle[this.index] = t.angle + 0 * (Math.random() - .5),
                                this.time[this.index] = t.lOl00,
                                this.opac[this.index] = .5,
                                this.OIl0O[this.index] = t.OIl0O / 60,
                                this.type[this.index] = t.type,
                                this.speedratio[this.index] = t.speed / 100 * (1 - n / 60),
                                this.OI0lI[this.index] = 60 * this.II1OO.height / 1e3 * Math.pow(t.damage / 10, .75) / Math.pow(this.II1OO.O0O0O.IOI11.zoom, 1 - n / 25),
                                this.index = (this.index - this.core_size + 1) % this.trail_size + this.core_size;
                            break;
                        case 3:
                            for (n = r = 1; r <= 9; n = r += 1)
                                this.vertices[3 * this.index] = t.x,
                                this.vertices[3 * this.index + 1] = t.y,
                                this.vertices[3 * this.index + 2] = t.z,
                                this.color[3 * this.index] = d,
                                this.color[3 * this.index + 1] = l,
                                this.color[3 * this.index + 2] = e,
                                this.speed[2 * this.index] = t.l0OlO,
                                this.speed[2 * this.index + 1] = t.lIl0I,
                                this.angle[this.index] = t.angle + 0 * (Math.random() - .5),
                                this.time[this.index] = t.lOl00,
                                this.opac[this.index] = .5,
                                this.OIl0O[this.index] = t.OIl0O / 60,
                                this.type[this.index] = t.type,
                                this.speedratio[this.index] = t.speed / 100 * (1 - n / 60),
                                this.OI0lI[this.index] = 60 * this.II1OO.height / 1e3 * Math.pow(t.damage / 10, .75) / this.II1OO.O0O0O.IOI11.zoom,
                                this.index = (this.index - this.core_size + 1) % this.trail_size + this.core_size;
                            break;
                        case 4:
                        case 6:
                            for (n = h = 1; h <= 19; n = h += 1)
                                s = Math.random(),
                                this.vertices[3 * this.index] = t.x + .1 * (Math.random() - .5),
                                this.vertices[3 * this.index + 1] = t.y + .1 * (Math.random() - .5),
                                this.vertices[3 * this.index + 2] = t.z,
                                this.color[3 * this.index] = d,
                                this.color[3 * this.index + 1] = l,
                                this.color[3 * this.index + 2] = e,
                                this.speed[2 * this.index] = t.l0OlO,
                                this.speed[2 * this.index + 1] = t.lIl0I,
                                this.angle[this.index] = t.angle + .025 * (Math.random() - .5),
                                this.time[this.index] = t.lOl00,
                                this.opac[this.index] = .2,
                                this.OIl0O[this.index] = t.OIl0O / 60,
                                this.type[this.index] = t.type,
                                this.speedratio[this.index] = Math.pow(Math.random(), .1) * t.speed / 100,
                                this.OI0lI[this.index] = .25 * Math.pow(Math.random(), 1) * 60 * this.II1OO.height / 1e3 * Math.pow(t.damage / 10, .75) / this.II1OO.O0O0O.IOI11.zoom,
                                this.index = (this.index - this.core_size + 1) % this.trail_size + this.core_size;
                            break;
                        default:
                            for (n = u = 1; u <= 19; n = u += 1)
                                s = Math.random(),
                                this.vertices[3 * this.index] = t.x - s * i,
                                this.vertices[3 * this.index + 1] = t.y - s * I,
                                this.vertices[3 * this.index + 2] = t.z,
                                this.color[3 * this.index] = d,
                                this.color[3 * this.index + 1] = l,
                                this.color[3 * this.index + 2] = e,
                                this.speed[2 * this.index] = t.l0OlO,
                                this.speed[2 * this.index + 1] = t.lIl0I,
                                this.angle[this.index] = t.angle + 0 * (Math.random() - .5),
                                this.time[this.index] = t.lOl00,
                                this.opac[this.index] = 1,
                                this.OIl0O[this.index] = t.OIl0O / 60,
                                this.type[this.index] = t.type,
                                this.speedratio[this.index] = Math.pow(Math.random(), .05) * t.speed / 100,
                                this.OI0lI[this.index] = 15 * Math.random() * this.II1OO.height / 1e3 * Math.pow(t.damage / 10, .75) / this.II1OO.O0O0O.IOI11.zoom,
                                this.index = (this.index - this.core_size + 1) % this.trail_size + this.core_size
                        }
                        return this.updateBuffers(!0)
                    }
                    ,
                    t.prototype.kill = function(t, e, i, s) {
                        var l, n, a, o, r;
                        for (o = 18,
                        t.type > 0 && t.type < 4 && (o = 8),
                        this.vertices[3 * t.core_index + 2] = 1e3,
                        l = a = 0,
                        r = o; a <= r; l = a += 1)
                            n = (t.index + l - this.core_size) % this.trail_size + this.core_size,
                            Math.random(),
                            this.vertices[3 * n] = e,
                            this.vertices[3 * n + 1] = i,
                            this.vertices[3 * n + 2] = 3,
                            this.speed[2 * n] = 0,
                            this.speed[2 * n + 1] = 0,
                            s || 6 === t.type ? this.angle[n] = t.angle + 2 * (Math.random() - .5) + 180 * THREE.Math.DEG2RAD : this.angle[n] = t.angle + 1 * (Math.random() - .5),
                            this.time[n] = this.II1OO.O0O0O.lIOOO,
                            this.opac[n] = 1,
                            this.OIl0O[n] = t.OIl0O / 120,
                            this.speedratio[n] = t.speed / 100 * Math.random() * .4,
                            this.OI0lI[n] = 45 * Math.random() * this.II1OO.height / 1e3 * Math.pow(t.damage / 10, .75) / this.II1OO.O0O0O.IOI11.zoom,
                            6 === t.type && (this.type[n] = 5,
                            this.opac[n] = .2,
                            this.speedratio[n] *= .5);
                        return this.updateBuffers(!0)
                    }
                    ,
                    t.prototype.buffersNeedUpdate = function() {
                        this.buffers_need_update || (this.buffers_need_update = !0,
                        this.II1OO.lIIl1.display.addJob(2, function(t) {
                            return function() {
                                return t.updateBuffers()
                            }
                        }(this)))
                    }
                    ,
                    t.prototype.updateBuffers = function(t) {
                        if (null == t && (t = !1),
                        t || this.buffers_need_update)
                            return this.geometry.getAttribute("position").needsUpdate = !0,
                            this.geometry.getAttribute("speed").needsUpdate = !0,
                            this.geometry.getAttribute("time").needsUpdate = !0,
                            this.geometry.getAttribute("angle").needsUpdate = !0,
                            this.geometry.getAttribute("speedratio").needsUpdate = !0,
                            this.geometry.getAttribute("OI0lI").needsUpdate = !0,
                            this.geometry.getAttribute("type").needsUpdate = !0,
                            this.geometry.getAttribute("color").needsUpdate = !0,
                            this.geometry.getAttribute("opac").needsUpdate = !0,
                            this.geometry.getAttribute("OIl0O").needsUpdate = !0,
                            this.buffers_need_update = !1
                    }
                    ,
                    t.prototype.I0l0O = function(t) {
                        return this.material.uniforms.Ol1ll.value = t
                    }
                    ,
                    t.prototype.O0O00 = function() {
                        var t, e, i, s;
                        return s = "attribute vec2 speed;\nattribute float OI0lI;\nattribute float time;\nattribute float angle;\nattribute float speedratio;\nattribute vec3 color ;\nattribute float opac ;\nattribute float type ;\n\nattribute float OIl0O ;\n\nuniform float Ol1ll;\nvarying float opacity ;\nuniform float system_size;\nvarying vec3 lO10l ;\nvarying float co ;\nvarying float si ;\nvarying vec2 toffset ;\n\nvoid main() {\n  float t = max(0.0,(Ol1ll-time)/60.0) ;\n  float lII0O = 1.0-exp(-t*.5);\n  float c = cos(angle) ;\n  float s = sin(angle) ;\n  vec3 lIOIl = position ;\n  lIOIl.x += speedratio*c*lII0O*100.0+speed.x*60.0*t ;\n  lIOIl.y += speedratio*s*lII0O*100.0+speed.y*60.0*t ;\n\n  vec4 mvPosition = modelViewMatrix * vec4(lIOIl, 1.0);\n  mvPosition.x = mod(mvPosition.x+system_size*.5,system_size)-system_size*.5;\n  mvPosition.y = mod(mvPosition.y+system_size*.5,system_size)-system_size*.5;\n  gl_Position = projectionMatrix * mvPosition ;\n  opacity = 1.0*pow(max(0.0,(OIl0O-t)/OIl0O),opac);\n  gl_PointSize = OI0lI*opacity;\n  lO10l = color ;\n  float a = angle ;\n  if (type == 5.0)\n  {\n    a = 0.0 ; //+= t*4.5;\n  }\n  co = cos(a);\n  si = -sin(a);\n  toffset = vec2(mod(type,5.0)*1.5,floor(type/5.0)*1.5);\n}",
                        t = "uniform sampler2D texture;\n\nvarying vec2 toffset;\nvarying float opacity;\nvarying vec3 lO10l ;\nvarying float co ;\nvarying float si ;\n\nvoid main() {\n  vec2 pt = (gl_PointCoord-.5)*2.0 ;\n  pt = vec2(pt.x*co+pt.y*si,pt.x*si-pt.y*co);\n  gl_FragColor = texture2D(texture,(toffset+pt*.5+.5)*vec2(.125,.25))*vec4(lO10l,opacity);\n}",
                        e = this.createTexture(),
                        i = {
                            texture: {
                                type: "t",
                                value: e
                            },
                            Ol1ll: {
                                type: "f",
                                value: (Date.now() - this.Oll10) / 1e3
                            },
                            system_size: {
                                type: "f",
                                value: this.II1OO.lIIl1.size
                            }
                        },
                        this.material = new THREE.ShaderMaterial({
                            uniforms: i,
                            vertexShader: s,
                            fragmentShader: t,
                            transparent: !0,
                            depthWrite: !1,
                            depthTest: !0,
                            blending: THREE.AdditiveBlending
                        }),
                        this.geometry.addAttribute("position", new THREE.BufferAttribute(this.vertices,3)),
                        this.geometry.addAttribute("time", new THREE.BufferAttribute(this.time,1)),
                        this.geometry.addAttribute("speed", new THREE.BufferAttribute(this.speed,2)),
                        this.geometry.addAttribute("OI0lI", new THREE.BufferAttribute(this.OI0lI,1)),
                        this.geometry.addAttribute("opac", new THREE.BufferAttribute(this.opac,1)),
                        this.geometry.addAttribute("type", new THREE.BufferAttribute(this.type,1)),
                        this.geometry.addAttribute("angle", new THREE.BufferAttribute(this.angle,1)),
                        this.geometry.addAttribute("color", new THREE.BufferAttribute(this.color,3)),
                        this.geometry.addAttribute("speedratio", new THREE.BufferAttribute(this.speedratio,1)),
                        this.geometry.addAttribute("OIl0O", new THREE.BufferAttribute(this.OIl0O,1)),
                        this.IIOO1 = new THREE.Points(this.geometry,this.material),
                        this.IIOO1.position.z = 0
                    }
                    ,
                    t.prototype.createTexture = function() {
                        var t, e;
                        return t = II1l0.createTexture(),
                        e = new THREE.Texture(t),
                        e.minFilter = THREE.LinearFilter,
                        e.needsUpdate = !0,
                        e
                    }
                    ,
                    t
                }(),
                this.l0100 = function() {
                    function t(t, e, i, s, l, n) {
                        this.lIIl1 = t,
                        this.seed = e,
                        this.OO0O1 = i,
                        this.radius = s,
                        this.level = null != l ? l : 0,
                        this.OIIOI = n,
                        this.random = new O1101(this.seed),
                        this.lOI10 = new THREE.Group,
                        this.moons = [],
                        0 === this.level ? (this.OIIOI.add(function(t) {
                            return function() {
                                return t.build1()
                            }
                        }(this)),
                        this.OIIOI.add(function(t) {
                            return function() {
                                return t.build2()
                            }
                        }(this)),
                        this.OIIOI.add(function(t) {
                            return function() {
                                return t.build3()
                            }
                        }(this)),
                        this.OIIOI.add(function(t) {
                            return function() {
                                return t.build4()
                            }
                        }(this))) : this.l0OII(),
                        this.smoothed = !1
                    }
                    return t.prototype.l0OII = function() {
                        return this.build1(),
                        this.build2(),
                        this.build3(),
                        this.build4()
                    }
                    ,
                    t.prototype.build1 = function() {
                        var t, e, i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f;
                        if (u = Math.max(1, Math.min(5, Math.round(Math.log(this.radius) / Math.log(2) + 1))),
                        this.lIIl1.is_mobile_app && (u = Math.max(1, u - 1)),
                        this.l0I1l = new THREE.IcosahedronGeometry(1,u),
                        this.lIIl1.is_app)
                            for (t = this.l0I1l.vertices[0].x - this.l0I1l.vertices[1].x,
                            e = this.l0I1l.vertices[0].y - this.l0I1l.vertices[1].y,
                            i = this.l0I1l.vertices[0].z - this.l0I1l.vertices[1].z,
                            d = Math.sqrt(t * t + e * e + i * i),
                            a = new OO0Ol(100),
                            o = new OO0Ol(200),
                            r = new OO0Ol(300),
                            p = 1 / d / 2,
                            c = 3 * d,
                            h = this.l0I1l.vertices,
                            s = 0,
                            l = h.length; s < l; s++)
                                I = h[s],
                                O = a.l10I1(I.x * p, I.y * p, I.z * p) - .5,
                                m = o.l10I1(I.x * p, I.y * p, I.z * p) - .5,
                                f = r.l10I1(I.x * p, I.y * p, I.z * p) - .5,
                                I.x += O * c,
                                I.y += m * c,
                                I.z += f * c,
                                n = 1 / Math.sqrt(I.x * I.x + I.y * I.y + I.z * I.z),
                                I.x *= n,
                                I.y *= n,
                                I.z *= n
                    }
                    ,
                    t.prototype.build2 = function() {
                        var t, e, i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g, y, v, b, w, x, k, E, _, z;
                        switch (this.I0I01 = new OO0Ol(this.random.next()),
                        this.broken = this.random.next() < .01 && 0 === this.level,
                        b = 2 + 10 * Math.pow(this.random.next(), 4),
                        w = 2 + 10 * Math.pow(this.random.next(), 4),
                        x = 2 + 10 * Math.pow(this.random.next(), 4),
                        t = this.lIO10 = .4 * Math.pow(this.random.next(), 2),
                        d = 2 + 8 * this.random.next(),
                        this.random.next() < .5 && (t *= -1,
                        this.random.next() < .1 && 0 === this.level && !this.broken && (this.volcanic = !0,
                        t = Math.min(-.1, t))),
                        this.random.ll1Il(2, 2)) {
                        case 0:
                            e = function(t) {
                                return function(e, i, s) {
                                    return t.I0I01.l10I1(e, i, s)
                                }
                            }(this);
                            break;
                        default:
                            e = function(t) {
                                return function(e, i, s) {
                                    return t.I0I01.lIll1(e, i, s)
                                }
                            }(this)
                        }
                        for (m = this.l0I1l.vertices,
                        s = 0,
                        a = m.length; s < a; s++)
                            k = m[s],
                            I = e(k.x * b, k.y * w, k.z * x),
                            k.relief = I,
                            I = 1 + Math.pow(I, d) * t,
                            k.x *= I,
                            k.y *= I,
                            k.z *= I;
                        if (this.broken) {
                            for (i = l = 0,
                            f = this.l0I1l.faces.length - 1; 0 <= f ? l <= f : l >= f; i = 0 <= f ? ++l : --l)
                                E = this.l0I1l.vertices[this.l0I1l.faces[i].a],
                                _ = this.l0I1l.vertices[this.l0I1l.faces[i].b],
                                z = this.l0I1l.vertices[this.l0I1l.faces[i].c],
                                c = Math.max(.3, Math.min(1, Math.pow(2.5 * this.I0I01.l10I1(.5 * E.x, .5 * E.y, .5 * E.z, 6), 4))),
                                p = Math.max(.3, Math.min(1, Math.pow(2.5 * this.I0I01.l10I1(.5 * _.x, .5 * _.y, .5 * _.z, 6), 4))),
                                O = Math.max(.3, Math.min(1, Math.pow(2.5 * this.I0I01.l10I1(.5 * z.x, .5 * z.y, .5 * z.z, 6), 4))),
                                this.l0I1l.faceVertexUvs[0][i] = [new THREE.Vector2(0,c), new THREE.Vector2(0,p), new THREE.Vector2(0,O)];
                            for (g = this.l0I1l.vertices,
                            n = 0,
                            o = g.length; n < o; n++)
                                k = g[n],
                                I = Math.max(.3, Math.min(1, Math.pow(2.5 * this.I0I01.l10I1(.5 * k.x, .5 * k.y, .5 * k.z, 6), 4))),
                                k.x *= I,
                                k.y *= I,
                                k.z *= I
                        }
                        if (this.volcanic)
                            for (i = h = 0,
                            y = this.l0I1l.faces.length - 1; 0 <= y ? h <= y : h >= y; i = 0 <= y ? ++h : --h)
                                E = this.l0I1l.vertices[this.l0I1l.faces[i].a],
                                _ = this.l0I1l.vertices[this.l0I1l.faces[i].b],
                                z = this.l0I1l.vertices[this.l0I1l.faces[i].c],
                                c = E.relief,
                                p = _.relief,
                                O = z.relief,
                                this.l0I1l.faceVertexUvs[0][i] = [new THREE.Vector2(0,c), new THREE.Vector2(0,p), new THREE.Vector2(0,O)];
                        if (this.l0I1l.computeFaceNormals(),
                        this.l0I1l.computeBoundingSphere(),
                        this.l0I1l.computeBoundingBox(),
                        this.smoothed)
                            this.l0I1l.computeVertexNormals();
                        else
                            for (v = this.l0I1l.faces,
                            u = 0,
                            r = v.length; u < r; u++)
                                e = v[u],
                                e.vertexNormals[0] = e.normal,
                                e.vertexNormals[1] = e.normal,
                                e.vertexNormals[2] = e.normal
                    }
                    ,
                    t.prototype.build3 = function() {
                        var t, e, i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g, y, v, b, w, x, k, E, _, z, M, T, S, R;
                        for (z = 1 + 10 * Math.pow(this.random.next(), 4),
                        M = 1 + 10 * Math.pow(this.random.next(), 4),
                        T = 1 + 10 * Math.pow(this.random.next(), 4),
                        this.I0I01 = new OO0Ol,
                        u = new Gradient,
                        R = 0,
                        _ = []; ; )
                            if (ll1I1.I0IOl(this.random.next(), .4 * Math.pow(this.random.next(), 2), .2 + .8 * Math.pow(this.random.next(), 2), _),
                            u.add([R, _[0], _[1], _[2]]),
                            (R += .25 * Math.pow(this.random.next(), 2)) > 1)
                                break;
                        switch (E = 1 - 0 * Math.pow(this.random.next(), 2),
                        this.random.ll1Il(2)) {
                        case 0:
                            h = function(t) {
                                return function(e, i, s) {
                                    return t.I0I01.l10I1(e, i, s)
                                }
                            }(this);
                            break;
                        default:
                            h = function(t) {
                                return function(e, i, s) {
                                    return t.I0I01.lIll1(e, i, s)
                                }
                            }(this)
                        }
                        if (this.broken && (I = new Gradient,
                        I.add([.4, 255, 255, 255]),
                        I.add([.5, 255, 255, 128]),
                        I.add([.65, 160, 32, 16]),
                        I.add([.8, 0, 0, 0]),
                        I.add([1, 0, 0, 0])),
                        this.computeAmbientLighting(),
                        this.broken)
                            for (w = this.l0I1l.faces,
                            p = 0,
                            f = w.length; p < f; p++)
                                r = w[p],
                                R = this.l0I1l.vertices[r.a],
                                t = Math.sqrt(R.x * R.x + R.y * R.y + R.z * R.z),
                                t < .9 ? a = I.getInt(t / .9) : (i = u.getInt(R.relief),
                                R = this.l0I1l.vertices[r.b],
                                s = u.getInt(R.relief),
                                R = this.l0I1l.vertices[r.c],
                                l = u.getInt(R.relief),
                                b = ((i >> 16 & 255) + (s >> 16 & 255) + (l >> 16 & 255)) / 3 | 0,
                                c = ((i >> 8 & 255) + (s >> 8 & 255) + (l >> 8 & 255)) / 3 | 0,
                                e = ((255 & i) + (255 & s) + (255 & l)) / 3 | 0,
                                a = b << 16 | c << 8 | e),
                                i = this.darkenColor(a, 1 - this.l0I1l.vertices[r.a].IOl1I),
                                s = this.darkenColor(a, 1 - this.l0I1l.vertices[r.b].IOl1I),
                                l = this.darkenColor(a, 1 - this.l0I1l.vertices[r.c].IOl1I),
                                r.vertexColors = [new THREE.Color(i), new THREE.Color(s), new THREE.Color(l)];
                        else if (this.smoothed)
                            for (x = this.l0I1l.faces,
                            O = 0,
                            g = x.length; O < g; O++)
                                r = x[O],
                                R = this.l0I1l.vertices[r.a],
                                v = h(R.x * z, R.y * M, R.z * T) * (1 - E) + R.relief * E,
                                i = u.getInt(v),
                                R = this.l0I1l.vertices[r.b],
                                v = h(R.x * z, R.y * M, R.z * T) * (1 - E) + R.relief * E,
                                s = u.getInt(v),
                                R = this.l0I1l.vertices[r.c],
                                v = h(R.x * z, R.y * M, R.z * T) * (1 - E) + R.relief * E,
                                l = u.getInt(v),
                                r.vertexColors = [new THREE.Color(i), new THREE.Color(s), new THREE.Color(l)];
                        else
                            for (k = this.l0I1l.faces,
                            m = 0,
                            y = k.length; m < y; m++)
                                r = k[m],
                                R = this.l0I1l.vertices[r.a],
                                i = u.getInt(R.relief),
                                R = this.l0I1l.vertices[r.b],
                                s = u.getInt(R.relief),
                                R = this.l0I1l.vertices[r.c],
                                l = u.getInt(R.relief),
                                b = ((i >> 16 & 255) + (s >> 16 & 255) + (l >> 16 & 255)) / 3 | 0,
                                c = ((i >> 8 & 255) + (s >> 8 & 255) + (l >> 8 & 255)) / 3 | 0,
                                e = ((255 & i) + (255 & s) + (255 & l)) / 3 | 0,
                                a = b << 16 | c << 8 | e,
                                i = this.darkenColor(a, 1 - this.l0I1l.vertices[r.a].IOl1I),
                                s = this.darkenColor(a, 1 - this.l0I1l.vertices[r.b].IOl1I),
                                l = this.darkenColor(a, 1 - this.l0I1l.vertices[r.c].IOl1I),
                                r.vertexColors = [new THREE.Color(i), new THREE.Color(s), new THREE.Color(l)];
                        return this.broken ? (n = document.createElement("canvas"),
                        n.width = 64,
                        n.height = 64,
                        o = n.getContext("2d"),
                        d = o.createLinearGradient(0, 0, 0, n.height),
                        d.addColorStop(1, "#FFF"),
                        d.addColorStop(.6, "#FF1"),
                        d.addColorStop(.3, "#F00"),
                        d.addColorStop(.1, "#000"),
                        d.addColorStop(0, "#000"),
                        o.fillStyle = d,
                        o.fillRect(0, 0, n.width, n.height),
                        S = new THREE.Texture(n),
                        S.needsUpdate = !0,
                        this.material = new THREE.MeshLambertMaterial({
                            color: 16777215,
                            vertexColors: THREE.VertexColors,
                            emissive: 16777215,
                            emissiveMap: S
                        })) : this.volcanic ? (n = document.createElement("canvas"),
                        n.width = 64,
                        n.height = 64,
                        o = n.getContext("2d"),
                        d = o.createLinearGradient(0, 0, 0, n.height),
                        d.addColorStop(0, "#FFF"),
                        d.addColorStop(.2, "#FF1"),
                        d.addColorStop(.3, "#F00"),
                        d.addColorStop(.4, "#000"),
                        d.addColorStop(1, "#000"),
                        o.fillStyle = d,
                        o.fillRect(0, 0, n.width, n.height),
                        S = new THREE.Texture(n),
                        S.needsUpdate = !0,
                        this.material = new THREE.MeshLambertMaterial({
                            color: 16777215,
                            vertexColors: THREE.VertexColors,
                            emissive: 16777215,
                            emissiveMap: S
                        })) : this.material = new THREE.MeshLambertMaterial({
                            color: 16777215,
                            vertexColors: THREE.VertexColors
                        })
                    }
                    ,
                    t.prototype.build4 = function() {
                        var e, i, s, l, n, a, o, r;
                        if (this.planet_group = new THREE.Group,
                        i = new THREE.BufferGeometry,
                        i.fromGeometry(this.l0I1l),
                        this.l0I1l = i,
                        this.ll00l = new THREE.Mesh(this.l0I1l,this.material),
                        this.lOI10.add(this.planet_group),
                        this.planet_group.add(this.ll00l),
                        this.ll00l.rotation.x = this.random.next() * (180 * THREE.Math.DEG2RAD) * 2,
                        this.ll00l.rotation.y = this.random.next() * (180 * THREE.Math.DEG2RAD) * 2,
                        this.planet_group.position.x = this.OO0O1,
                        0 === this.level && (this.lOI10.position.z = -50),
                        0 === this.level && (a = this.random.next(),
                        a < .1 ? (this.atm_height = 1.01 + this.lIO10 + .3 * this.random.next(),
                        this.atm = this.lO1lO(),
                        this.atm.scale.set(this.radius * this.atm_height, this.radius * this.atm_height, this.radius * this.atm_height),
                        this.planet_group.add(this.atm)) : a < .2 && (this.rings = this.createRings(),
                        this.rings.scale.set(4 * this.radius, 4 * this.radius, 4 * this.radius),
                        this.rings.rotation.set(this.random.next() * (180 * THREE.Math.DEG2RAD) * 2, this.random.next() * (180 * THREE.Math.DEG2RAD) * 2, this.random.next() * (180 * THREE.Math.DEG2RAD) * 2),
                        this.planet_group.add(this.rings))),
                        this.ll00l.scale.set(this.radius, this.radius, this.radius),
                        this.orbit_phase = 2 * this.random.next() * (180 * THREE.Math.DEG2RAD),
                        this.self_rotation_speed = .01 * (this.level + 1) * (1 + this.random.next()),
                        this.orbit_speed = .1 / this.OO0O1 * (1 + 3 * this.random.next()),
                        this.random.next() < .5 && (this.orbit_speed *= -1),
                        this.moons = [],
                        this.level < 2)
                            for (n = Math.floor(3 * Math.pow(this.random.next(), 4)),
                            s = 1,
                            r = n; s <= r; s += 1)
                                o = (.1 + .1 * this.random.next()) * this.radius,
                                e = this.radius + o + this.random.next() * this.radius,
                                l = new t(this.lIIl1,1 - this.random.next(),e,o,this.level + 1),
                                this.moons.push(l),
                                l.lOI10.rotation.x = this.random.next() * (180 * THREE.Math.DEG2RAD) * 2,
                                l.lOI10.rotation.y = this.random.next() * (180 * THREE.Math.DEG2RAD) * 2,
                                this.planet_group.add(l.lOI10)
                    }
                    ,
                    t.prototype.I0l0O = function(t, e, i) {
                        var s, l, n, a, o, r, h, u, d, I, c, p, O, m;
                        for (this.ll00l.rotation.z = t / 60 * (180 * THREE.Math.DEG2RAD) * 2 * this.self_rotation_speed,
                        0 === this.level ? (l = t / 60 * (180 * THREE.Math.DEG2RAD) * 2 * this.orbit_speed + this.orbit_phase,
                        p = Math.cos(l) * this.OO0O1,
                        O = Math.sin(l) * this.OO0O1,
                        e < p - this.lIIl1.OIl0I ? p -= this.lIIl1.size : e > p + this.lIIl1.OIl0I && (p += this.lIIl1.size),
                        i < O - this.lIIl1.OIl0I ? O -= this.lIIl1.size : i > O + this.lIIl1.OIl0I && (O += this.lIIl1.size),
                        this.planet_group.position.x = p,
                        this.planet_group.position.y = O,
                        null != this.atm && (m = this.lOI10.position.z,
                        n = 10,
                        d = p - e,
                        I = O - i,
                        c = m - n,
                        u = Math.sqrt(d * d + I * I + c * c),
                        d /= u,
                        I /= u,
                        c /= u,
                        s = Math.asin(d),
                        this.atm.rotation.y = -s / 2,
                        this.atm.rotation.x = Math.asin(I) / 2)) : this.lOI10.rotation.z = t / 60 * (180 * THREE.Math.DEG2RAD) * 2 * this.orbit_speed + this.orbit_phase,
                        h = this.moons,
                        a = 0,
                        o = h.length; a < o; a++)
                            r = h[a],
                            r.I0l0O(t)
                    }
                    ,
                    t.prototype.updateVisibility = function(t, e) {
                        var i, s, l, n;
                        for (this.planet_group.visible = e,
                        n = this.moons,
                        i = 0,
                        s = n.length; i < s; i++)
                            l = n[i],
                            l.lOI10.visible = t
                    }
                    ,
                    t.prototype.lO1lO = function() {
                        var t, e, i, s, l, n, a, o, r, h, u, d, I, c;
                        for (e = document.createElement("canvas"),
                        e.width = e.height = 512,
                        i = e.getContext("2d"),
                        i.translate(e.width / 2, e.height / 2),
                        i.scale(e.width / 2, e.height / 2),
                        u = Math.round(255 * this.random.next()),
                        l = Math.round(255 * this.random.next()),
                        t = Math.round(255 * this.random.next()),
                        n = i.createRadialGradient(0, 0, 0, 0, 0, 1),
                        n.addColorStop(0, "rgba(255,255,255,0)"),
                        n.addColorStop(1 / this.atm_height, "rgba(255,255,255,.5)"),
                        n.addColorStop(1, "rgba(" + u + "," + l + "," + t + ",0)"),
                        i.fillStyle = n,
                        i.arc(0, 0, 1, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                        i.fill(),
                        I = new THREE.Texture(e),
                        I.needsUpdate = !0,
                        h = new THREE.IcosahedronGeometry(1,3),
                        r = new THREE.MeshLambertMaterial({
                            map: I,
                            color: 16777215,
                            opacity: 1,
                            transparent: !0,
                            depthWrite: !1,
                            depthTest: !0,
                            blending: THREE.AdditiveBlending
                        }),
                        h.faceVertexUvs = [[]],
                        d = h.faces,
                        a = 0,
                        o = d.length; a < o; a++)
                            s = d[a],
                            c = [],
                            c[0] = new THREE.Vector2((h.vertices[s.a].x + 1) / 2,(h.vertices[s.a].y + 1) / 2),
                            c[1] = new THREE.Vector2((h.vertices[s.b].x + 1) / 2,(h.vertices[s.b].y + 1) / 2),
                            c[2] = new THREE.Vector2((h.vertices[s.c].x + 1) / 2,(h.vertices[s.c].y + 1) / 2),
                            h.faceVertexUvs[0].push(c);
                        return new THREE.Mesh(h,r)
                    }
                    ,
                    t.prototype.createRings = function() {
                        var t, e, i, s, l, n, a, o, r, h;
                        for (t = document.createElement("canvas"),
                        t.width = t.height = 512,
                        e = t.getContext("2d"),
                        e.translate(t.width / 2, t.height / 2),
                        e.scale(t.width / 2, t.height / 2),
                        i = e.createRadialGradient(0, 0, 0, 0, 0, 1),
                        i.addColorStop(0, "rgba(0,0,0,0)"),
                        r = o = .5 * this.random.next() + .5,
                        s = this.random.next() * (1 - o),
                        i.addColorStop(o, "rgba(255,255,255,0)"); ; ) {
                            if ((o += .1 * this.random.next() * s) > r + s)
                                break;
                            i.addColorStop(o, "hsla(" + this.random.ll1Il(360) + "," + (this.random.ll1Il(40) + 10) + "%," + (this.random.ll1Il(90) + 10) + "%," + (.9 * this.random.next() + .1) + ")")
                        }
                        return i.addColorStop(Math.min(1, o), "rgba(0,0,0,0)"),
                        e.fillStyle = i,
                        e.arc(0, 0, 1, 0, 180 * THREE.Math.DEG2RAD * 2, !0),
                        e.fill(),
                        h = new THREE.Texture(t),
                        h.needsUpdate = !0,
                        a = new THREE.PlaneGeometry(1,1),
                        l = new THREE.MeshLambertMaterial({
                            map: h,
                            emissiveMap: h,
                            emissive: 2105376,
                            color: 8421504,
                            opacity: 1,
                            side: THREE.DoubleSide,
                            transparent: !0,
                            depthWrite: !1,
                            depthTest: !0,
                            blending: THREE.AdditiveBlending
                        }),
                        n = new THREE.Mesh(a,l),
                        n.position.z = .001,
                        n
                    }
                    ,
                    t.prototype.computeAmbientLighting = function() {
                        var t, e, i, s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g, y, v, b, w, x, k, E, _, z;
                        for (w = this.l0I1l.vertices,
                        u = 0,
                        c = w.length; u < c; u++)
                            z = w[u],
                            z.segments = [],
                            z.IOl1I = 1;
                        if (this.lIIl1.is_app) {
                            for (E = {},
                            _ = [],
                            b = function(t, e, i, s) {
                                var l, n;
                                return l = Math.min(t, e) + "-" + Math.max(t, e),
                                null == E[l] ? (n = {
                                    llIl1: t,
                                    v2: e,
                                    f1: s,
                                    opp1: i
                                },
                                E[l] = n,
                                _.push(n)) : (E[l].f2 = s,
                                E[l].opp2 = i)
                            }
                            ,
                            x = this.l0I1l.faces,
                            d = 0,
                            p = x.length; d < p; d++)
                                h = x[d],
                                b(h.a, h.b, h.c, h),
                                b(h.a, h.c, h.b, h),
                                b(h.b, h.c, h.a, h);
                            for (I = 0,
                            O = _.length; I < O; I++)
                                k = _[I],
                                f = k.f1.normal,
                                t = (this.l0I1l.vertices[k.f1.a].x + this.l0I1l.vertices[k.f1.b].x + this.l0I1l.vertices[k.f1.c].x) / 3,
                                e = (this.l0I1l.vertices[k.f1.a].y + this.l0I1l.vertices[k.f1.b].y + this.l0I1l.vertices[k.f1.c].y) / 3,
                                i = (this.l0I1l.vertices[k.f1.a].z + this.l0I1l.vertices[k.f1.b].z + this.l0I1l.vertices[k.f1.c].z) / 3,
                                s = (this.l0I1l.vertices[k.f2.a].x + this.l0I1l.vertices[k.f2.b].x + this.l0I1l.vertices[k.f2.c].x) / 3,
                                l = (this.l0I1l.vertices[k.f2.a].y + this.l0I1l.vertices[k.f2.b].y + this.l0I1l.vertices[k.f2.c].y) / 3,
                                n = (this.l0I1l.vertices[k.f2.a].z + this.l0I1l.vertices[k.f2.b].z + this.l0I1l.vertices[k.f2.c].z) / 3,
                                a = s - t,
                                o = l - e,
                                r = n - i,
                                (v = f.x * a + f.y * o + f.z * r) > 0 && (g = k.f1.normal,
                                y = k.f2.normal,
                                v = Math.max(-1, Math.min(1, g.x * y.x + g.y * y.y + g.z * y.z)),
                                m = 1 - Math.acos(v) / (180 * THREE.Math.DEG2RAD),
                                this.l0I1l.vertices[k.llIl1].IOl1I *= m,
                                this.l0I1l.vertices[k.v2].IOl1I *= m)
                        }
                    }
                    ,
                    t.prototype.darkenColor = function(t, e) {
                        var i, s, l, n;
                        return s = Math.min(1, Math.max(0, 1 - e)),
                        n = (t >> 16 & 255) * s,
                        l = (t >> 8 & 255) * s,
                        i = (255 & t) * s,
                        n << 16 | l << 8 | i
                    }
                    ,
                    t
                }(),
                this.Stars = function() {
                    function t(t, e) {
                        var i, s, l, n, a;
                        for (this.size = null != t ? t : 500,
                        this.welcome = e,
                        this.geometry = new THREE.BufferGeometry,
                        this.geometry.IO000 = new THREE.Box3(new THREE.Vector3(-2e4,-2e4,-2e4),new THREE.Vector3(2e4,2e4,2e4)),
                        this.geometry.boundingSphere = new THREE.Sphere(new THREE.Vector3(0,0,0),4e4),
                        this.vertices = new Float32Array(3 * this.size),
                        this.OI0lI = new Float32Array(this.size),
                        this.opac = new Float32Array(this.size),
                        this.vcolor = new Float32Array(3 * this.size),
                        this.startype = new Float32Array(this.size),
                        this.amplitude = new Float32Array(this.size),
                        this.O0OlO = new Float32Array(this.size),
                        this.index = 0,
                        this.Oll10 = Date.now(),
                        l = n = 0,
                        a = this.size - 1; n <= a; l = n += 1)
                            this.vertices[3 * l] = 350 * (Math.random() - .5),
                            this.vertices[3 * l + 1] = 350 * (Math.random() - .5),
                            this.vertices[3 * l + 2] = 0,
                            this.OI0lI[l] = Math.round(4 + 10 * Math.random()),
                            this.opac[l] = .7 * Math.random() + .3,
                            this.O0OlO[l] = 4 * Math.pow(Math.random(), 2) + 1,
                            this.amplitude[l] = .2 * Math.pow(Math.random(), 1),
                            this.startype[l] = Math.floor(5 * Math.random()),
                            s = (240 * Math.random() + 180) % 360,
                            i = ll1I1.hsvToRgbHex(s / 360, .2, 1),
                            this.vcolor[3 * l] = (i >> 16 & 255) / 255,
                            this.vcolor[3 * l + 1] = (i >> 8 & 255) / 255,
                            this.vcolor[3 * l + 2] = (255 & i) / 255;
                        this.O0O00()
                    }
                    return t.prototype.O0O00 = function() {
                        var t, e, i, s, l;
                        return l = "attribute float OI0lI;\nuniform vec2 lI1I0;\nuniform float OI1I1;\nattribute float opac ;\nattribute vec3 vcolor ;\nattribute float amplitude ;\nattribute float O0OlO ;\nattribute float startype ;\nvarying float opacity ;\nvarying vec3 lO10l ;\nuniform float time ;\nvarying float stype ;\n\nvoid main() {\n  vec3 lIOIl = vec3(lI1I0*OI0lI" + (this.welcome ? "*OI0lI*.25" : "") + ",0.0)+position;\n  lIOIl.xy = mod(lIOIl.xy,350.0)-175.0;\n  vec4 mvPosition = modelViewMatrix * vec4(lIOIl, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = OI0lI*OI1I1*(1.0+amplitude+amplitude*sin(time*O0OlO));\n  opacity = opac;//*(1.0-amplitude+amplitude*sin(time*O0OlO)) ;\n  lO10l = vcolor ;\n  stype = startype ;\n}",
                        i = "uniform sampler2D texture;\nvarying float opacity ;\nvarying vec3 lO10l ;\nvarying float stype ;\n\nvoid main() {\n  gl_FragColor = texture2D(texture,(gl_PointCoord+vec2(stype,0.0))*vec2(.125,1.0));\n  gl_FragColor.w *= opacity ;\n  gl_FragColor.xyz *= lO10l ;\n}",
                        t = document.createElement("canvas"),
                        t.width = 256,
                        t.height = 32,
                        e = t.getContext("2d"),
                        e.translate(t.width / 16, t.height / 2),
                        e.scale(t.width / 16, t.height / 2),
                        this.drawStarBody(e, 1),
                        e.translate(2, 0),
                        this.drawStarBody(e, .5),
                        this.drawStarLine(e),
                        e.rotate(180 * THREE.Math.DEG2RAD / 2),
                        this.drawStarLine(e),
                        e.rotate(-180 * THREE.Math.DEG2RAD / 2),
                        e.translate(2, 0),
                        e.rotate(180 * THREE.Math.DEG2RAD / 4),
                        this.drawStarBody(e, .5),
                        this.drawStarLine(e),
                        e.rotate(180 * THREE.Math.DEG2RAD / 2),
                        this.drawStarLine(e),
                        e.rotate(180 * THREE.Math.DEG2RAD * -3 / 4),
                        this.drawStarGlow(e),
                        e.translate(2, 0),
                        this.drawStarBody(e, .75),
                        e.rotate(180 * THREE.Math.DEG2RAD / 2),
                        this.drawStarLine(e),
                        e.rotate(-180 * THREE.Math.DEG2RAD / 2),
                        this.drawStarGlow(e),
                        e.translate(2, 0),
                        this.drawStarBody(e, .75),
                        e.rotate(180 * THREE.Math.DEG2RAD / 2),
                        this.drawStarLine(e),
                        e.rotate(-180 * THREE.Math.DEG2RAD / 2),
                        s = new THREE.Texture(t),
                        Math.max(window.innerWidth, window.innerHeight) * window.devicePixelRatio > 1200 && (s.minFilter = s.magFilter = THREE.LinearFilter),
                        s.needsUpdate = !0,
                        this.lI1I0 = new THREE.Vector2(0,0),
                        this.uniforms = {
                            texture: {
                                type: "t",
                                value: s
                            },
                            lI1I0: {
                                type: "v2",
                                value: this.lI1I0
                            },
                            OI1I1: {
                                type: "f",
                                value: Math.max(400, Math.min(window.innerHeight, window.innerWidth)) / 1e3
                            },
                            time: {
                                type: "f",
                                value: 0
                            }
                        },
                        this.material = new THREE.ShaderMaterial({
                            uniforms: this.uniforms,
                            vertexShader: l,
                            fragmentShader: i,
                            transparent: !0,
                            depthWrite: !1,
                            depthTest: !0,
                            blending: THREE.AdditiveBlending
                        }),
                        this.geometry.addAttribute("position", new THREE.BufferAttribute(this.vertices,3)),
                        this.geometry.addAttribute("OI0lI", new THREE.BufferAttribute(this.OI0lI,1)),
                        this.geometry.addAttribute("opac", new THREE.BufferAttribute(this.opac,1)),
                        this.geometry.addAttribute("startype", new THREE.BufferAttribute(this.startype,1)),
                        this.geometry.addAttribute("amplitude", new THREE.BufferAttribute(this.amplitude,1)),
                        this.geometry.addAttribute("O0OlO", new THREE.BufferAttribute(this.O0OlO,1)),
                        this.geometry.addAttribute("vcolor", new THREE.BufferAttribute(this.vcolor,3)),
                        this.IIOO1 = new THREE.Points(this.geometry,this.material),
                        this.IIOO1.position.z = -100
                    }
                    ,
                    t.prototype.O100I = function(t, e) {
                        return this.uniforms.OI1I1.value = Math.max(400, Math.min(t, e)) / 1e3
                    }
                    ,
                    t.prototype.I0l0O = function(t, e, i) {
                        return this.lI1I0.set(t, e),
                        this.uniforms.time.value = i
                    }
                    ,
                    t.prototype.drawStarBody = function(t, e) {
                        var i;
                        return i = t.createRadialGradient(0, 0, 0, 0, 0, 1),
                        i.addColorStop(0, "rgba(255,255,255," + e + ")"),
                        i.addColorStop(.2, "rgba(255,255,255," + e + ")"),
                        i.addColorStop(.21, "rgba(255,255,255,.1)"),
                        i.addColorStop(1, "rgba(255,255,255,0)"),
                        t.fillStyle = i,
                        t.fillRect(-1, -1, 2, 2)
                    }
                    ,
                    t.prototype.drawStarLine = function(t) {
                        var e;
                        return e = t.createLinearGradient(0, -1, 0, 1),
                        e.addColorStop(0, "rgba(255,255,255,0)"),
                        e.addColorStop(.5, "rgba(255,255,255,.5)"),
                        e.addColorStop(1, "rgba(255,255,255,0)"),
                        t.fillStyle = e,
                        t.beginPath(),
                        t.moveTo(0, -1),
                        t.lineTo(.1, 0),
                        t.lineTo(0, 1),
                        t.lineTo(-.1, 0),
                        t.closePath(),
                        t.fill()
                    }
                    ,
                    t.prototype.drawStarGlow = function(t) {
                        var e;
                        return e = t.createRadialGradient(0, 0, 0, 0, 0, 1),
                        e.addColorStop(0, "rgba(255,255,255,0)"),
                        e.addColorStop(.2, "rgba(255,255,255,0)"),
                        e.addColorStop(.5, "rgba(255,255,255,.1)"),
                        e.addColorStop(.8, "rgba(255,255,255,0)"),
                        t.fillStyle = e,
                        t.fillRect(-1, -1, 2, 2)
                    }
                    ,
                    t
                }(),
                this.Galaxy = function() {
                    function t(t) {
                        var e, i, s, l, n, a, o, r, h, u, d, I, c, p, O;
                        for (this.seed = t,
                        this.random = new O1101(this.seed),
                        this.width = 60 + 60 * Math.pow(this.random.next(), 1),
                        this.size = Math.round(1e3 * Math.pow(this.width / 25, 2)),
                        this.geometry = new THREE.BufferGeometry,
                        this.geometry.IO000 = new THREE.Box3(new THREE.Vector3(-1.5,-1.5,-1.5),new THREE.Vector3(1.5,1.5,1.5)),
                        this.geometry.boundingSphere = new THREE.Sphere(new THREE.Vector3(0,0,0),1.5),
                        this.vertices = new Float32Array(3 * this.size),
                        this.color = new Float32Array(3 * this.size),
                        this.OI0lI = new Float32Array(this.size),
                        this.expo = new Float32Array(this.size),
                        this.index = 0,
                        this.Oll10 = Date.now(),
                        i = 2 + this.random.ll1Il(4),
                        l = .1 * (.5 * this.random.next() + .75),
                        p = .5 + 1 * this.random.next(),
                        l *= 2 * (2.5 - p) / 2 * 2 / i,
                        r = new Gradient,
                        r.add([0, 255, 255, 255]),
                        r.add([.25, 255, 192, 96]),
                        r.add([.4, 255, 128, 32]),
                        r.add([.7, 192, 224, 255]),
                        r.add([1, 128, 192, 255]),
                        d = new OO0Ol(this.random.next()),
                        h = u = 0,
                        c = this.size - 1; u <= c; h = u += 1)
                            O = Math.pow(h / this.size, 1),
                            e = O * (180 * THREE.Math.DEG2RAD) * 2 * p + h % i * (180 * THREE.Math.DEG2RAD) * 2 / i,
                            I = O,
                            this.vertices[3 * h] = I * Math.cos(e),
                            this.vertices[3 * h + 1] = I * Math.sin(e),
                            this.vertices[3 * h + 2] = 0,
                            n = 2 * (this.random.next() - .5),
                            a = 2 * (this.random.next() - .5),
                            o = 2 * (this.random.next() - .5),
                            n = n < 0 ? -Math.pow(-n, 2) : Math.pow(n, 2),
                            a = a < 0 ? -Math.pow(-a, 2) : Math.pow(a, 2),
                            o = o < 0 ? -Math.pow(-o, 2) : Math.pow(o, 2),
                            this.vertices[3 * h] += n * l * (1 + 2 * Math.abs(O - .5)) * .5,
                            this.vertices[3 * h + 1] += a * l * (1 + 2 * Math.abs(O - .5)) * .5,
                            this.vertices[3 * h + 2] += o * l * 4 * Math.pow(1 - O, 2) * .5,
                            this.vertices[3 * h] += .2 * (d.l10I1(2 * this.vertices[3 * h], 2 * this.vertices[3 * h + 1], 2 * this.vertices[3 * h + 2], 5, .6) - .5),
                            this.vertices[3 * h + 1] += .2 * (d.l10I1(10 + 2 * this.vertices[3 * h], 2 * this.vertices[3 * h + 1], 2 * this.vertices[3 * h + 2], 5, .6) - .5),
                            this.vertices[3 * h + 2] += .2 * (d.l10I1(20 + 2 * this.vertices[3 * h], 2 * this.vertices[3 * h + 1], 2 * this.vertices[3 * h + 2], 5, .6) - .5),
                            s = r.get(O),
                            this.color[3 * h] = s[0] / 255,
                            this.color[3 * h + 1] = s[1] / 255,
                            this.color[3 * h + 2] = s[2] / 255,
                            this.OI0lI[h] = 2 - O,
                            this.expo[h] = 2 + 4 * Math.pow(this.random.next(), .25),
                            h < 5 ? (this.OI0lI[h] *= Math.sqrt(this.width),
                            this.vertices[3 * h] = .2 * (this.random.next() - .5),
                            this.vertices[3 * h + 1] = .2 * (this.random.next() - .5),
                            this.vertices[3 * h + 2] = .2 * (this.random.next() - .5)) : this.random.next() < .02 && (this.OI0lI[h] *= Math.sqrt(this.width));
                        this.O0O00(),
                        this.OOO1O = (2e5 + 2e5 * this.random.next()) * this.width / 25,
                        this.psize_ref = 7
                    }
                    return t.prototype.I0l0O = function(t, e, i) {
                        return this.material.uniforms.OIll0.value = Math.min(e, i) / 1e3 * this.psize_ref,
                        t *= 1e3 / 60,
                        this.IIOO1.rotation.z = -t / this.OOO1O % this.OOO1O * 2 * (180 * THREE.Math.DEG2RAD)
                    }
                    ,
                    t.prototype.O0O00 = function() {
                        var t, e, i;
                        return i = "uniform float OIll0;\nattribute vec3 color ;\nattribute float OI0lI ;\nattribute float expo ;\nvarying vec3 lO10l ;\nvarying float pexpo;\n\nvoid main() {\n  vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n  gl_Position = projectionMatrix * mvPosition ;\n  gl_PointSize = OIll0*OI0lI ;\n  lO10l = color ;\n  pexpo = expo ;\n}",
                        t = "varying vec3 lO10l ;\nvarying float pexpo ;\n\nvoid main() {\n  vec2 d = (gl_PointCoord-vec2(.5,.5))*2.0 ;\n  float r = pow(1.0-length(d),pexpo);\n  gl_FragColor = vec4(lO10l,r*.1);\n}",
                        e = {
                            OIll0: {
                                type: "f",
                                value: 6
                            }
                        },
                        this.material = new THREE.ShaderMaterial({
                            uniforms: e,
                            vertexShader: i,
                            fragmentShader: t,
                            transparent: !0,
                            depthWrite: !1,
                            depthTest: !0,
                            blending: THREE.AdditiveBlending
                        }),
                        this.geometry.addAttribute("position", new THREE.BufferAttribute(this.vertices,3)),
                        this.geometry.addAttribute("color", new THREE.BufferAttribute(this.color,3)),
                        this.geometry.addAttribute("OI0lI", new THREE.BufferAttribute(this.OI0lI,1)),
                        this.geometry.addAttribute("expo", new THREE.BufferAttribute(this.expo,1)),
                        this.IIOO1 = new THREE.Points(this.geometry,this.material),
                        this.IIOO1.rotation.order = "XYZ",
                        this.IIOO1.scale.set(this.width, this.width, this.width),
                        this.IIOO1.rotation.x = 180 * THREE.Math.DEG2RAD * 2 * this.random.next(),
                        this.IIOO1.rotation.y = 180 * THREE.Math.DEG2RAD * 2 * this.random.next()
                    }
                    ,
                    t
                }(),
                this.I0O1l = function() {
                    function t(e, i) {
                        var s, l, n, a, o, r, h, u, d, I, c, p, O, m, f, g, y;
                        if (this.lIIl1 = e,
                        this.random = i,
                        this.l0I1l = new THREE.PlaneGeometry(1,1),
                        this.time_offset = this.random.ll1Il(3e4),
                        null == t.texture) {
                            for (s = document.createElement("canvas"),
                            s.width = 128,
                            s.height = 128,
                            l = s.getContext("2d"),
                            n = l.getImageData(0, 0, s.width, s.height),
                            p = new OO0Ol,
                            a = r = 0,
                            O = s.width - 1; 0 <= O ? r <= O : r >= O; a = 0 <= O ? ++r : --r)
                                for (o = h = 0,
                                m = s.height - 1; 0 <= m ? h <= m : h >= m; o = 0 <= m ? ++h : --h)
                                    g = a / s.width * 16,
                                    y = o / s.height * 16,
                                    d = 255 * p.IIOII(g, y, 8),
                                    I = 255 * p.IIOII(g + 5, y + 3, 8),
                                    c = 255 * p.IIOII(g + 2, y + 7, 8),
                                    n.data[4 * a + o * s.width * 4] = d,
                                    n.data[4 * a + o * s.width * 4 + 1] = I,
                                    n.data[4 * a + o * s.width * 4 + 2] = c,
                                    n.data[4 * a + o * s.width * 4 + 3] = 255;
                            l.putImageData(n, 0, 0),
                            f = new THREE.Texture(s),
                            f.wrapS = f.wrapT = THREE.RepeatWrapping,
                            f.minFilter = THREE.LinearFilter,
                            f.maxFilter = THREE.LinearFilter,
                            f.needsUpdate = !0,
                            t.texture = f
                        }
                        this.r = 4 * this.random.next() + 1,
                        this.g = 4 * this.random.next() + 1,
                        this.b = 4 * this.random.next() + 1,
                        u = Math.max(this.r, this.g, this.b),
